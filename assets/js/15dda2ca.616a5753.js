"use strict";(self.webpackChunkseatunnel_website=self.webpackChunkseatunnel_website||[]).push([[28388],{15680:(e,n,t)=>{t.d(n,{xA:()=>u,yg:()=>m});var o=t(96540);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=o.createContext({}),c=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},u=function(e){var n=c(e.components);return o.createElement(s.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},g=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=c(t),g=a,m=p["".concat(s,".").concat(g)]||p[g]||d[g]||l;return t?o.createElement(m,r(r({ref:n},u),{},{components:t})):o.createElement(m,r({ref:n},u))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,r=new Array(l);r[0]=g;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[p]="string"==typeof e?e:a,r[1]=i;for(var c=2;c<l;c++)r[c]=t[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}g.displayName="MDXCreateElement"},19912:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var o=t(58168),a=(t(96540),t(15680));const l={sidebar_position:2},r="Quick Start With SeaTunnel Engine",i={unversionedId:"start-v2/locally/quick-start-seatunnel-engine",id:"start-v2/locally/quick-start-seatunnel-engine",title:"Quick Start With SeaTunnel Engine",description:"Step 1: Deploy SeaTunnel And Connectors",source:"@site/docs/start-v2/locally/quick-start-seatunnel-engine.md",sourceDirName:"start-v2/locally",slug:"/start-v2/locally/quick-start-seatunnel-engine",permalink:"/docs/start-v2/locally/quick-start-seatunnel-engine",draft:!1,editUrl:"https://github.com/apache/seatunnel-website/edit/main/docs/start-v2/locally/quick-start-seatunnel-engine.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docs",previous:{title:"Deployment",permalink:"/docs/start-v2/locally/deployment"},next:{title:"Quick Start With Flink",permalink:"/docs/start-v2/locally/quick-start-flink"}},s={},c=[{value:"Step 1: Deploy SeaTunnel And Connectors",id:"step-1-deploy-seatunnel-and-connectors",level:2},{value:"Step 2: Add Job Config File To Define A Job",id:"step-2-add-job-config-file-to-define-a-job",level:2},{value:"Step 3: Run SeaTunnel Application",id:"step-3-run-seatunnel-application",level:2},{value:"Extended Example: Batch Mode from MySQL to Doris",id:"extended-example-batch-mode-from-mysql-to-doris",level:2},{value:"Step 1: Download the Connector",id:"step-1-download-the-connector",level:3},{value:"Step 2: Place the MySQL Driver",id:"step-2-place-the-mysql-driver",level:3},{value:"Step 3: Add Job Configuration File to Define the Job",id:"step-3-add-job-configuration-file-to-define-the-job",level:3},{value:"Step 4: Run the SeaTunnel Application",id:"step-4-run-the-seatunnel-application",level:3},{value:"What&#39;s More",id:"whats-more",level:2}],u={toc:c},p="wrapper";function d(e){let{components:n,...t}=e;return(0,a.yg)(p,(0,o.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"quick-start-with-seatunnel-engine"},"Quick Start With SeaTunnel Engine"),(0,a.yg)("h2",{id:"step-1-deploy-seatunnel-and-connectors"},"Step 1: Deploy SeaTunnel And Connectors"),(0,a.yg)("p",null,"Before starting, make sure you have downloaded and deployed SeaTunnel as described in ",(0,a.yg)("a",{parentName:"p",href:"/docs/start-v2/locally/deployment"},"Deployment")),(0,a.yg)("h2",{id:"step-2-add-job-config-file-to-define-a-job"},"Step 2: Add Job Config File To Define A Job"),(0,a.yg)("p",null,"Edit ",(0,a.yg)("inlineCode",{parentName:"p"},"config/v2.batch.config.template"),", which determines the way and logic of data input, processing, and output after seatunnel is started.\nThe following is an example of the configuration file, which is the same as the example application mentioned above."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-hocon"},'env {\n  parallelism = 1\n  job.mode = "BATCH"\n}\n\nsource {\n  FakeSource {\n    plugin_output = "fake"\n    row.num = 16\n    schema = {\n      fields {\n        name = "string"\n        age = "int"\n      }\n    }\n  }\n}\n\ntransform {\n  FieldMapper {\n    plugin_input = "fake"\n    plugin_output = "fake1"\n    field_mapper = {\n      age = age\n      name = new_name\n    }\n  }\n}\n\nsink {\n  Console {\n    plugin_input = "fake1"\n  }\n}\n\n')),(0,a.yg)("p",null,"More information can be found in ",(0,a.yg)("a",{parentName:"p",href:"/docs/concept/config"},"Config Concept")),(0,a.yg)("h2",{id:"step-3-run-seatunnel-application"},"Step 3: Run SeaTunnel Application"),(0,a.yg)("p",null,"You could start the application by the following commands:"),(0,a.yg)("admonition",{type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"Starting from version 2.3.1, the parameter -e in seatunnel.sh is deprecated, use -m instead.")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},'cd "apache-seatunnel-${version}"\n./bin/seatunnel.sh --config ./config/v2.batch.config.template -m local\n\n')),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"See The Output"),": When you run the command, you can see its output in your console. This\nis a sign to determine whether the command ran successfully or not."),(0,a.yg)("p",null,"The SeaTunnel console will print some logs as below:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"2022-12-19 11:01:45,417 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - output rowType: name<STRING>, age<INT>\n2022-12-19 11:01:46,489 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=1:  SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: CpiOd, 8520946\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=2: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: eQqTs, 1256802974\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=3: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: UsRgO, 2053193072\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=4: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: jDQJj, 1993016602\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=5: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: rqdKp, 1392682764\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=6: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: wCoWN, 986999925\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=7: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: qomTU, 72775247\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=8: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: jcqXR, 1074529204\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=9: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: AkWIO, 1961723427\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=10: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: hBoib, 929089763\n2022-12-19 11:01:46,490 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=11: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: GSvzm, 827085798\n2022-12-19 11:01:46,491 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=12: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: NNAYI, 94307133\n2022-12-19 11:01:46,491 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=13: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: EexFl, 1823689599\n2022-12-19 11:01:46,491 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=14: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: CBXUb, 869582787\n2022-12-19 11:01:46,491 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=15: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: Wbxtm, 1469371353\n2022-12-19 11:01:46,491 INFO  org.apache.seatunnel.connectors.seatunnel.console.sink.ConsoleSinkWriter - subtaskIndex=0 rowIndex=16: SeaTunnelRow#tableId=-1 SeaTunnelRow#kind=INSERT: mIJDt, 995616438\n")),(0,a.yg)("h2",{id:"extended-example-batch-mode-from-mysql-to-doris"},"Extended Example: Batch Mode from MySQL to Doris"),(0,a.yg)("h3",{id:"step-1-download-the-connector"},"Step 1: Download the Connector"),(0,a.yg)("p",null,"First, you need to add the connector name to the ",(0,a.yg)("inlineCode",{parentName:"p"},"${SEATUNNEL_HOME}/config/plugin_config")," file. Then, execute the command to install the connector (of course, you can also manually download the connector from the ",(0,a.yg)("a",{parentName:"p",href:"https://repo.maven.apache.org/maven2/org/apache/seatunnel/"},"Apache Maven Repository")," and move it to the ",(0,a.yg)("inlineCode",{parentName:"p"},"connectors/")," directory). Finally, make sure that the ",(0,a.yg)("inlineCode",{parentName:"p"},"connector-jdbc")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"connector-doris")," connectors are in the ",(0,a.yg)("inlineCode",{parentName:"p"},"${SEATUNNEL_HOME}/connectors/")," directory."),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"# Configure the connector name.\n--seatunnel-connectors--\nconnector-jdbc\nconnector-doris\n--end--\n")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},"# Install the connector.\nsh bin/install-plugin.sh\n")),(0,a.yg)("h3",{id:"step-2-place-the-mysql-driver"},"Step 2: Place the MySQL Driver"),(0,a.yg)("p",null,"You need to download the ",(0,a.yg)("a",{parentName:"p",href:"https://mvnrepository.com/artifact/mysql/mysql-connector-java"},"JDBC driver JAR package")," and place it in the ",(0,a.yg)("inlineCode",{parentName:"p"},"${SEATUNNEL_HOME}/lib/")," directory."),(0,a.yg)("h3",{id:"step-3-add-job-configuration-file-to-define-the-job"},"Step 3: Add Job Configuration File to Define the Job"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-bash"},'cd seatunnel/job/\n\nvim st.conf\n\nenv {\n  parallelism = 2\n  job.mode = "BATCH"\n}\nsource {\n    Jdbc {\n        url = "jdbc:mysql://localhost:3306/test"\n        driver = "com.mysql.cj.jdbc.Driver"\n        connection_check_timeout_sec = 100\n        user = "user"\n        password = "pwd"\n        table_path = "test.table_name"\n        query = "select  * from test.table_name"\n    }\n}\n\nsink {\n   Doris {\n          fenodes = "doris_ip:8030"\n          username = "user"\n          password = "pwd"\n          database = "test_db"\n          table = "table_name"\n          sink.enable-2pc = "true"\n          sink.label-prefix = "test-cdc"\n          doris.config = {\n            format = "json"\n            read_json_by_line="true"\n          }\n      }\n}\n')),(0,a.yg)("p",null,"For more information about the configuration, please refer to ",(0,a.yg)("a",{parentName:"p",href:"/docs/concept/config"},"Basic Concepts of Configuration"),"."),(0,a.yg)("h3",{id:"step-4-run-the-seatunnel-application"},"Step 4: Run the SeaTunnel Application"),(0,a.yg)("p",null,"You can start the application using the following command:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"cd seatunnel/\n./bin/seatunnel.sh --config ./job/st.conf -m local\n\n")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Check the Output"),": When you run the command, you can see its output in the console. You can consider this as an indicator of whether the command has succeeded or failed."),(0,a.yg)("p",null,"The SeaTunnel console will print some log information like the following:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-shell"},"***********************************************\n           Job Statistic Information\n***********************************************\nStart Time                : 2024-08-13 10:21:49\nEnd Time                  : 2024-08-13 10:21:53\nTotal Time(s)             :                   4\nTotal Read Count          :                1000\nTotal Write Count         :                1000\nTotal Failed Count        :                   0\n***********************************************\n")),(0,a.yg)("admonition",{type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"If you want to optimize your job, refer to the connector documentation for ",(0,a.yg)("a",{parentName:"p",href:"/docs/connector-v2/source/Mysql"},"Source-MySQL")," and ",(0,a.yg)("a",{parentName:"p",href:"/docs/connector-v2/sink/Doris"},"Sink-Doris"),".")),(0,a.yg)("h2",{id:"whats-more"},"What's More"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"Start write your own config file now, choose the ",(0,a.yg)("a",{parentName:"li",href:"../../connector-v2/source"},"connector")," you want to use, and configure the parameters according to the connector's documentation."),(0,a.yg)("li",{parentName:"ul"},"See ",(0,a.yg)("a",{parentName:"li",href:"/docs/seatunnel-engine/about"},"SeaTunnel Engine(Zeta)")," if you want to know more about SeaTunnel Engine. Here you will learn how to deploy SeaTunnel Engine and how to use it in cluster mode.")))}d.isMDXComponent=!0}}]);