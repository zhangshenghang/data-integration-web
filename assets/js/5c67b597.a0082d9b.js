"use strict";(self.webpackChunkseatunnel_website=self.webpackChunkseatunnel_website||[]).push([[21937],{15680:(e,a,n)=>{n.d(a,{xA:()=>m,yg:()=>y});var t=n(96540);function l(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){l(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function o(e,a){if(null==e)return{};var n,t,l=function(e,a){if(null==e)return{};var n,t,l={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(l[n]=e[n]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var u=t.createContext({}),d=function(e){var a=t.useContext(u),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},m=function(e){var a=d(e.components);return t.createElement(u.Provider,{value:a},e.children)},p="mdxType",s={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},g=t.forwardRef((function(e,a){var n=e.components,l=e.mdxType,r=e.originalType,u=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),p=d(n),g=l,y=p["".concat(u,".").concat(g)]||p[g]||s[g]||r;return n?t.createElement(y,i(i({ref:a},m),{},{components:n})):t.createElement(y,i({ref:a},m))}));function y(e,a){var n=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=g;var o={};for(var u in a)hasOwnProperty.call(a,u)&&(o[u]=a[u]);o.originalType=e,o[p]="string"==typeof e?e:l,i[1]=o;for(var d=2;d<r;d++)i[d]=n[d];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}g.displayName="MDXCreateElement"},45069:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>u,contentTitle:()=>i,default:()=>s,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var t=n(58168),l=(n(96540),n(15680));const r={},i="DataValidator",o={unversionedId:"transform-v2/data-validator",id:"transform-v2/data-validator",title:"DataValidator",description:"Data validation transform plugin",source:"@site/docs/transform-v2/data-validator.md",sourceDirName:"transform-v2",slug:"/transform-v2/data-validator",permalink:"/docs/transform-v2/data-validator",draft:!1,editUrl:"https://github.com/apache/seatunnel-website/edit/main/docs/transform-v2/data-validator.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Copy",permalink:"/docs/transform-v2/copy"},next:{title:"Define Sink Type",permalink:"/docs/transform-v2/define-sink-type"}},u={},d=[{value:"Description",id:"description",level:2},{value:"Options",id:"options",level:2},{value:"row_error_handle_way enum",id:"row_error_handle_way-enum",level:3},{value:"row_error_handle_way.error_table string",id:"row_error_handle_wayerror_table-string",level:3},{value:"Error Table Schema",id:"error-table-schema",level:4},{value:"field_rules array",id:"field_rules-array",level:3},{value:"Field Rule Structure",id:"field-rule-structure",level:4},{value:"Validation Rule Types",id:"validation-rule-types",level:4},{value:"NOT_NULL",id:"not_null",level:5},{value:"RANGE",id:"range",level:5},{value:"LENGTH",id:"length",level:5},{value:"REGEX",id:"regex",level:5},{value:"UDF (User Defined Function)",id:"udf-user-defined-function",level:5},{value:"common options string",id:"common-options-string",level:3},{value:"Examples",id:"examples",level:2},{value:"Example 1: Basic Validation with FAIL Mode",id:"example-1-basic-validation-with-fail-mode",level:3},{value:"Example 2: Validation with SKIP Mode",id:"example-2-validation-with-skip-mode",level:3},{value:"Example 3: Validation with ROUTE_TO_TABLE Mode",id:"example-3-validation-with-route_to_table-mode",level:3},{value:"Example 4: Nested Rules Format",id:"example-4-nested-rules-format",level:3},{value:"Example 5: Email Validation using Built-in UDF",id:"example-5-email-validation-using-built-in-udf",level:3},{value:"UDF Development Guide",id:"udf-development-guide",level:2},{value:"Creating Custom UDF Functions",id:"creating-custom-udf-functions",level:3},{value:"1. Implement the DataValidatorUDF Interface",id:"1-implement-the-datavalidatorudf-interface",level:4},{value:"2. Register the UDF",id:"2-register-the-udf",level:4},{value:"3. Package and Deploy",id:"3-package-and-deploy",level:4}],m={toc:d},p="wrapper";function s(e){let{components:a,...n}=e;return(0,l.yg)(p,(0,t.A)({},m,n,{components:a,mdxType:"MDXLayout"}),(0,l.yg)("h1",{id:"datavalidator"},"DataValidator"),(0,l.yg)("blockquote",null,(0,l.yg)("p",{parentName:"blockquote"},"Data validation transform plugin")),(0,l.yg)("h2",{id:"description"},"Description"),(0,l.yg)("p",null,"The DataValidator transform validates field values according to configured rules and handles validation failures based on the specified error handling strategy. It supports multiple validation rule types including null checks, range validation, length validation, and regex pattern matching."),(0,l.yg)("h2",{id:"options"},"Options"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"name"),(0,l.yg)("th",{parentName:"tr",align:null},"type"),(0,l.yg)("th",{parentName:"tr",align:null},"required"),(0,l.yg)("th",{parentName:"tr",align:null},"default value"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"row_error_handle_way"),(0,l.yg)("td",{parentName:"tr",align:null},"enum"),(0,l.yg)("td",{parentName:"tr",align:null},"no"),(0,l.yg)("td",{parentName:"tr",align:null},"FAIL")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"row_error_handle_way.error_table"),(0,l.yg)("td",{parentName:"tr",align:null},"string"),(0,l.yg)("td",{parentName:"tr",align:null},"no"),(0,l.yg)("td",{parentName:"tr",align:null})),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"field_rules"),(0,l.yg)("td",{parentName:"tr",align:null},"array"),(0,l.yg)("td",{parentName:"tr",align:null},"yes"),(0,l.yg)("td",{parentName:"tr",align:null})))),(0,l.yg)("h3",{id:"row_error_handle_way-enum"},"row_error_handle_way ","[enum]"),(0,l.yg)("p",null,"Error handling strategy when validation fails:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"FAIL"),": Fail the entire task when validation errors occur"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"SKIP"),": Skip invalid rows and continue processing"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"ROUTE_TO_TABLE"),": Route invalid data to a specified error table")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Note"),": ",(0,l.yg)("inlineCode",{parentName:"p"},"ROUTE_TO_TABLE")," mode only works with sinks that support multiple tables. The sink must be capable of handling data routed to different table destinations."),(0,l.yg)("h3",{id:"row_error_handle_wayerror_table-string"},"row_error_handle_way.error_table ","[string]"),(0,l.yg)("p",null,"Target table name for routing invalid data when ",(0,l.yg)("inlineCode",{parentName:"p"},"row_error_handle_way")," is set to ",(0,l.yg)("inlineCode",{parentName:"p"},"ROUTE_TO_TABLE"),". This parameter is required when using ",(0,l.yg)("inlineCode",{parentName:"p"},"ROUTE_TO_TABLE")," mode."),(0,l.yg)("h4",{id:"error-table-schema"},"Error Table Schema"),(0,l.yg)("p",null,"When using ",(0,l.yg)("inlineCode",{parentName:"p"},"ROUTE_TO_TABLE")," mode, DataValidator automatically creates an error table with a fixed schema to store validation failure data. The error table contains the following fields:"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Field Name"),(0,l.yg)("th",{parentName:"tr",align:null},"Data Type"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"source_table_id"),(0,l.yg)("td",{parentName:"tr",align:null},"STRING"),(0,l.yg)("td",{parentName:"tr",align:null},"Source table identifier that identifies the originating table")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"source_table_path"),(0,l.yg)("td",{parentName:"tr",align:null},"STRING"),(0,l.yg)("td",{parentName:"tr",align:null},"Source table path with complete table path information")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"original_data"),(0,l.yg)("td",{parentName:"tr",align:null},"STRING"),(0,l.yg)("td",{parentName:"tr",align:null},"JSON representation of the original data containing the complete row that failed validation")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"validation_errors"),(0,l.yg)("td",{parentName:"tr",align:null},"STRING"),(0,l.yg)("td",{parentName:"tr",align:null},"JSON array of validation error details containing all failed fields and error information")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},"create_time"),(0,l.yg)("td",{parentName:"tr",align:null},"TIMESTAMP"),(0,l.yg)("td",{parentName:"tr",align:null},"Creation time of the validation error")))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Complete Error Table Record Example"),":"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "source_table_id": "users_table",\n  "source_table_path": "database.users",\n  "original_data": "{\\"id\\": 123, \\"name\\": null, \\"age\\": 200, \\"email\\": \\"invalid-email\\"}",\n  "validation_errors": "[{\\"field_name\\": \\"name\\", \\"error_message\\": \\"Field \'name\' cannot be null\\"}, {\\"field_name\\": \\"age\\", \\"error_message\\": \\"Field \'age\' value 200 is not within range [0, 150]\\"}, {\\"field_name\\": \\"email\\", \\"error_message\\": \\"Field \'email\' does not match pattern \'^[\\\\\\\\w-\\\\\\\\.]+@([\\\\\\\\w-]+\\\\\\\\.)+[\\\\\\\\w-]{2,4}$\'\\"}]",\n  "create_time": "2024-01-15T10:30:45"\n}\n')),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Data Routing Mechanism"),":"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"Data that passes validation maintains the original schema and is routed to the main output table"),(0,l.yg)("li",{parentName:"ul"},"Data that fails validation is converted to the error table schema format above and routed to the specified error table"),(0,l.yg)("li",{parentName:"ul"},"Each validation failure row generates one record in the error table, containing complete original data and detailed error information")),(0,l.yg)("h3",{id:"field_rules-array"},"field_rules ","[array]"),(0,l.yg)("p",null,"Array of field validation rules. Each rule defines validation criteria for a specific field."),(0,l.yg)("h4",{id:"field-rule-structure"},"Field Rule Structure"),(0,l.yg)("p",null,"Each field rule contains:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"field_name"),": Name of the field to validate"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"rules"),": Array of validation rules to apply (nested format), or individual rule properties (flat format)")),(0,l.yg)("h4",{id:"validation-rule-types"},"Validation Rule Types"),(0,l.yg)("h5",{id:"not_null"},"NOT_NULL"),(0,l.yg)("p",null,"Validates that a field value is not null."),(0,l.yg)("p",null,"Parameters:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"rule_type"),': "NOT_NULL"'),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"custom_message")," (optional): Custom error message")),(0,l.yg)("h5",{id:"range"},"RANGE"),(0,l.yg)("p",null,"Validates that a numeric value is within a specified range."),(0,l.yg)("p",null,"Parameters:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"rule_type"),': "RANGE"'),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"min_value")," (optional): Minimum allowed value"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"max_value")," (optional): Maximum allowed value"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"min_inclusive")," (optional): Whether minimum value is inclusive (default: true)"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"max_inclusive")," (optional): Whether maximum value is inclusive (default: true)"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"custom_message")," (optional): Custom error message")),(0,l.yg)("h5",{id:"length"},"LENGTH"),(0,l.yg)("p",null,"Validates the length of string, array, or collection values."),(0,l.yg)("p",null,"Parameters:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"rule_type"),': "LENGTH"'),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"min_length")," (optional): Minimum allowed length"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"max_length")," (optional): Maximum allowed length"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"exact_length")," (optional): Exact required length"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"custom_message")," (optional): Custom error message")),(0,l.yg)("h5",{id:"regex"},"REGEX"),(0,l.yg)("p",null,"Validates that a string value matches a regular expression pattern."),(0,l.yg)("p",null,"Parameters:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"rule_type"),': "REGEX"'),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"pattern"),": Regular expression pattern (required)"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"case_sensitive")," (optional): Whether pattern matching is case sensitive (default: true)"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"custom_message")," (optional): Custom error message")),(0,l.yg)("h5",{id:"udf-user-defined-function"},"UDF (User Defined Function)"),(0,l.yg)("p",null,"Validates field values using custom business logic implemented as a User Defined Function."),(0,l.yg)("p",null,"Parameters:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"rule_type"),': "UDF"'),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"function_name"),": Name of the UDF function to execute (required)"),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"custom_message")," (optional): Custom error message")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Built-in UDF Functions:")),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("inlineCode",{parentName:"li"},"EMAIL"),": Validates email addresses using practical validation rules based on OWASP recommendations")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Creating Custom UDF Functions:"),"\nTo create a custom UDF function:"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},"Implement the ",(0,l.yg)("inlineCode",{parentName:"li"},"DataValidatorUDF")," interface"),(0,l.yg)("li",{parentName:"ol"},"Use ",(0,l.yg)("inlineCode",{parentName:"li"},"@AutoService(DataValidatorUDF.class)")," annotation"),(0,l.yg)("li",{parentName:"ol"},"Provide a unique ",(0,l.yg)("inlineCode",{parentName:"li"},"functionName()")),(0,l.yg)("li",{parentName:"ol"},"Implement the ",(0,l.yg)("inlineCode",{parentName:"li"},"validate()")," method with your custom logic")),(0,l.yg)("h3",{id:"common-options-string"},"common options ","[string]"),(0,l.yg)("p",null,"Transform plugin common parameters, please refer to ",(0,l.yg)("a",{parentName:"p",href:"/docs/transform-v2/common-options"},"Transform Plugin")," for details"),(0,l.yg)("h2",{id:"examples"},"Examples"),(0,l.yg)("h3",{id:"example-1-basic-validation-with-fail-mode"},"Example 1: Basic Validation with FAIL Mode"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-hocon"},'transform {\n  DataValidator {\n    plugin_input = "source_table"\n    plugin_output = "validated_table"\n    row_error_handle_way = "FAIL"\n    field_rules = [\n      {\n        field_name = "name"\n        rule_type = "NOT_NULL"\n      },\n      {\n        field_name = "age"\n        rule_type = "RANGE"\n        min_value = 0\n        max_value = 150\n      },\n      {\n        field_name = "email"\n        rule_type = "REGEX"\n        pattern = "^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$"\n      }\n    ]\n  }\n}\n')),(0,l.yg)("h3",{id:"example-2-validation-with-skip-mode"},"Example 2: Validation with SKIP Mode"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-hocon"},'transform {\n  DataValidator {\n    plugin_input = "source_table"\n    plugin_output = "validated_table"\n    row_error_handle_way = "SKIP"\n    field_rules = [\n      {\n        field_name = "name"\n        rule_type = "NOT_NULL"\n      },\n      {\n        field_name = "name"\n        rule_type = "LENGTH"\n        min_length = 2\n        max_length = 50\n      }\n    ]\n  }\n}\n')),(0,l.yg)("h3",{id:"example-3-validation-with-route_to_table-mode"},"Example 3: Validation with ROUTE_TO_TABLE Mode"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-hocon"},'transform {\n  DataValidator {\n    plugin_input = "source_table"\n    plugin_output = "validated_table"\n    row_error_handle_way = "ROUTE_TO_TABLE"\n    row_error_handle_way.error_table = "error_data"\n    field_rules = [\n      {\n        field_name = "name"\n        rule_type = "NOT_NULL"\n      },\n      {\n        field_name = "age"\n        rule_type = "RANGE"\n        min_value = 0\n        max_value = 150\n      }\n    ]\n  }\n}\n')),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Note"),": When using ",(0,l.yg)("inlineCode",{parentName:"p"},"ROUTE_TO_TABLE"),", ensure your sink connector supports multiple tables. Valid data will be sent to the main output table, while invalid data will be routed to the specified error table."),(0,l.yg)("p",null,"In this example:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"Data that passes validation will maintain the original schema (containing name, age, etc. fields) and be sent to the main output table"),(0,l.yg)("li",{parentName:"ul"},'Data that fails validation will be converted to the error table schema (containing source_table_id, source_table_path, original_data, validation_errors, create_time fields) and routed to the "error_data" table')),(0,l.yg)("h3",{id:"example-4-nested-rules-format"},"Example 4: Nested Rules Format"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-hocon"},'transform {\n  DataValidator {\n    plugin_input = "source_table"\n    plugin_output = "validated_table"\n    row_error_handle_way = "FAIL"\n    field_rules = [\n      {\n        field_name = "name"\n        rules = [\n          {\n            rule_type = "NOT_NULL"\n            custom_message = "Name is required"\n          },\n          {\n            rule_type = "LENGTH"\n            min_length = 2\n            max_length = 50\n            custom_message = "Name must be between 2 and 50 characters"\n          }\n        ]\n      }\n    ]\n  }\n}\n')),(0,l.yg)("h3",{id:"example-5-email-validation-using-built-in-udf"},"Example 5: Email Validation using Built-in UDF"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-hocon"},'transform {\n  DataValidator {\n    plugin_input = "source_table"\n    plugin_output = "validated_table"\n    row_error_handle_way = "FAIL"\n    field_rules = [\n      {\n        field_name = "email"\n        rule_type = "UDF"\n        function_name = "EMAIL"\n        custom_message = "Invalid email address format"\n      }\n    ]\n  }\n}\n')),(0,l.yg)("h2",{id:"udf-development-guide"},"UDF Development Guide"),(0,l.yg)("h3",{id:"creating-custom-udf-functions"},"Creating Custom UDF Functions"),(0,l.yg)("p",null,"To create a custom validation UDF function, follow these steps:"),(0,l.yg)("h4",{id:"1-implement-the-datavalidatorudf-interface"},"1. Implement the DataValidatorUDF Interface"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-java"},'package com.example.validator;\n\nimport org.apache.seatunnel.api.table.type.SeaTunnelDataType;\nimport org.apache.seatunnel.transform.validator.ValidationContext;\nimport org.apache.seatunnel.transform.validator.ValidationResult;\nimport org.apache.seatunnel.transform.validator.udf.DataValidatorUDF;\nimport com.google.auto.service.AutoService;\n\n@AutoService(DataValidatorUDF.class)\npublic class PhoneValidator implements DataValidatorUDF {\n\n    @Override\n    public String functionName() {\n        return "PHONE_VALIDATOR";\n    }\n\n    @Override\n    public ValidationResult validate(\n            Object value, SeaTunnelDataType<?> dataType, ValidationContext context) {\n\n        if (value == null) {\n            return ValidationResult.success();\n        }\n\n        String phone = value.toString().trim();\n\n        // Custom phone validation logic\n        if (phone.matches("^\\\\+?[1-9]\\\\d{1,14}$")) {\n            return ValidationResult.success();\n        } else {\n            return ValidationResult.failure("Invalid phone number format: " + phone);\n        }\n    }\n\n    @Override\n    public String getDescription() {\n        return "Validates international phone number format";\n    }\n}\n')),(0,l.yg)("h4",{id:"2-register-the-udf"},"2. Register the UDF"),(0,l.yg)("p",null,"The UDF is automatically registered using the ",(0,l.yg)("inlineCode",{parentName:"p"},"@AutoService(DataValidatorUDF.class)")," annotation. This uses Java's ServiceLoader mechanism to discover and load UDF implementations at runtime."),(0,l.yg)("h4",{id:"3-package-and-deploy"},"3. Package and Deploy"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},"Compile your UDF class and package it into a JAR file"),(0,l.yg)("li",{parentName:"ol"},"Place the JAR file in the SeaTunnel classpath"),(0,l.yg)("li",{parentName:"ol"},"The UDF will be automatically discovered and available for use")),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Usage Example"),":"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-hocon"},'{\n  field_name = "email"\n  rule_type = "UDF"\n  function_name = "EMAIL"\n  custom_message = "Please provide a valid email address"\n}\n')))}s.isMDXComponent=!0}}]);