<!doctype html>
<html lang="zh-CN" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Blog | Apache SeaTunnel</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://seatunnel.apache.org/zh-CN/blog/page/2"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" property="og:title" content="Blog | Apache SeaTunnel"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/zh-CN/image/favicon.ico"><link data-rh="true" rel="canonical" href="https://seatunnel.apache.org/zh-CN/blog/page/2"><link data-rh="true" rel="alternate" href="https://seatunnel.apache.org/blog/page/2" hreflang="en"><link data-rh="true" rel="alternate" href="https://seatunnel.apache.org/zh-CN/blog/page/2" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://seatunnel.apache.org/blog/page/2" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://S2J1A7LWND-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="Apache SeaTunnel RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="Apache SeaTunnel Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Apache SeaTunnel" href="/zh-CN/opensearch.xml">



<link rel="alternate" type="application/rss+xml" href="/zh-CN/user_cases/rss.xml" title="Apache SeaTunnel RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/user_cases/atom.xml" title="Apache SeaTunnel Atom Feed"><link rel="stylesheet" href="/zh-CN/assets/css/styles.df858a20.css">
<link rel="preload" href="/zh-CN/assets/js/runtime~main.86d1b3c4.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/main.4aca1a7b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="announcementBar_mb4j" style="background-color:rgb(70, 125, 175, 0.8)" role="banner"><div class="content_knG7 announcementBarContent_xLdY">ğŸ¤” Have queries regarding Apache SeaTunnel, Join Slack channel to discuss them join <a target="_blank" rel="noopener noreferrer" href="https://s.apache.org/seatunnel-slack">#SeaTunnel</a> channel! ğŸŒŸ</div></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="/zh-CN/image/logo.png" alt="Apache SeaTunnel Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh-CN/image/logo.png" alt="Apache SeaTunnel Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Apache SeaTunnel</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/zh-CN/">é¦–é¡µ</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">æ–‡æ¡£</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh-CN/docs/2.3.7/about">2.3.7</a></li><li><a class="dropdown__link" href="/zh-CN/docs/2.3.6/about">2.3.6</a></li><li><a class="dropdown__link" href="/zh-CN/docs/2.3.5/about">2.3.5</a></li><li><a class="dropdown__link" href="/zh-CN/docs/2.3.4/about">2.3.4</a></li><li><a class="dropdown__link" href="/zh-CN/docs/2.3.3/about">2.3.3</a></li><li><a class="dropdown__link" href="/zh-CN/docs/about">Next</a></li><li><a class="dropdown__link" href="/zh-CN/versions/">All versions</a></li></ul></div><a class="navbar__item navbar__link" href="/zh-CN/download">ä¸‹è½½</a><a class="navbar__item navbar__link" href="/zh-CN/community/contribution_guide/contribute">ç¤¾åŒº</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-CN/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/zh-CN/user_cases">ç”¨æˆ·æ¡ˆä¾‹</a><a class="navbar__item navbar__link" href="/zh-CN/team">å›¢é˜Ÿ</a><a class="navbar__item navbar__link" href="/zh-CN/user">ç”¨æˆ·</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Apache</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">åŸºé‡‘ä¼š</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">è¯ä¹¦</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">äº‹ä»¶</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">èµåŠ©</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">è‡´è°¢</a></li><li><a href="https://apache.org/foundation/policies/privacy.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li></ul></div><a href="https://github.com/apache/incubator-seatunnel" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/zh-CN/security">å®‰å…¨</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>ç®€ä½“ä¸­æ–‡</a><ul class="dropdown__menu"><li><a href="/blog/page/2" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-CN/blog/page/2" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">ç®€ä½“ä¸­æ–‡</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="æœ€è¿‘åšæ–‡å¯¼èˆª"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023/3/31/SeaTunnel_2_3_1_Released_Refactored_AI_Compatible_Feature_Allows_ChatGPT_Automatic_Get">SeaTunnel 2.3.1 is released! The refactored AI Compatible feature allows ChatGPT to automatically generate Connector code</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023/3/29/Performance_Test_Report_SeaTunnel_Synchronizes_Data_in_Batches_420_Percent_Faster_than_GLUE.md">Performance Test Report: SeaTunnel Synchronizes data in batches 420% Faster than GLUE!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/2023/02/09/SeaTunnel_Now_Supports_CDC_Writing_by_ClickHouse_Connector.md">SeaTunnel now supports CDC (Capture Change Data) writing by ClickHouse Connector!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/Reveal the core design of the SeaTunnel Zeta synchronization engine!">In the recently released SeaTunnel 2.3.0 official version</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zh-CN/blog/Apache IoTDB (Internet of Things Database) is a software system that integrates the collection">SeaTunnel supports IoTDB to implement IoT data synchronization</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="More than a month after the release of Apache SeaTunnel(Incubating) 2.1.2, we have been collecting user and developer feedback to bring you version 2.1.3. The new version introduces the Assert Sink connector, which is an inurgent need in the community, and two Transforms, NullRate and Nulltf. Some usability problems in the previous version have also been fixed, improving stability and efficiency."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/2022/09/12/SeaTunnel-2.1.3-released">SeaTunnel 2.1.3 released! Introducing in Assert Sink connector and NullRate, Nulltf Transform</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-12T00:00:00.000Z" itemprop="datePublished">2022å¹´9æœˆ12æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 3 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" src="https://miro.medium.com/max/1400/1*7jtTFNpvwC6nquA-BLfqGg.png" class="img_ev3q"></p><p>More than a month after the release of Apache SeaTunnel(Incubating) 2.1.2, we have been collecting user and developer feedback to bring you version 2.1.3. The new version introduces the Assert Sink connector, which is an inurgent need in the community, and two Transforms, NullRate and Nulltf. Some usability problems in the previous version have also been fixed, improving stability and efficiency.</p><p>This article will introduce the details of the update of Apache SeaTunnel(Incubating) <strong>version 2.1.3</strong>.</p><ul><li>Release Note: <a href="https://github.com/apache/incubator-seatunnel/blob/2.1.3/release-note.md" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel/blob/2.1.3/release-note.md</a></li><li>Download address: <a href="https://seatunnel.apache.org/download" target="_blank" rel="noopener noreferrer">https://seatunnel.apache.org/download</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="major-feature-updates">Major feature updates<a href="#major-feature-updates" class="hash-link" aria-label="Major feature updatesçš„ç›´æ¥é“¾æ¥" title="Major feature updatesçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduces-assert-sink-connector">Introduces Assert Sink connector<a href="#introduces-assert-sink-connector" class="hash-link" aria-label="Introduces Assert Sink connectorçš„ç›´æ¥é“¾æ¥" title="Introduces Assert Sink connectorçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Assert Sink connector is introduced in SeaTunnel version 2.1.3to verify data correctness. Special thanks to Lhyundeadsoul for his contribution.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-two-transforms">Add two Transforms<a href="#add-two-transforms" class="hash-link" aria-label="Add two Transformsçš„ç›´æ¥é“¾æ¥" title="Add two Transformsçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>In addition, the 2.1.3 version also adds two Transforms, NullRate and Nulltf, which are used to detect data quality and convert null values â€‹â€‹in the data to generate default values. These two Transforms can effectively improve the availability of data and reduce the frequency of abnormal situations. Special thanks to wsyhj and Interest1-wyt for their contributions.</p><p>At present, SeaTunnel has supported 9 types of Transforms including Common Options, Json, NullRate, Nulltf, Replace, Split, SQL, UDF, and UUID, and the community is welcome to contribute more Transform types.</p><p>For details of Transform, please refer to the official documentation: <a href="https://seatunnel.apache.org/docs/2.1.3/category/transform" target="_blank" rel="noopener noreferrer">https://seatunnel.apache.org/docs/2.1.3/category/transform</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhousefile-connector-supports-rsync-data-transfer-method-now">ClickhouseFile connector supports Rsync data transfer method now<a href="#clickhousefile-connector-supports-rsync-data-transfer-method-now" class="hash-link" aria-label="ClickhouseFile connector supports Rsync data transfer method nowçš„ç›´æ¥é“¾æ¥" title="ClickhouseFile connector supports Rsync data transfer method nowçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>At the same time, SeaTunnel 2.1.3 version brings Rsync data transfer mode support to ClickhouseFile connector, users can now choose SCP and Rsync data transfer modes. Thanks to Emor-nj for contributing to this feature.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="specific-feature-updates">Specific feature updates:<a href="#specific-feature-updates" class="hash-link" aria-label="Specific feature updates:çš„ç›´æ¥é“¾æ¥" title="Specific feature updates:çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>Flink Fake data supports BigInteger type <a href="https://github.com/apache/incubator-seatunnel/pull/2118" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel/pull/2118</a></li><li>Add Flink Assert Sink connector <a href="https://github.com/apache/incubator-seatunnel/pull/2022" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel/pull/2022</a></li><li>Spark ClickhouseFile connector supports Rsync data file transfer method <a href="https://github.com/apache/incubator-seatunnel/pull/2074" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel/pull/2074</a></li><li>Add Flink Assert Sink e2e module <a href="https://github.com/apache/incubator-seatunnel/pull/2036" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel/pull/2036</a></li><li>Add NullRate Transform for detecting data quality <a href="https://github.com/apache/incubator-seatunnel/pull/1978" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel/pull/1978</a></li><li>Add Nulltf Transform for setting defaults <a href="https://github.com/apache/incubator-seatunnel/pull/1958" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel/pull/1958</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimization">Optimization<a href="#optimization" class="hash-link" aria-label="Optimizationçš„ç›´æ¥é“¾æ¥" title="Optimizationçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>Refactored Spark TiDB-related parameter information</li><li>Refactor the code to remove redundant code warning information</li><li>Optimize connector jar package loading logic</li><li>Add Plugin Discovery module</li><li>Add documentation for some modules</li><li>Upgrade common-collection from version 4 to 4.4</li><li>Upgrade common-codec version to 1.13</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fix">Bug Fix<a href="#bug-fix" class="hash-link" aria-label="Bug Fixçš„ç›´æ¥é“¾æ¥" title="Bug Fixçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>In addition, in response to the feedback from users of version 2.1.2, we also fixed some usability issues, such as the inability to use the same components of Source and Sink, and further improved the stability.</p><ul><li>Fixed the problem of Hudi Source loading twice</li><li>Fix the problem that the field TwoPhaseCommit is not recognized after Doris 0.15</li><li>Fixed abnormal data output when accessing Hive using Spark JDBC</li><li>Fix JDBC data loss when partition_column (partition mode) is set</li><li>Fix KafkaTableStream schema JSON parsing error</li><li>Fix Shell script getting APP_DIR path error</li><li>Updated Flink RunMode enumeration to get correct help messages for run modes</li><li>Fix the same source and sink registered connector cache error</li><li>Fix command line parameter -t( â€” check) conflict with Flink deployment target parameter</li><li>Fix Jackson type conversion error problem</li><li>Fix the problem of failure to run scripts in paths other than SeaTunnel_Home</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="acknowledgment">Acknowledgment<a href="#acknowledgment" class="hash-link" aria-label="Acknowledgmentçš„ç›´æ¥é“¾æ¥" title="Acknowledgmentçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Thanks to all the contributors (GitHub ID, in no particular order,), it is your efforts that fuel the launch of this version, and we look forward to more contributions to the Apache SeaTunnel(Incubating) community!</p><p><code>leo65535, CalvinKirs, mans2singh, ashulin, wanghuan2054, lhyundeadsoul, tobezhou33, Hisoka-X, ic4y, wsyhj, Emor-nj, gleiyu, smallhibiscus, Bingz2, kezhenxu94, youyangkou, immustard, Interest1-wyt, superzhang0929, gaaraG, runwenjun</code></p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="After days of community development, the preliminary development of the new Connector API of SeaTunnel is completed. The next step is to adapt this new connector. In order to aid the developers to use this connector, this article provides guide to develop a new API."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/Upcoming API Connector Development Analysis">Upcoming API Connector Development Analysis</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-23T00:00:00.000Z" itemprop="datePublished">2022å¹´6æœˆ23æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 4 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p>After days of community development, the preliminary development of the new Connector API of SeaTunnel is completed. The next step is to adapt this new connector. In order to aid the developers to use this connector, this article provides guide to develop a new API.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="priliminary-setup">Priliminary Setup<a href="#priliminary-setup" class="hash-link" aria-label="Priliminary Setupçš„ç›´æ¥é“¾æ¥" title="Priliminary Setupçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li><p>Environment configuration: JDK8 and Scala2.11 are recommended.</p></li><li><p>As before, we need to download the latest code locally through git and import it into the IDE, project address: <a href="https://github.com/apache/incubator-seatunnel" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel</a> . At the same time, switch the branch to api-draft, and currently use this branch to develop the new version of the API and the corresponding Connector. The project structure is as follows:</p><p><img loading="lazy" alt="Project Structure" src="/zh-CN/assets/images/0-82b23e9c80c8b70ce10feaccfc96a2a6.png" width="583" height="1014" class="img_ev3q"></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Prerequisitesçš„ç›´æ¥é“¾æ¥" title="Prerequisitesçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li><p>At present, in order to distinguish different Connectors, we put the connectors that support</p><ul><li>Flink/Spark under the <code>seatunnel-connectors/seatunnel-connectors-flink(spark)</code> module.</li><li>New version of the Connector is placed under the <code>seatunnel-connectors/seatunnel-connectors-seatunnel</code> module.</li></ul><p>As we can see from the above figure, we have implemented Fake, Console, Kafka Connector, and Clickhouse Connector is also being implemented.</p></li><li><p>At present, the data type we support is SeaTunnelRow, so no matter the type of data generated by the Source or the type of data consumed by the Sink, it should be SeaTunnelRow.</p></li></ul><h1>Development of Connector</h1><p>Taking Fake Connector as an example, let&#x27;s introduce how to implement a new Connector:</p><ul><li><p>Create a corresponding module with a path under <code>seatunnel-connectors-seatunnel</code>, which is at the same level as other new connectors.</p></li><li><p>Modify the <code>seatunnel-connectors-seatunnel/pom.xml</code> file, add a new module to modules, modify <code>seatunnel-connectors-seatunnel/seatunnel-connector-seatunnel-fake/pom.xml</code>, add seatunnel-api dependencies, and correct parent Quote. The resulting style is as follows:</p><p><img loading="lazy" alt="Style" src="/zh-CN/assets/images/1-27a269d360e9ee05b1dd696eeb0aa8e4.png" width="949" height="568" class="img_ev3q"></p></li><li><p>The next step is to create the corresponding package and related classes, create FakeSource, and need to inherit SeaTunnel Source.</p><ul><li>Note : The Source of SeaTunnel adopts the design of stream and batch integration. The Source of SeaTunnel determines whether current Source is a stream or batch through attribute getBoundedness.</li></ul><p>So you can specify a Source as a stream or batch by dynamic configuration (refer to the default method). The configuration defined by the user in the configuration file can be obtained through the prepare method to realize the customized configuration.</p><p>Then create FakeSourceReader, FakeSource SplitEnumerator, and FakeSourceSplit to inherit the corresponding abstract classes (which can be found in the corresponding classes). As long as we implement the corresponding methods of these classes, then our SeaTunnel Source Connector is basically completed.</p></li><li><p>Next, just follow the existing example to write the corresponding code. The most important one is the FakeSource Reader, which defines how we obtain data from the outside, which is the most critical part of the Source Connector. Every time a piece of data is generated, we need to place it in the collector as shown:</p><p><img loading="lazy" alt="Source" src="/zh-CN/assets/images/2-6e56482ef5f497868040295fe7edff23.png" width="935" height="424" class="img_ev3q"></p></li><li><p>After the code development is complete, we need to configure the configuration file <code>plugin-mapping.properties</code> located under <code>seatunnel-connectors/modules</code>. Adding a seatunnel
<code>.source.FakeSource = seatunnel-connector-fake</code>
means that SeaTunnel can find the jar package corresponding to the project by looking for a Source named FakeSource. This allows the Connector to be used in the normal configuration file.</p></li><li><p>For a detailed description of writing Source and Sink and SeaTunnel API, please refer to the introduction at <code>seatunnel-connectors/seatunnel-connectors-seatunnel/ README.zh.md</code>.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connector-testing">Connector Testing<a href="#connector-testing" class="hash-link" aria-label="Connector Testingçš„ç›´æ¥é“¾æ¥" title="Connector Testingçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>For testing, we can find the <code>seatunnel-flink(spark)-new-connector-example</code> module in seatunnel-examples, and test it against different engines to ensure that the performance of the Connector is as consistent as possible. If you find any discrepancies, you can mark them in the document, modify the configuration file under resource, add our Connector to the configuration, and introduce <code>seatunnel-flink(spark)-new-connector-example/pom.xml</code> dependency, you can execute <code>SeaTunnelApiExample</code> to test.</li><li>The default is stream processing mode, and the execution mode is switched to batch mode by modifying <code>job.mode=BATCH</code> in the environment of the configuration file.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="submit-pr">Submit PR<a href="#submit-pr" class="hash-link" aria-label="Submit PRçš„ç›´æ¥é“¾æ¥" title="Submit PRçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>When our Connector is ready, we can submit PR to github. After reviewing by other partners, our contributed Connector will become part of SeaTunnel!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/meetup">Meetup</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Apache SeaTunnel (Incubating) ä¸ Apache Inlong (Incubating) çš„5æœˆè”åˆMeetupä¸­ï¼Œç¬¬äºŒä½åˆ†äº«çš„å˜‰å®¾æ˜¯æ¥è‡ªç™½é²¸å¼€æºçš„é«˜çº§å·¥ç¨‹å¸ˆæå®—æ–‡ã€‚åœ¨ä½¿ç”¨Apache SeaTunnel (Incubating) çš„è¿‡ç¨‹ä¸­ï¼Œä»–å‘ç°äº† Apache SeaTunnel (Incubating) å­˜åœ¨çš„å››å¤§é—®é¢˜ï¼šConnectorå®ç°æ¬¡æ•°å¤šã€å‚æ•°ä¸ç»Ÿä¸€ã€éš¾ä»¥æ”¯æŒå¤šä¸ªç‰ˆæœ¬çš„å¼•æ“ä»¥åŠå¼•æ“å‡çº§éš¾çš„é—®é¢˜ã€‚ä¸ºäº†è§£å†³ä»¥ä¸Šçš„éš¾é¢˜ï¼Œæå®—æ–‡å°†ç›®æ ‡æ”¾åœ¨å°†Apache SeaTunnel (Incubating)ä¸è®¡ç®—å¼•æ“è¿›è¡Œè§£è€¦ï¼Œé‡æ„å…¶ä¸­Sourceä¸Sink APIï¼Œå®ç°æ”¹è‰¯äº†å¼€å‘ä½“éªŒã€‚"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/2022/05/31/engine">Apache SeaTunnel ä¸è®¡ç®—å¼•æ“çš„è§£è€¦ä¹‹é“ï¼Œé‡æ„APIæˆ‘ä»¬åšäº†äº›ä»€ä¹ˆ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-31T00:00:00.000Z" itemprop="datePublished">2022å¹´5æœˆ31æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 16 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" src="/zh-CN/assets/images/0-1b0b7ccac22c107239f10a37321c7719.jpg" width="1920" height="1316" class="img_ev3q"></p><p>Apache SeaTunnel (Incubating) ä¸ Apache Inlong (Incubating) çš„5æœˆè”åˆMeetupä¸­ï¼Œç¬¬äºŒä½åˆ†äº«çš„å˜‰å®¾æ˜¯æ¥è‡ªç™½é²¸å¼€æºçš„é«˜çº§å·¥ç¨‹å¸ˆæå®—æ–‡ã€‚åœ¨ä½¿ç”¨Apache SeaTunnel (Incubating) çš„è¿‡ç¨‹ä¸­ï¼Œä»–å‘ç°äº† Apache SeaTunnel (Incubating) å­˜åœ¨çš„å››å¤§é—®é¢˜ï¼šConnectorå®ç°æ¬¡æ•°å¤šã€å‚æ•°ä¸ç»Ÿä¸€ã€éš¾ä»¥æ”¯æŒå¤šä¸ªç‰ˆæœ¬çš„å¼•æ“ä»¥åŠå¼•æ“å‡çº§éš¾çš„é—®é¢˜ã€‚ä¸ºäº†è§£å†³ä»¥ä¸Šçš„éš¾é¢˜ï¼Œæå®—æ–‡å°†ç›®æ ‡æ”¾åœ¨å°†Apache SeaTunnel (Incubating)ä¸è®¡ç®—å¼•æ“è¿›è¡Œè§£è€¦ï¼Œé‡æ„å…¶ä¸­Sourceä¸Sink APIï¼Œå®ç°æ”¹è‰¯äº†å¼€å‘ä½“éªŒã€‚</p><p>æœ¬æ¬¡æ¼”è®²ä¸»è¦åŒ…å«å››ä¸ªéƒ¨åˆ†ï¼š</p><ol><li>Apache SeaTunnel (Incubating)<strong>é‡æ„çš„èƒŒæ™¯å’ŒåŠ¨æœº</strong></li><li>Apache SeaTunnel (Incubating)<strong>é‡æ„çš„ç›®æ ‡</strong></li><li>Apache SeaTunnel (Incubating)<strong>é‡æ„æ•´ä½“çš„è®¾è®¡</strong></li><li>Apache SeaTunnel (Incubating) <strong>Source APIçš„è®¾è®¡</strong></li><li>Apache SeaTunnel (Incubating) <strong>Sink APIçš„è®¾è®¡</strong></li></ol><p><img loading="lazy" src="/zh-CN/assets/images/1-cbc169e3bc121f1008b807103abe9fd8.jpg" width="1440" height="810" class="img_ev3q"></p><p><strong>æå®—æ–‡</strong></p><p>ç™½é²¸å¼€æº é«˜çº§å·¥ç¨‹å¸ˆ</p><p>Apache SeaTunnel(Incubating)</p><p>&amp; Flink Contributor, Flink CDC &amp; Debezium Contributor</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01-é‡æ„çš„èƒŒæ™¯ä¸åŠ¨æœº"><strong>01</strong> é‡æ„çš„èƒŒæ™¯ä¸åŠ¨æœº<a href="#01-é‡æ„çš„èƒŒæ™¯ä¸åŠ¨æœº" class="hash-link" aria-label="01-é‡æ„çš„èƒŒæ™¯ä¸åŠ¨æœºçš„ç›´æ¥é“¾æ¥" title="01-é‡æ„çš„èƒŒæ™¯ä¸åŠ¨æœºçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="01-apache-seatunnelincubatingä¸å¼•æ“è€¦åˆ">01 Apache SeaTunnel(Incubating)ä¸å¼•æ“è€¦åˆ<a href="#01-apache-seatunnelincubatingä¸å¼•æ“è€¦åˆ" class="hash-link" aria-label="01 Apache SeaTunnel(Incubating)ä¸å¼•æ“è€¦åˆçš„ç›´æ¥é“¾æ¥" title="01 Apache SeaTunnel(Incubating)ä¸å¼•æ“è€¦åˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ç”¨è¿‡Apache SeaTunnel (Incubating) çš„å°ä¼™ä¼´æˆ–è€…å¼€å‘è€…åº”è¯¥çŸ¥é“ï¼Œç›®å‰Apache SeaTunnel (Incubating) ä¸å¼•æ“å®Œå…¨è€¦åˆï¼Œå®Œå…¨åŸºäºSparkã€Flinkå¼€å‘ï¼Œå…¶ä¸­çš„é…ç½®æ–‡ä»¶å‚æ•°éƒ½åŸºäºFlinkã€Sparkå¼•æ“ã€‚ä»è´¡çŒ®è€…å’Œç”¨æˆ·çš„è§’åº¦å‡ºå‘ï¼Œæˆ‘ä»¬èƒ½å‘ç°ä¸€äº›é—®é¢˜ã€‚</p><p><strong>ä»è´¡çŒ®è€…çš„è§’åº¦</strong>ï¼šåå¤å®ç°Connectorï¼Œæ²¡æœ‰æ”¶è·æ„Ÿï¼›æ½œåœ¨è´¡çŒ®è€…ç”±äºå¼•æ“ç‰ˆæœ¬ä¸ä¸€è‡´æ— æ³•è´¡çŒ®ç¤¾åŒºï¼›</p><p><strong>ä»ç”¨æˆ·çš„è§’åº¦</strong>ï¼šç›®å‰å¾ˆå¤šå…¬å¸é‡‡ç”¨Lambdaæ¶æ„ï¼Œç¦»çº¿ä½œä¸šä½¿ç”¨Sparkï¼Œå®æ—¶ä½œä¸šä½¿ç”¨Flinkï¼Œ ä½¿ç”¨ä¸­å°±ä¼šå‘ç°SeaTunnel çš„Connectorå¯èƒ½Sparkæœ‰ï¼Œä½†æ˜¯Flinkæ²¡æœ‰ï¼Œä»¥åŠä¸¤ä¸ªå¼•æ“å¯¹äºåŒä¸€å­˜å‚¨å¼•æ“çš„Connectorçš„å‚æ•°ä¹Ÿä¸ç»Ÿä¸€ï¼Œæœ‰è¾ƒé«˜çš„ä½¿ç”¨æˆæœ¬ï¼Œè„±ç¦»äº†SeaTunnelç®€å•æ˜“ç”¨çš„åˆè¡·ï¼›è¿˜æœ‰ç”¨æˆ·æé—®è¯´ç›®å‰æ”¯ä¸æ”¯æŒFlinkçš„1.14ç‰ˆæœ¬ï¼ŒæŒ‰ç…§ç›®å‰SeaTunnelçš„æ¶æ„ï¼Œæƒ³è¦æ”¯æŒFlinkçš„1.14å°±å¿…é¡»æŠ›å¼ƒä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå› æ­¤è¿™ä¹Ÿä¼šå¯¹ä¹‹å‰ç‰ˆæœ¬çš„ç”¨æˆ·é€ æˆå¾ˆå¤§çš„é—®é¢˜ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬ä¸ç®¡æ˜¯åšå¼•æ“å‡çº§æˆ–è€…æ”¯æŒæ›´å¤šçš„ç‰ˆæœ¬çš„ç”¨æˆ·éƒ½å¾ˆå›°éš¾ã€‚</p><p>å¦å¤–Sparkå’ŒFlinkéƒ½é‡‡ç”¨äº†Chandy-lamportç®—æ³•å®ç°çš„Checkpointå®¹é”™æœºåˆ¶ï¼Œä¹Ÿåœ¨å†…éƒ¨è¿›è¡Œäº†DataSetä¸DataStreamçš„ç»Ÿä¸€ï¼Œä»¥æ­¤ä¸ºå‰ææˆ‘ä»¬è®¤ä¸ºè§£è€¦æ˜¯å¯è¡Œçš„ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="02-apache-seatunnelincubatingä¸å¼•æ“è§£è€¦"><strong>02</strong> Apache SeaTunnel(Incubating)ä¸å¼•æ“è§£è€¦<a href="#02-apache-seatunnelincubatingä¸å¼•æ“è§£è€¦" class="hash-link" aria-label="02-apache-seatunnelincubatingä¸å¼•æ“è§£è€¦çš„ç›´æ¥é“¾æ¥" title="02-apache-seatunnelincubatingä¸å¼•æ“è§£è€¦çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å› æ­¤ä¸ºäº†è§£å†³ä»¥ä¸Šæå‡ºçš„é—®é¢˜ï¼Œæˆ‘ä»¬æœ‰äº†ä»¥ä¸‹çš„ç›®æ ‡ï¼š</p><ol><li><strong>Connectoråªå®ç°ä¸€æ¬¡</strong>ï¼šé’ˆå¯¹å‚æ•°ä¸ç»Ÿä¸€ã€Connectorå¤šæ¬¡å®ç°çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¸Œæœ›å®ç°ä¸€ä¸ªç»Ÿä¸€çš„Source ä¸Sink API;</li><li><strong>æ”¯æŒå¤šä¸ªç‰ˆæœ¬çš„Sparkä¸Flinkå¼•æ“</strong>ï¼šåœ¨Sourceä¸Sink APIä¸Šå†åŠ å…¥ç¿»è¯‘å±‚å»æ”¯æŒå¤šä¸ªç‰ˆæœ¬ä¸Sparkå’ŒFlinkå¼•æ“ï¼Œè§£è€¦åè¿™ä¸ªä»£ä»·ä¼šå°å¾ˆå¤šã€‚</li><li><strong>æ˜ç¡®Sourceçš„åˆ†ç‰‡å¹¶è¡Œé€»è¾‘å’ŒSinkçš„æäº¤é€»è¾‘</strong>ï¼šæˆ‘ä»¬å¿…é¡»æä¾›ä¸€ä¸ªè‰¯å¥½çš„APIå»æ”¯æŒConnectorå¼€å‘ï¼›</li><li><strong>æ”¯æŒå®æ—¶åœºæ™¯ä¸‹çš„æ•°æ®åº“æ•´åº“åŒæ­¥</strong>ï¼šè¿™ä¸ªæ˜¯ç›®å‰å¾ˆå¤šç”¨æˆ·æåˆ°<strong>éœ€è¦CDC</strong>æ”¯æŒè¡ç”Ÿçš„éœ€æ±‚ã€‚æˆ‘ä¹‹å‰å‚ä¸è¿‡Flink CDCç¤¾åŒºï¼Œå½“æ—¶æœ‰è®¸å¤šç”¨æˆ·æå‡ºåœ¨CDCçš„åœºæ™¯ä¸­ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨Flink CDCçš„è¯ä¼šå¯¼è‡´æ¯ä¸€ä¸ªè¡¨éƒ½æŒæœ‰ä¸€ä¸ªé“¾æ¥ï¼Œå½“é‡åˆ°éœ€è¦æ•´åº“åŒæ­¥éœ€æ±‚æ—¶ï¼Œåƒå¼ è¡¨å°±æœ‰åƒä¸ªé“¾æ¥ï¼Œè¯¥æƒ…å†µæ— è®ºæ˜¯å¯¹äºæ•°æ®åº“è¿˜æ˜¯DBAéƒ½æ˜¯ä¸èƒ½æ¥å—çš„ï¼Œå¦‚æœè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯å¼•å…¥Canalã€Debeziumç­‰ç»„ä»¶ï¼Œä½¿ç”¨å…¶æ‹‰å–å¢é‡æ•°æ®åˆ°Kafkaç­‰MQåšä¸­é—´å­˜å‚¨ï¼Œå†ä½¿ç”¨Flink SQLè¿›è¡ŒåŒæ­¥ï¼Œè¿™å®é™…å·²ç»è¿èƒŒäº†Flink CDCæœ€æ—©å‡å°‘é“¾è·¯çš„æƒ³æ³•ï¼Œä½†æ˜¯Flink CDCçš„å®šä½åªæ˜¯ä¸€ä¸ªConnectorï¼Œæ— æ³•åšå…¨é“¾è·¯çš„éœ€æ±‚ï¼Œæ‰€ä»¥è¯¥proposalåœ¨Flink CDCç¤¾åŒºä¸­æ²¡æœ‰è¢«æå‡ºï¼Œæˆ‘ä»¬å€Ÿç€æœ¬æ¬¡é‡æ„ï¼Œå°†proposaæäº¤åˆ°äº†SeaTunnelç¤¾åŒºä¸­ã€‚</li><li><strong>æ”¯æŒå…ƒä¿¡æ¯çš„è‡ªåŠ¨å‘ç°ä¸å­˜å‚¨</strong>ï¼šè¿™ä¸€éƒ¨åˆ†ç”¨æˆ·åº”è¯¥æœ‰æ‰€ä½“éªŒï¼Œå¦‚Kafkaè¿™ç±»å­˜å‚¨å¼•æ“ï¼Œæ²¡æœ‰è®°å½•æ•°æ®ç»“æ„çš„åŠŸèƒ½ï¼Œä½†æˆ‘ä»¬åœ¨è¯»å–æ•°æ®æ—¶åˆå¿…é¡»æ˜¯ç»“æ„åŒ–çš„ï¼Œå¯¼è‡´æ¯æ¬¡è¯»å–ä¸€ä¸ªtopicä¹‹å‰ï¼Œç”¨æˆ·éƒ½å¿…é¡»å®šä¹‰topicçš„ç»“æ„åŒ–æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¸Œæœ›åšåˆ°ç”¨æˆ·åªéœ€è¦å®Œæˆä¸€æ¬¡é…ç½®ï¼Œå‡å°‘é‡å¤çš„æ“ä½œã€‚</li></ol><p>å¯èƒ½ä¹Ÿæœ‰åŒå­¦æœ‰ç–‘æƒ‘ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ç›´æ¥ä½¿ç”¨Apache Beamï¼ŒBeamçš„Sourceåˆ†ä¸ºBOUNDEDä¸UNBOUNDEDï¼Œä¹Ÿå°±æ˜¯éœ€è¦å®ç°ä¸¤éï¼Œå¹¶ä¸”æœ‰äº›Sourceä¸Sinkçš„ç‰¹æ€§ä¹Ÿä¸æ”¯æŒï¼Œå…·ä½“æ‰€éœ€çš„ç‰¹æ€§åœ¨åé¢ä¼šæåˆ°ï¼›</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="03-apache-seatunnelincubatingé‡æ„æ•´ä½“çš„è®¾è®¡"><strong>03</strong> Apache SeaTunnel(Incubating)é‡æ„æ•´ä½“çš„è®¾è®¡<a href="#03-apache-seatunnelincubatingé‡æ„æ•´ä½“çš„è®¾è®¡" class="hash-link" aria-label="03-apache-seatunnelincubatingé‡æ„æ•´ä½“çš„è®¾è®¡çš„ç›´æ¥é“¾æ¥" title="03-apache-seatunnelincubatingé‡æ„æ•´ä½“çš„è®¾è®¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" src="/zh-CN/assets/images/1-cbc169e3bc121f1008b807103abe9fd8.jpg" width="1440" height="810" class="img_ev3q"></p><p>Apache SeaTunnel(Incubating) APIæ€»ä½“ç»“æ„çš„è®¾è®¡å¦‚ä¸Šå›¾ï¼›</p><p><strong>Source &amp; Sink API</strong>ï¼šæ•°æ®é›†æˆçš„æ ¸å¿ƒAPIä¹‹ä¸€ï¼Œæ˜ç¡®Sourceçš„åˆ†ç‰‡å¹¶è¡Œé€»è¾‘å’ŒSinkçš„æäº¤é€»è¾‘ï¼Œç”¨äºå®ç°Connectorï¼›</p><p><strong>Engine API</strong>ï¼š</p><p>Translation: ç¿»è¯‘å±‚ï¼Œç”¨äºå°†SeaTunnelçš„Souceä¸Sink APIç¿»è¯‘æˆå¼•æ“å†…éƒ¨å¯ä»¥è¿è¡Œçš„Connectorï¼›</p><p><strong>Execution</strong>ï¼šæ‰§è¡Œé€»è¾‘ï¼Œç”¨äºå®šä¹‰Sourceã€Transformã€Sinkç­‰æ“ä½œåœ¨å¼•æ“å†…éƒ¨çš„æ‰§è¡Œé€»è¾‘ï¼›</p><p><strong>Table API</strong>ï¼š</p><p><strong>Table SPI</strong>ï¼šä¸»è¦ç”¨äºä»¥SPIçš„æ–¹å¼æš´éœ²Sourceä¸Sinkæ¥å£ï¼Œå¹¶æ˜ç¡®Connectorçš„å¿…å¡«ä¸å¯é€‰å‚æ•°ç­‰ï¼›</p><p><strong>DataType</strong>ï¼šSeaTunnelçš„æ•°æ®ç»“æ„ï¼Œç”¨äºéš”ç¦»å¼•æ“ï¼Œå£°æ˜Table Schemaç­‰ï¼›</p><p><strong>Catalog</strong>ï¼šç”¨äºè·å–Table Schemeã€Optionsç­‰ï¼›</p><p><strong>Catalog Storage</strong>: ç”¨äºå­˜å‚¨ç”¨æˆ·å®šä¹‰Kafkaç­‰éç»“æ„åŒ–å¼•æ“çš„Table Schemeç­‰ï¼›</p><p><img loading="lazy" src="/zh-CN/assets/images/2-507471aef3b2e7dc6ee4bc03188bc784.jpg" width="1440" height="810" class="img_ev3q"></p><p><strong>ä»ä¸Šå›¾æ˜¯æˆ‘ä»¬ç°åœ¨è®¾æƒ³çš„æ‰§è¡Œæµç¨‹</strong>ï¼š</p><ol><li>ä»é…ç½®æ–‡ä»¶æˆ–UIç­‰æ–¹å¼è·å–ä»»åŠ¡å‚æ•°ï¼›</li><li>é€šè¿‡å‚æ•°ä»Catalogä¸­è§£æå¾—åˆ°Table Schemaã€Optionç­‰ä¿¡æ¯ï¼›</li><li>ä»¥SPIæ–¹å¼æ‹‰èµ·SeaTunnelçš„Connectorï¼Œå¹¶æ³¨å…¥Tableä¿¡æ¯ç­‰ï¼›</li><li>å°†SeaTunnelçš„Connectorç¿»è¯‘ä¸ºå¼•æ“å†…éƒ¨çš„Connectorï¼›</li><li>æ‰§è¡Œå¼•æ“çš„ä½œä¸šé€»è¾‘ï¼Œå›¾ä¸­çš„å¤šè¡¨åˆ†å‘ç›®å‰åªå­˜åœ¨CDCæ•´åº“åŒæ­¥åœºæ™¯ä¸‹ï¼Œå…¶ä»–Connectoréƒ½æ˜¯å•è¡¨ï¼Œä¸éœ€è¦åˆ†å‘é€»è¾‘ï¼›</li></ol><p>ä»ä»¥ä¸Šå¯ä»¥çœ‹å‡ºï¼Œæœ€éš¾çš„éƒ¨åˆ†æ˜¯<strong>å¦‚ä½•å°†Apache SeaTunnel(Incubating) çš„Sourceå’ŒSinkç¿»è¯‘æˆå¼•æ“å†…éƒ¨çš„Sourceå’ŒSinkã€‚</strong></p><p>å½“ä¸‹è®¸å¤šç”¨æˆ·ä¸ä»…æŠŠApache SeaTunnel (Incubating) å½“åšä¸€ä¸ªæ•°æ®é›†æˆæ–¹å‘çš„å·¥å…·ï¼Œä¹Ÿå½“åšæ•°ä»“æ–¹å‘çš„å·¥å…·ï¼Œä¼šä½¿ç”¨å¾ˆå¤šSparkå’ŒFlinkçš„SQLï¼Œæˆ‘ä»¬ç›®å‰å¸Œæœ›èƒ½å¤Ÿä¿ç•™è¿™æ ·çš„SQLèƒ½åŠ›ï¼Œè®©ç”¨æˆ·å®ç°æ— ç¼å‡çº§ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/3-68113e215aa8e91a5d2469ccb37a3c22.jpg" width="1440" height="810" class="img_ev3q"></p><p>æ ¹æ®æˆ‘ä»¬çš„è°ƒç ”ï¼Œå¦‚ä¸Šå›¾ï¼Œæ˜¯å¯¹Sourceä¸Sinkçš„ç†æƒ³æ‰§è¡Œé€»è¾‘ï¼Œç”±äºSeaTunnelä»¥WaterDropå­µåŒ–ï¼Œæ‰€ä»¥å›¾ä¸Šçš„æœ¯è¯­åå‘Sparkï¼›</p><p>ç†æƒ³æƒ…å†µä¸‹ï¼Œåœ¨Driverä¸Šå¯ä»¥è¿è¡ŒSourceå’ŒSinkçš„åè°ƒå™¨ï¼Œç„¶åWorkerä¸Šè¿è¡ŒSourceçš„Readerå’ŒSinkçš„Writerã€‚åœ¨Sourceåè°ƒå™¨æ–¹é¢ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒèƒ½æ”¯æŒå‡ ä¸ªèƒ½åŠ›ã€‚</p><p><strong>ä¸€ã€æ˜¯æ•°æ®çš„åˆ†ç‰‡é€»è¾‘</strong>ï¼Œå¯ä»¥å°†åˆ†ç‰‡åŠ¨æ€æ·»åŠ åˆ°Readerä¸­ã€‚</p><p><strong>äºŒã€æ˜¯å¯ä»¥æ”¯æŒReaderçš„åè°ƒ</strong>ã€‚SourceReaderç”¨äºè¯»å–æ•°æ®ï¼Œç„¶åå°†æ•°æ®å‘é€åˆ°å¼•æ“ä¸­æµè½¬ï¼Œæœ€ç»ˆæµè½¬åˆ°Source Writerä¸­è¿›è¡Œæ•°æ®å†™å…¥ï¼ŒåŒæ—¶Writerå¯ä»¥æ”¯æŒäºŒé˜¶æ®µäº‹åŠ¡æäº¤ï¼Œå¹¶ç”±Sinkçš„åè°ƒå™¨æ”¯æŒIcebergç­‰Connectorçš„èšåˆæäº¤éœ€æ±‚ï¼›</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="04-source-api"><strong>04</strong> Source API<a href="#04-source-api" class="hash-link" aria-label="04-source-apiçš„ç›´æ¥é“¾æ¥" title="04-source-apiçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>é€šè¿‡æˆ‘ä»¬çš„è°ƒç ”ï¼Œå‘ç°Sourceæ‰€éœ€è¦çš„ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ol><li><strong>ç»Ÿä¸€ç¦»çº¿å’Œå®æ—¶API</strong>ï¼šSourceåªå®ç°ä¸€æ¬¡ï¼ŒåŒæ—¶æ”¯æŒç¦»çº¿å’Œå®æ—¶ï¼›</li><li><strong>èƒ½å¤Ÿæ”¯æŒå¹¶è¡Œè¯»å–</strong>ï¼šæ¯”å¦‚Kafkaæ¯ä¸€ä¸ªåˆ†åŒºéƒ½ç”Ÿæˆä¸€ä¸ªçš„è¯»å–å™¨ï¼Œå¹¶è¡Œçš„æ‰§è¡Œï¼›</li><li><strong>æ”¯æŒåŠ¨æ€æ·»åŠ åˆ†ç‰‡</strong>ï¼šæ¯”å¦‚Kafkaå®šäºä¸€ä¸ªtopicæ­£åˆ™ï¼Œç”±äºä¸šåŠ¡é‡çš„éœ€æ±‚ï¼Œéœ€è¦æ–°å¢ä¸€ä¸ªtopicï¼Œè¯¥Source APIå¯ä»¥æ”¯æŒæˆ‘ä»¬åŠ¨æ€æ·»åŠ åˆ°ä½œä¸šä¸­ã€‚</li><li><strong>æ”¯æŒåè°ƒè¯»å–å™¨çš„å·¥ä½œ</strong>ï¼šè¿™ä¸ªç›®å‰åªå‘ç°åœ¨CDCè¿™ç§Connectoréœ€è¦æ”¯æŒã€‚CDCç›®å‰éƒ½æ˜¯åŸºäºNetfilxçš„DBlogå¹¶è¡Œç®—æ³•å»æ”¯æŒï¼Œè¯¥æƒ…å†µåœ¨å…¨é‡åŒæ­¥å’Œå¢é‡åŒæ­¥ä¸¤ä¸ªé˜¶æ®µçš„åˆ‡æ¢æ—¶éœ€è¦åè°ƒè¯»å–å™¨çš„å·¥ä½œã€‚</li><li><strong>æ”¯æŒå•ä¸ªè¯»å–å™¨å¤„ç†å¤šå¼ è¡¨</strong>ï¼šå³ç”±å‰é¢æåˆ°çš„æ”¯æŒå®æ—¶åœºæ™¯ä¸‹çš„æ•°æ®åº“æ•´åº“åŒæ­¥éœ€æ±‚ï¼›</li></ol><p><img loading="lazy" src="/zh-CN/assets/images/4-ac907e3f8e305b9f6585d2171013a973.jpg" width="1440" height="810" class="img_ev3q"></p><p>å¯¹åº”ä»¥ä¸Šéœ€æ±‚ï¼Œæˆ‘ä»¬åšå‡ºäº†åŸºç¡€çš„APIï¼Œå¦‚ä¸Šå›¾ï¼Œç›®å‰ä»£ç ä»¥æäº¤åˆ°Apache SeaTunnel(Incubating)çš„ç¤¾åŒºä¸­api-draftåˆ†æ”¯ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥æŸ¥çœ‹ä»£ç è¯¦ç»†äº†è§£ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å¦‚ä½•é€‚é…sparkå’Œflinkå¼•æ“"><strong>å¦‚ä½•é€‚é…Sparkå’ŒFlinkå¼•æ“</strong><a href="#å¦‚ä½•é€‚é…sparkå’Œflinkå¼•æ“" class="hash-link" aria-label="å¦‚ä½•é€‚é…sparkå’Œflinkå¼•æ“çš„ç›´æ¥é“¾æ¥" title="å¦‚ä½•é€‚é…sparkå’Œflinkå¼•æ“çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Flinkä¸Sparkéƒ½åœ¨åé¢ç»Ÿä¸€äº†DataSetä¸DataStream APIï¼Œå³èƒ½å¤Ÿæ”¯æŒå‰ä¸¤ä¸ªç‰¹æ€§ï¼Œé‚£ä¹ˆå¯¹äºå‰©ä¸‹çš„3ä¸ªç‰¹æ€§ï¼š</p><ul><li>å¦‚ä½•æ”¯æŒåŠ¨æ€æ·»åŠ åˆ†ç‰‡ï¼Ÿ</li><li>å¦‚ä½•æ”¯æŒåè°ƒè¯»å–å™¨ï¼Ÿ</li><li>å¦‚ä½•æ”¯æŒå•ä¸ªè¯»å–å™¨å¤„ç†å¤šå¼ è¡¨ï¼Ÿ</li></ul><p>å¸¦ç€é—®é¢˜ï¼Œè¿›å…¥ç›®å‰çš„è®¾è®¡ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/5-f743cf882b36bb3c383c66dec4bad95f.jpg" width="1440" height="810" class="img_ev3q"></p><p>æˆ‘ä»¬å‘ç°é™¤äº†<strong>CDC</strong>ä¹‹å¤–ï¼Œå…¶ä»–Connectoræ˜¯ä¸éœ€è¦åè°ƒå™¨çš„ï¼Œé’ˆå¯¹ä¸éœ€è¦åè°ƒå™¨çš„ï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªæ”¯æŒå¹¶è¡Œçš„Sourceï¼Œå¹¶è¿›è¡Œå¼•æ“ç¿»è¯‘ã€‚</p><p>å¦‚ä¸Šå›¾ä¸­å·¦è¾¹æ˜¯ä¸€ä¸ª<strong>åˆ†ç‰‡çš„enumerator</strong>ï¼Œå¯ä»¥åˆ—ä¸¾sourceéœ€è¦å“ªäº›åˆ†ç‰‡ï¼Œæœ‰å“ªäº›åˆ†ç‰‡ï¼Œå®æ—¶è¿›è¡Œåˆ†ç‰‡çš„æšä¸¾ï¼Œéšåå°†æ¯ä¸ªåˆ†ç‰‡åˆ†å‘åˆ°çœŸæ­£çš„æ•°æ®è¯»å–æ¨¡å—SourceReaderä¸­ã€‚<strong>å¯¹äºç¦»çº¿ä¸å®æ—¶ä½œä¸šçš„åŒºåˆ†ä½¿ç”¨Boundednessæ ‡è®°</strong>ï¼ŒConnectorå¯ä»¥åœ¨åˆ†ç‰‡ä¸­æ ‡è®°æ˜¯å¦æœ‰åœæ­¢çš„Offsetï¼Œå¦‚Kafkaå¯ä»¥æ”¯æŒå®æ—¶ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æ”¯æŒç¦»çº¿ã€‚ParallelSourceå¯ä»¥åœ¨å¼•æ“è®¾ç½®ä»»æ„å¹¶è¡Œåº¦ï¼Œä»¥æ”¯æŒå¹¶è¡Œè¯»å–ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/6-ef5d53449db28f4466c14827335d07a6.jpg" width="1440" height="810" class="img_ev3q"></p><p>åœ¨éœ€è¦åè°ƒå™¨çš„åœºæ™¯ï¼Œå¦‚ä¸Šå›¾ï¼Œéœ€è¦åœ¨Readerå’ŒEnumeratorä¹‹é—´è¿›è¡ŒEventä¼ è¾“ï¼Œ<strong> Enumerator</strong>é€šè¿‡Readerå‘é€çš„Eventè¿›è¡Œåè°ƒå·¥ä½œã€‚<strong>Coordinated Source</strong>éœ€è¦åœ¨å¼•æ“å±‚é¢ä¿è¯å•å¹¶è¡Œåº¦ï¼Œä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼›å½“ç„¶è¿™ä¹Ÿä¸èƒ½è‰¯å¥½çš„ä½¿ç”¨å¼•æ“çš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä½†æ˜¯å–èˆæ˜¯å¿…è¦çš„ï¼›</p><p><strong>å¯¹äºæœ€åä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¦‚ä½•æ”¯æŒå•ä¸ªè¯»å–å™¨å¤„ç†å¤šå¼ è¡¨ã€‚è¿™ä¼šæ¶‰åŠåˆ°Table APIå±‚</strong>ï¼Œé€šè¿‡Catalogè¯»å–åˆ°äº†æ‰€æœ‰éœ€è¦çš„è¡¨åï¼Œæœ‰äº›è¡¨å¯èƒ½å±äºä¸€ä¸ªä½œä¸šï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªé“¾æ¥å»è¯»å–ï¼Œæœ‰äº›å¯èƒ½éœ€è¦åˆ†å¼€ï¼Œè¿™ä¸ªä¾èµ–äºSourceæ˜¯æ€ä¹ˆå®ç°çš„ã€‚åŸºäºè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šéœ€æ±‚ï¼Œæˆ‘ä»¬æƒ³è¦å‡å°‘æ™®é€šå¼€å‘è€…çš„éš¾åº¦ï¼Œåœ¨Table APIè¿™ä¸€å±‚ï¼Œæˆ‘ä»¬ä¼šæä¾›ä¸€ä¸ªSupportMultipleTableæ¥å£ï¼Œç”¨äºå£°æ˜Sourceæ”¯æŒå¤šè¡¨çš„è¯»å–ã€‚Sourceåœ¨å®ç°æ—¶ï¼Œè¦æ ¹æ®å¤šå¼ è¡¨å®ç°å¯¹åº”çš„ååºåˆ—åŒ–å™¨ã€‚é’ˆå¯¹è¡ç”Ÿçš„å¤šè¡¨æ•°æ®å¦‚ä½•åˆ†ç¦»ï¼ŒFlinkå°†é‡‡ç”¨Side Outputæœºåˆ¶ï¼ŒSparké¢„æƒ³ä½¿ç”¨Filteræˆ–Partitionæœºåˆ¶ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="05-sink-api"><strong>05</strong> Sink API<a href="#05-sink-api" class="hash-link" aria-label="05-sink-apiçš„ç›´æ¥é“¾æ¥" title="05-sink-apiçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç›®å‰Sinkæ‰€éœ€çš„ç‰¹æ€§å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œ<strong>ç»è¿‡è°ƒç ”ç›®å‰å‘ç°æœ‰ä¸‰ä¸ªéœ€æ±‚</strong>ï¼š</p><ol><li>å¹‚ç­‰å†™å…¥ï¼Œè¿™ä¸ªä¸éœ€è¦å†™ä»£ç ï¼Œä¸»è¦çœ‹å­˜å‚¨å¼•æ“æ˜¯å¦èƒ½æ”¯æŒã€‚</li><li>åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œä¸»æµæ˜¯äºŒé˜¶æ®µæäº¤ï¼Œå¦‚Kafkaéƒ½æ˜¯å¯ä»¥æ”¯æŒåˆ†å¸ƒå¼äº‹åŠ¡çš„ã€‚</li><li>èšåˆæäº¤ï¼Œå¯¹äºIcebergã€hoodieç­‰å­˜å‚¨å¼•æ“è€Œè¨€ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æœ‰å°æ–‡ä»¶é—®é¢˜ï¼Œäºæ˜¯æœŸæœ›å°†è¿™äº›æ–‡ä»¶èšåˆæˆä¸€ä¸ªæ–‡ä»¶ï¼Œå†è¿›è¡Œæäº¤ã€‚</li></ol><p>åŸºäºä»¥ä¸Šä¸‰ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬æœ‰å¯¹åº”çš„<strong>ä¸‰ä¸ªAPI</strong>ï¼Œåˆ†åˆ«æ˜¯<strong>SinkWriterã€SinkCommitterã€SinkAggregated Committer</strong>ã€‚SinkWriteræ˜¯ä½œä¸ºåŸºç¡€å†™å…¥ï¼Œå¯èƒ½æ˜¯å¹‚ç­‰å†™å…¥ï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯ã€‚SinkCommitteræ”¯æŒäºŒé˜¶æ®µæäº¤ã€‚SinkAggregatedCommitteræ”¯æŒèšåˆæäº¤ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/7-e9830d63f81f7139a7cd1d4d9b9f5e43.jpg" width="1440" height="810" class="img_ev3q"></p><p>ç†æƒ³çŠ¶æ€ä¸‹ï¼Œ<strong>AggregatedCommitter</strong>å•å¹¶è¡Œçš„åœ¨Driverä¸­è¿è¡Œï¼ŒWriterä¸Committerè¿è¡Œåœ¨Workerä¸­ï¼Œå¯èƒ½æœ‰å¤šä¸ªå¹¶è¡Œåº¦ï¼Œæ¯ä¸ªå¹¶è¡Œåº¦éƒ½æœ‰è‡ªå·±çš„é¢„æäº¤å·¥ä½œï¼Œç„¶åæŠŠè‡ªå·±æäº¤çš„ä¿¡æ¯å‘é€ç»™Aggregated Committerå†è¿›è¡Œèšåˆã€‚</p><p><strong>ç›®å‰Sparkå’ŒFlinkçš„é«˜ç‰ˆæœ¬éƒ½æ”¯æŒåœ¨Driver</strong>(Job Manager)è¿è¡ŒAggregatedCommitterï¼Œworker(Job Manager)è¿è¡Œwriterå’ŒCommitterã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/8-aa0537c76d15543b46623445ff00e490.jpg" width="1440" height="810" class="img_ev3q"></p><p>ä½†æ˜¯å¯¹äº<strong>Flinkä½ç‰ˆæœ¬</strong>ï¼Œæ— æ³•æ”¯æŒAggregatedCommitteråœ¨JMä¸­è¿è¡Œï¼Œæˆ‘ä»¬ä¹Ÿè¿›è¡Œç¿»è¯‘é€‚é…çš„è®¾è®¡ã€‚Writerä¸Committerä¼šä½œä¸ºå‰ç½®çš„ç®—å­ï¼Œä½¿ç”¨Flinkçš„ProcessFunctionè¿›è¡ŒåŒ…è£¹ï¼Œæ”¯æŒå¹¶å‘çš„é¢„æäº¤ä¸å†™å…¥å·¥ä½œï¼ŒåŸºäºFlinkçš„Checkpointæœºåˆ¶å®ç°äºŒé˜¶æ®µæäº¤ï¼Œè¿™ä¹Ÿæ˜¯ç›®å‰Flinkçš„å¾ˆå¤šConnectorçš„2PCå®ç°æ–¹å¼ã€‚è¿™ä¸ªProcessFunctionä¼šå°†é¢„æäº¤ä¿¡æ¯å‘é€åˆ°ä¸‹æ¸¸çš„Aggregated Committerä¸­ï¼ŒAggregated Committerå¯ä»¥é‡‡ç”¨SinkFunctionæˆ–Process Functionç­‰ç®—å­åŒ…è£¹ï¼Œå½“ç„¶ï¼Œ<strong>æˆ‘ä»¬éœ€è¦ä¿è¯AggregatedCommitteråªä¼šå¯åŠ¨ä¸€ä¸ªï¼Œå³å•å¹¶è¡Œåº¦</strong>ï¼Œå¦åˆ™èšåˆæäº¤çš„é€»è¾‘å°±ä¼šå‡ºç°é—®é¢˜ã€‚</p><p>æ„Ÿè°¢å„ä½çš„è§‚çœ‹ï¼Œå¦‚æœå¤§å®¶å¯¹å…·ä½“å®ç°æ„Ÿå…´è¶£ï¼Œå¯ä»¥å» Apache SeaTunnel (Incubating) çš„ç¤¾åŒºæŸ¥çœ‹<strong>api-draft</strong>åˆ†æ”¯ä»£ç ï¼Œè°¢è°¢å¤§å®¶ã€‚</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="ä½œè€… | Apache SeaTunnel(Incubating) Contributor èŒƒä½³"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/2022/05/10/ClickHouse">ç™¾äº¿çº§æ•°æ®åŒæ­¥ï¼Œå¦‚ä½•åŸºäº SeaTunnel çš„ ClickHouse å®ç°ï¼Ÿ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-10T00:00:00.000Z" itemprop="datePublished">2022å¹´5æœˆ10æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 10 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" src="/zh-CN/assets/images/0-c3f068094d4f0308d7100502a6162925.jpg" width="1920" height="1275" class="img_ev3q"></p><p>ä½œè€… | Apache SeaTunnel(Incubating) Contributor èŒƒä½³</p><p>æ•´ç† | æµ‹è¯•å·¥ç¨‹å¸ˆ å†¯ç§€å…°</p><p>å¯¹äºç™¾äº¿çº§æ‰¹æ•°æ®çš„å¯¼å…¥ï¼Œä¼ ç»Ÿçš„ JDBC æ–¹å¼åœ¨ä¸€äº›æµ·é‡æ•°æ®åŒæ­¥åœºæ™¯ä¸‹çš„è¡¨ç°å¹¶ä¸å°½å¦‚äººæ„ã€‚ä¸ºäº†æä¾›æ›´å¿«çš„å†™å…¥é€Ÿåº¦ï¼ŒApache SeaTunnel(Incubating) åœ¨åˆšåˆšå‘å¸ƒçš„ 2.1.1 ç‰ˆæœ¬ä¸­æä¾›äº† ClickhouseFile-Connector çš„æ”¯æŒï¼Œä»¥å®ç° Bulk load æ•°æ®å†™å…¥ã€‚</p><p>Bulk load æŒ‡æŠŠæµ·é‡æ•°æ®åŒæ­¥åˆ°ç›®æ ‡ DB ä¸­ï¼Œç›®å‰ SeaTunnel å·²å®ç°æ•°æ®åŒæ­¥åˆ° ClickHouse ä¸­ã€‚</p><p>åœ¨ Apache SeaTunnel(Incubating) 4 æœˆ Meetup ä¸Šï¼ŒApache SeaTunnel(Incubating) Contributor èŒƒä½³åˆ†äº«äº†ã€ŠåŸºäº SeaTunnel çš„ ClickHouse bulk load å®ç°ã€‹ï¼Œè¯¦ç»†è®²è§£äº† ClickHouseFile é«˜æ•ˆå¤„ç†æµ·é‡æ•°æ®çš„å…·ä½“å®ç°åŸç†å’Œæµç¨‹ã€‚</p><p>æ„Ÿè°¢æœ¬æ–‡æ•´ç†å¿—æ„¿è€… æµ‹è¯•å·¥ç¨‹å¸ˆ å†¯ç§€å…° å¯¹ Apache SeaTunnel(Incubating) é¡¹ç›®çš„æ”¯æŒï¼</p><p>æœ¬æ¬¡æ¼”è®²ä¸»è¦åŒ…å«ä¸ƒä¸ªéƒ¨åˆ†ï¼š</p><ul><li>ClickHouse Sink ç°çŠ¶
</li><li>ClickHouse Sink å¼±åœºæ™¯
</li><li>ClickHouseFile æ’ä»¶ä»‹ç»
</li><li>ClickHouseFile æ ¸å¿ƒæŠ€æœ¯ç‚¹
</li><li>ClickHouseFile æ’ä»¶çš„å®ç°è§£æ
</li><li>æ’ä»¶èƒ½åŠ›å¯¹æ¯”
</li><li>åæœŸä¼˜åŒ–æ–¹å‘
</li></ul><p><img loading="lazy" src="/zh-CN/assets/images/0-1-56defefcc273a6e21b09dd483bf95914.png" width="1171" height="1171" class="img_ev3q"></p><p>â€‹èŒƒ ä½³ç™½é²¸å¼€æº é«˜çº§å·¥ç¨‹å¸ˆ</p><h1>01 ClickHouse Sink ç°çŠ¶</h1><p>ç°é˜¶æ®µï¼ŒSeaTunnel æŠŠæ•°æ®åŒæ­¥åˆ° ClickHouse çš„æµç¨‹æ˜¯ï¼šåªè¦æ˜¯ SeaTunnel æ”¯æŒçš„æ•°æ®æºï¼Œéƒ½å¯ä»¥æŠŠæ•°æ®æŠ½å–å‡ºæ¥ï¼ŒæŠ½å–å‡ºæ¥ä¹‹åï¼Œç»è¿‡è½¬æ¢ï¼ˆä¹Ÿå¯ä»¥ä¸è½¬æ¢ï¼‰ï¼Œç›´æ¥æŠŠæºæ•°æ®å†™å…¥ ClickHouse sink connector ä¸­ï¼Œå†é€šè¿‡ JDBC å†™å…¥åˆ° ClickHouse çš„æœåŠ¡å™¨ä¸­ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/1-76284c6612152506e0111e0f0d25d0f5.png" width="1139" height="585" class="img_ev3q"></p><p>ä½†æ˜¯ï¼Œé€šè¿‡ä¼ ç»Ÿçš„ JDBC å†™å…¥åˆ° ClickHouse æœåŠ¡å™¨ä¸­ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ã€‚</p><p>é¦–å…ˆï¼Œç°é˜¶æ®µä½¿ç”¨çš„å·¥å…·æ˜¯ ClickHouse æä¾›çš„é©±åŠ¨ï¼Œå®ç°æ–¹å¼æ˜¯é€šè¿‡ HTTPï¼Œç„¶è€Œ HTTP åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå®ç°æ•ˆç‡ä¸é«˜ã€‚å…¶æ¬¡æ˜¯æµ·é‡æ•°æ®ï¼Œå¦‚æœæœ‰é‡å¤æ•°æ®æˆ–è€…ä¸€æ¬¡æ€§å†™å…¥å¤§é‡æ•°æ®ï¼Œä½¿ç”¨ä¼ ç»Ÿçš„æ–¹å¼æ˜¯ç”Ÿæˆå¯¹åº”çš„æ’å…¥è¯­å¥ï¼Œé€šè¿‡ HTTP å‘é€åˆ° ClickHouse æœåŠ¡å™¨ç«¯ï¼Œåœ¨æœåŠ¡å™¨ç«¯æ¥è¿›è¡Œé€æ¡æˆ–åˆ†æ‰¹æ¬¡è§£æã€æ‰§è¡Œï¼Œæ— æ³•å®ç°æ•°æ®å‹ç¼©ã€‚</p><p>æœ€åå°±æ˜¯æˆ‘ä»¬é€šå¸¸ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œæ•°æ®é‡è¿‡å¤§å¯èƒ½å¯¼è‡´ SeaTunnel ç«¯ OOMï¼Œæˆ–è€…æœåŠ¡å™¨ç«¯å› ä¸ºå†™å…¥æ•°æ®é‡è¿‡å¤§ï¼Œé¢‘ç‡è¿‡é«˜ï¼Œå¯¼è‡´æœåŠ¡å™¨ç«¯æŒ‚æ‰ã€‚</p><p>äºæ˜¯æˆ‘ä»¬æ€è€ƒï¼Œæ˜¯å¦æœ‰æ¯” HTTP æ›´å¿«çš„å‘é€æ–¹å¼ï¼Ÿå¦‚æœå¯ä»¥åœ¨ SeaTunnel ç«¯åšæ•°æ®é¢„å¤„ç†æˆ–æ•°æ®å‹ç¼©ï¼Œé‚£ä¹ˆç½‘ç»œå¸¦å®½å‹åŠ›ä¼šé™ä½ï¼Œä¼ è¾“é€Ÿç‡ä¹Ÿä¼šæé«˜ã€‚</p><h1>02 ClickHouse Sink çš„å¼±åœºæ™¯</h1><p>å¦‚æœä½¿ç”¨ HTTP ä¼ è¾“åè®®ï¼Œå½“æ•°æ®é‡è¿‡å¤§ï¼Œæ‰¹å¤„ç†ä»¥å¾®æ‰¹çš„å½¢å¼å‘é€è¯·æ±‚ï¼ŒHTTP å¯èƒ½å¤„ç†ä¸è¿‡æ¥ï¼›</p><p>å¤ªå¤šçš„ insert è¯·æ±‚ï¼ŒæœåŠ¡å™¨å‹åŠ›å¤§ã€‚å‡è®¾å¸¦å®½å¯ä»¥æ‰¿å—å¤§é‡çš„è¯·æ±‚ï¼Œä½†æœåŠ¡å™¨ç«¯ä¸ä¸€å®šèƒ½æ‰¿è½½ã€‚çº¿ä¸Šçš„æœåŠ¡å™¨ä¸ä»…éœ€è¦æ•°æ®æ’å…¥ï¼Œæ›´é‡è¦çš„æ˜¯æŸ¥è¯¢æ•°æ®ä¸ºå…¶ä»–ä¸šåŠ¡å›¢é˜Ÿä½¿ç”¨ã€‚è‹¥å› ä¸ºæ’å…¥æ•°æ®è¿‡å¤šå¯¼è‡´æœåŠ¡å™¨é›†ç¾¤å®•æœºï¼Œæ˜¯å¾—ä¸å¿å¤±çš„ã€‚</p><h1>03 ClickHouse File æ ¸å¿ƒæŠ€æœ¯ç‚¹</h1><p>é’ˆå¯¹è¿™äº› ClickHouse çš„å¼±åœºæ™¯ï¼Œæˆ‘ä»¬æƒ³ï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼ï¼Œæ—¢èƒ½åœ¨ Spark ç«¯å°±èƒ½å®Œæˆæ•°æ®å‹ç¼©ï¼Œè¿˜å¯ä»¥åœ¨æ•°æ®å†™å…¥æ—¶ä¸å¢åŠ  Server çš„èµ„æºè´Ÿè½½ï¼Œå¹¶ä¸”èƒ½å¿«é€Ÿå†™å…¥æµ·é‡æ•°æ®ï¼Ÿäºæ˜¯æˆ‘ä»¬å¼€å‘äº† ClickHouseFile æ’ä»¶æ¥æ»¡è¶³è¿™äº›éœ€æ±‚ã€‚</p><p>ClickHouseFile æ’ä»¶çš„å…³é”®æŠ€æœ¯æ˜¯ ClickHouse -localã€‚ClickHouse-local æ¨¡å¼å¯ä»¥è®©ç”¨æˆ·èƒ½å¤Ÿå¯¹æœ¬åœ°æ–‡ä»¶æ‰§è¡Œå¿«é€Ÿå¤„ç†ï¼Œè€Œæ— éœ€éƒ¨ç½²å’Œé…ç½® ClickHouse æœåŠ¡å™¨ã€‚ClickHouse-local ä½¿ç”¨ä¸ ClickHouse Server ç›¸åŒçš„æ ¸å¿ƒï¼Œå› æ­¤å®ƒæ”¯æŒå¤§å¤šæ•°åŠŸèƒ½ä»¥åŠç›¸åŒçš„æ ¼å¼å’Œè¡¨å¼•æ“ã€‚</p><p>å› ä¸ºæœ‰è¿™ 2 ä¸ªç‰¹ç‚¹,è¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥ç›´æ¥å¤„ç†æœ¬åœ°æ–‡ä»¶ï¼Œè€Œæ— éœ€åœ¨ ClickHouse æœåŠ¡å™¨ç«¯åšå¤„ç†ã€‚ç”±äºæ˜¯ç›¸åŒçš„æ ¼å¼ï¼Œæˆ‘ä»¬åœ¨è¿œç«¯æˆ–è€… SeaTunnel ç«¯è¿›è¡Œçš„æ“ä½œæ‰€äº§ç”Ÿçš„æ•°æ®å’ŒæœåŠ¡å™¨ç«¯æ˜¯æ— ç¼å…¼å®¹çš„ï¼Œå¯ä»¥ä½¿ç”¨ ClickHouse local æ¥è¿›è¡Œæ•°æ®å†™å…¥ã€‚ClickHouse local æ˜¯å®ç° ClickHouseFile çš„æ ¸å¿ƒæŠ€æœ¯ç‚¹ï¼Œå› ä¸ºæœ‰äº†è¿™ä¸ªæ’ä»¶ï¼Œç°é˜¶æ®µæ‰èƒ½å¤Ÿå®ç° ClickHouse file è¿æ¥å™¨ã€‚</p><p>ClickHouse local æ ¸å¿ƒä½¿ç”¨æ–¹å¼ï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/2-2367f70ae655c30a94a2ec65e67a6b26.png" width="1112" height="262" class="img_ev3q"></p><p>ç¬¬ä¸€è¡Œï¼šå°†æ•°æ®é€šè¿‡ Linux ç®¡é“ä¼ é€’ç»™ ClickHouse-local ç¨‹åºçš„ test_table è¡¨ã€‚</p><p>ç¬¬äºŒè‡³äº”è¡Œï¼šåˆ›å»ºä¸€ä¸ª result_table è¡¨ç”¨äºæ¥æ”¶æ•°æ®ã€‚</p><p>ç¬¬å…­è¡Œï¼šå°†æ•°æ®ä» test<!-- -->_<!-- -->table åˆ° result<!-- -->_<!-- -->table è¡¨ã€‚</p><p>ç¬¬ä¸ƒè¡Œï¼šå®šä¹‰æ•°æ®å¤„ç†çš„ç£ç›˜è·¯å¾„ã€‚</p><p>é€šè¿‡è°ƒç”¨ Clickhouse-local ç»„ä»¶ï¼Œå®ç°åœ¨ Apache SeaTunnel(Incubating) ç«¯å®Œæˆæ•°æ®æ–‡ä»¶çš„ç”Ÿæˆï¼Œä»¥åŠæ•°æ®å‹ç¼©ç­‰ä¸€ç³»åˆ—æ“ä½œã€‚å†é€šè¿‡å’Œ Server è¿›è¡Œé€šä¿¡ï¼Œå°†ç”Ÿæˆçš„æ•°æ®ç›´æ¥å‘é€åˆ° Clickhouse çš„ä¸åŒèŠ‚ç‚¹ï¼Œå†å°†æ•°æ®æ–‡ä»¶æä¾›ç»™èŠ‚ç‚¹æŸ¥è¯¢ã€‚</p><p>åŸé˜¶æ®µå’Œç°é˜¶æ®µå®ç°æ–¹å¼å¯¹æ¯”ï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/3-6204c709b48243f88914bfd492dc67f2.png" width="1272" height="576" class="img_ev3q"></p><p>åŸæ¥æ˜¯ Spark æŠŠæ•°æ®åŒ…æ‹¬ insert è¯­å¥ï¼Œå‘é€ç»™æœåŠ¡å™¨ç«¯ï¼ŒæœåŠ¡å™¨ç«¯åš SQL çš„è§£æï¼Œè¡¨çš„æ•°æ®æ–‡ä»¶ç”Ÿæˆã€å‹ç¼©ï¼Œç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶ã€å»ºç«‹å¯¹åº”ç´¢å¼•ã€‚è‹¥ä½¿ç”¨ ClickHouse local æŠ€æœ¯ï¼Œåˆ™ç”± SeaTunnel ç«¯åšæ•°æ®æ–‡ä»¶çš„ç”Ÿæˆã€æ–‡ä»¶å‹ç¼©ï¼Œä»¥åŠç´¢å¼•çš„åˆ›å»ºï¼Œæœ€ç»ˆäº§å‡ºå°±æ˜¯ç»™æœåŠ¡å™¨ç«¯ä½¿ç”¨çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼ŒåŒæ­¥ç»™æœåŠ¡å™¨åï¼ŒæœåŠ¡å™¨å°±åªéœ€å¯¹æ•°æ®æŸ¥è¯¢ï¼Œä¸éœ€è¦åšé¢å¤–çš„æ“ä½œã€‚</p><h1>04 æ ¸å¿ƒæŠ€æœ¯ç‚¹</h1><p><img loading="lazy" src="/zh-CN/assets/images/4-d47e1da865afa7ea4de50b2d6e4b6ac1.png" width="1164" height="435" class="img_ev3q"></p><p>ä»¥ä¸Šæµç¨‹å¯ä»¥ä¿ƒä½¿æ•°æ®åŒæ­¥æ›´åŠ é«˜æ•ˆï¼Œå¾—ç›Šäºæˆ‘ä»¬å¯¹å…¶ä¸­çš„ä¸‰ç‚¹ä¼˜åŒ–ã€‚</p><p>ç¬¬ä¸€ï¼Œæ•°æ®å®é™…ä¸Šå¸ˆä»ç®¡é“ä¼ è¾“åˆ° ClickHouseFileï¼Œåœ¨é•¿åº¦å’Œå†…å­˜ä¸Šä¼šæœ‰é™åˆ¶ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°† ClickHouse connectorï¼Œä¹Ÿå°±æ˜¯ sink ç«¯æ”¶åˆ°çš„æ•°æ®é€šè¿‡ MMAP æŠ€æœ¯å†™å…¥ä¸´æ—¶æ–‡ä»¶ï¼Œå†ç”± ClickHouse local è¯»å–ä¸´æ—¶æ–‡ä»¶çš„æ•°æ®ï¼Œç”Ÿæˆæˆ‘ä»¬çš„ç›®æ ‡ local fileï¼Œä»¥è¾¾åˆ°å¢é‡è¯»å–æ•°æ®çš„æ•ˆæœï¼Œè§£å†³ OM çš„é—®é¢˜ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/5-9f00635b1727843f705cd5a28632e2e4.png" width="1206" height="565" class="img_ev3q"></p><p>ç¬¬äºŒï¼Œæ”¯æŒåˆ†ç‰‡ã€‚å› ä¸ºå¦‚æœåœ¨é›†ç¾¤ä¸­ä½¿ç”¨ï¼Œå¦‚æœåªç”Ÿæˆä¸€ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå®é™…ä¸Šæ–‡ä»¶åªåˆ†å‘åˆ°ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œä¼šå¤§å¤§é™ä½æŸ¥è¯¢çš„æ€§èƒ½ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿›è¡Œäº†åˆ†ç‰‡æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥åœ¨é…ç½®æ–‡ä»¶å¤¹ä¸­è®¾ç½®åˆ†ç‰‡çš„ keyï¼Œç®—æ³•ä¼šå°†æ•°æ®åˆ†ä¸ºå¤šä¸ª log fileï¼Œå†™å…¥åˆ°ä¸åŒçš„é›†ç¾¤èŠ‚ç‚¹ä¸­ï¼Œå¤§å¹…æå‡è¯»å–æ€§èƒ½ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/6-35b30550d6a18fbea49856083aa85094.png" width="1043" height="558" class="img_ev3q"></p><p>ç¬¬ä¸‰ä¸ªé‡è¦çš„ä¼˜åŒ–æ˜¯æ–‡ä»¶ä¼ è¾“ï¼Œç›®å‰ SeaTunnel æ”¯æŒä¸¤ç§æ–‡ä»¶ä¼ è¾“æ–¹å¼ï¼Œä¸€ç§æ˜¯ SCPï¼Œå…¶ç‰¹ç‚¹æ˜¯å®‰å…¨ã€é€šç”¨ã€æ— éœ€é¢å¤–é…ç½®ï¼›å¦ä¸€ç§æ˜¯ RSYNCï¼Œå…¶æœ‰ç‚¹äº‹å¿«é€Ÿé«˜æ•ˆï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œä½†éœ€è¦é¢å¤–é…ç½®ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©é€‚åˆè‡ªå·±çš„æ–¹å¼ã€‚</p><h1>05 æ’ä»¶å®ç°è§£æ</h1><p>æ¦‚æ‹¬è€Œè¨€ï¼ŒClickHouseFile çš„æ€»ä½“å®ç°æµç¨‹å¦‚ä¸‹ï¼š</p><p><img loading="lazy" src="/zh-CN/assets/images/7-1be978da30a55fe0289c683f2ae61aac.png" width="533" height="635" class="img_ev3q"></p><ul><li>ç¼“å­˜æ•°æ®ï¼Œç¼“å­˜åˆ° ClickHouse sink ç«¯ï¼›
</li><li>è°ƒç”¨æœ¬åœ°çš„ ClickHouse-local ç”Ÿæˆæ–‡ä»¶ï¼›
</li><li>å°†æ•°æ®å‘é€åˆ° ClickHouse æœåŠ¡ç«¯ï¼›
</li><li>æ‰§è¡Œ ATTACH å‘½ä»¤
</li></ul><p>é€šè¿‡ä»¥ä¸Šå››ä¸ªæ­¥éª¤ï¼Œç”Ÿæˆçš„æ•°æ®è¾¾åˆ°å¯æŸ¥è¯¢çš„çŠ¶æ€ã€‚</p><h1>06 æ’ä»¶èƒ½åŠ›å¯¹æ¯”</h1><p><img loading="lazy" src="/zh-CN/assets/images/8-261e7ba686f3fadf5d7c1445e9be5b66.png" width="1071" height="485" class="img_ev3q"></p><p>ä»æ•°æ®ä¼ è¾“è§’åº¦æ¥è¯´ï¼ŒClickHouseFile æ›´é€‚ç”¨äºæµ·é‡æ•°æ®ï¼Œä¼˜åŠ¿åœ¨äºä¸éœ€è¦é¢å¤–çš„é…ç½®ï¼Œé€šç”¨æ€§å¼ºï¼Œè€Œ ClickHouseFile é…ç½®æ¯”è¾ƒå¤æ‚ï¼Œç›®å‰æ”¯æŒçš„ engine è¾ƒå°‘ï¼›</p><p>å°±ç¯å¢ƒå¤æ‚åº¦æ¥è¯´ï¼ŒClickHouse æ›´é€‚åˆç¯å¢ƒå¤æ‚åº¦é«˜çš„æƒ…å†µï¼Œä¸éœ€è¦é¢å¤–é…ç½®å°±èƒ½ç›´æ¥è¿è¡Œï¼›</p><p>åœ¨é€šç”¨æ€§ä¸Šï¼ŒClickHouse ç”±äºæ˜¯ SeaTunnel å®˜æ–¹æ”¯æŒçš„ JDBC diverï¼ŒåŸºæœ¬ä¸Šæ”¯æŒæ‰€æœ‰çš„ engine çš„æ•°æ®å†™å…¥ï¼ŒClickHouseFile æ”¯æŒçš„ engine ç›¸å¯¹è¾ƒå°‘ï¼›ä»æœåŠ¡å™¨å‹åŠ›æ–¹é¢æ¥è¯´ï¼ŒClickHouseFile çš„ä¼˜åŠ¿åœ¨æµ·é‡æ•°æ®ä¼ è¾“æ—¶å°±ä½“ç°å‡ºæ¥äº†ï¼Œä¸ä¼šå¯¹æœåŠ¡å™¨é€ æˆå¤ªå¤§çš„å‹åŠ›ã€‚</p><p>ä½†è¿™äºŒè€…å¹¶ä¸æ˜¯ç«äº‰å…³ç³»ï¼Œéœ€è¦æ ¹æ®ä½¿ç”¨åœºæ™¯æ¥é€‰æ‹©ã€‚</p><h1>07 åç»­è®¡åˆ’</h1><p>ç›®å‰è™½ç„¶ SeaTunnel æ”¯æŒ ClickHouseFile æ’ä»¶ï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦ä¼˜åŒ–ï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p><ul><li>Rsync æ”¯æŒï¼›
</li><li>Exactly-Once æ”¯æŒï¼›
</li><li>æ”¯æŒ Zero Copy ä¼ è¾“æ•°æ®æ–‡ä»¶ï¼›
</li><li>æ›´å¤š Engine çš„æ”¯æŒ</li></ul></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="åœ¨Apache SeaTunnel(Incubating) 4 æœˆMeetupä¸Šï¼Œå­©å­ç‹å¤§æ•°æ®ä¸“å®¶ã€OLAPå¹³å°æ¶æ„å¸ˆ è¢æ´ªå†› ä¸ºæˆ‘ä»¬å¸¦æ¥äº†ã€ŠApache SeaTunnel (Incubating)åœ¨å­©å­ç‹çš„åº”ç”¨å®è·µã€‹ã€‚"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/2022/05/01/_Kidswant">SeaTunnel åœ¨å­©å­ç‹çš„é€‰å‹è¿‡ç¨‹åŠåº”ç”¨æ”¹é€ å®è·µ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-01T00:00:00.000Z" itemprop="datePublished">2022å¹´5æœˆ1æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 14 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" src="/zh-CN/assets/images/0-38f7968af0b7239e9d427a85adee4452.png" width="1920" height="1080" class="img_ev3q"></p><p>åœ¨Apache SeaTunnel(Incubating) 4 æœˆMeetupä¸Šï¼Œå­©å­ç‹å¤§æ•°æ®ä¸“å®¶ã€OLAPå¹³å°æ¶æ„å¸ˆ è¢æ´ªå†› ä¸ºæˆ‘ä»¬å¸¦æ¥äº†ã€ŠApache SeaTunnel (Incubating)åœ¨å­©å­ç‹çš„åº”ç”¨å®è·µã€‹ã€‚</p><p>æœ¬æ¬¡æ¼”è®²ä¸»è¦åŒ…å«äº”ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><p>å­©å­ç‹å¼•å…¥Apache SeaTunnel (Incubating)çš„èƒŒæ™¯ä»‹ç»</p></li><li><p>å¤§æ•°æ®å¤„ç†ä¸»æµå·¥å…·å¯¹æ¯”åˆ†æ</p></li><li><p>Apache SeaTunnel (Incubating)çš„è½åœ°å®è·µ</p></li><li><p>Apache SeaTunnel (Incubating)æ”¹é€ ä¸­çš„å¸¸è§é—®é¢˜</p></li><li><p>å¯¹å­©å­ç‹æœªæ¥å‘å±•æ–¹å‘çš„é¢„æµ‹å±•æœ›</p></li></ul><p><img loading="lazy" src="/zh-CN/assets/images/0-1-4c853aa726b29acc5954ba53240dc2b8.png" width="2578" height="2567" class="img_ev3q"></p><p>è¢æ´ªå†›</p><p>å­©å­ç‹ å¤§æ•°æ®ä¸“å®¶ã€OLAP å¹³å°æ¶æ„å¸ˆã€‚å¤šå¹´å¤§æ•°æ®å¹³å°ç ”å‘ç®¡ç†ç»éªŒï¼Œåœ¨æ•°æ®èµ„äº§ã€è¡€ç¼˜å›¾è°±ã€æ•°æ®æ²»ç†ã€OLAP ç­‰é¢†åŸŸæœ‰ç€ä¸°å¯Œçš„ç ”ç©¶ç»éªŒã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01-èƒŒæ™¯ä»‹ç»">01 èƒŒæ™¯ä»‹ç»<a href="#01-èƒŒæ™¯ä»‹ç»" class="hash-link" aria-label="01 èƒŒæ™¯ä»‹ç»çš„ç›´æ¥é“¾æ¥" title="01 èƒŒæ™¯ä»‹ç»çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><img loading="lazy" src="/zh-CN/assets/images/1-b67aae24cc6274ca2d6a4541848b847d.png" width="1583" height="979" class="img_ev3q"></p><p>ç›®å‰å­©å­ç‹çš„OLAPå¹³å°ä¸»è¦åŒ…å«å…ƒæ•°æ®å±‚ã€ä»»åŠ¡å±‚ã€å­˜å‚¨å±‚ã€SQLå±‚ã€è°ƒåº¦å±‚ã€æœåŠ¡å±‚ä»¥åŠç›‘æ§å±‚ä¸ƒéƒ¨åˆ†ï¼Œæœ¬æ¬¡åˆ†äº«ä¸»è¦å…³æ³¨ä»»åŠ¡å±‚ä¸­çš„ç¦»çº¿ä»»åŠ¡ã€‚</p><p>å…¶å®å­©å­ç‹å†…éƒ¨æœ‰ä¸€å¥—å®Œæ•´çš„é‡‡é›†æ¨é€ç³»ç»Ÿï¼Œä½†ç”±äºä¸€äº›å†å²é—ç•™é—®é¢˜ï¼Œå…¬å¸ç°æœ‰çš„å¹³å°æ— æ³•å¿«é€Ÿæ”¯æŒOLAPå¹³å°ä¸Šçº¿ï¼Œå› æ­¤å½“æ—¶å…¬å¸åªèƒ½é€‰æ‹©æ”¾å¼ƒè‡ªèº«çš„å¹³å°ï¼Œè½¬è€Œç€æ‰‹ç ”å‘æ–°çš„ç³»ç»Ÿã€‚</p><p>å½“æ—¶æ‘†åœ¨OLAPé¢å‰çš„æœ‰ä¸‰ä¸ªé€‰æ‹©ï¼š</p><p>1ã€ç»™äºˆé‡‡é›†æ¨é€ç³»ç»ŸåšäºŒæ¬¡ç ”å‘ï¼›</p><p>2ã€å®Œå…¨è‡ªç ”ï¼›</p><p>3ã€å‚ä¸å¼€æºé¡¹ç›®ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="02-å¤§æ•°æ®å¤„ç†ä¸»æµå·¥å…·å¯¹æ¯”åˆ†æ">02 å¤§æ•°æ®å¤„ç†ä¸»æµå·¥å…·å¯¹æ¯”åˆ†æ<a href="#02-å¤§æ•°æ®å¤„ç†ä¸»æµå·¥å…·å¯¹æ¯”åˆ†æ" class="hash-link" aria-label="02 å¤§æ•°æ®å¤„ç†ä¸»æµå·¥å…·å¯¹æ¯”åˆ†æçš„ç›´æ¥é“¾æ¥" title="02 å¤§æ•°æ®å¤„ç†ä¸»æµå·¥å…·å¯¹æ¯”åˆ†æçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>è€Œè¿™ä¸‰é¡¹é€‰æ‹©å´å„æœ‰ä¼˜åŠ£ã€‚è‹¥é‡‡åŸºäºé‡‡é›†æ¨é€åšäºŒæ¬¡ç ”å‘ï¼Œå…¶ä¼˜ç‚¹æ˜¯æœ‰å‰äººçš„ç»éªŒï¼Œèƒ½å¤Ÿé¿å…é‡å¤è¸©å‘ã€‚ä½†ç¼ºç‚¹æ˜¯ä»£ç é‡å¤§ï¼Œç ”è¯»æ—¶é—´ã€ç ”è¯»å‘¨æœŸè¾ƒé•¿ï¼Œè€Œä¸”æŠ½è±¡ä»£ç è¾ƒå°‘ï¼Œä¸ä¸šåŠ¡ç»‘å®šçš„å®šåˆ¶åŒ–åŠŸèƒ½è¾ƒå¤šï¼Œè¿™ä¹Ÿå¯¼è‡´äº†å…¶äºŒå¼€çš„éš¾åº¦è¾ƒå¤§ã€‚</p><p>è‹¥å®Œå…¨è‡ªç ”ï¼Œå…¶ä¼˜ç‚¹ç¬¬ä¸€æ˜¯å¼€å‘è¿‡ç¨‹è‡ªä¸»å¯æ§ï¼Œç¬¬äºŒæ˜¯å¯ä»¥é€šè¿‡Sparkç­‰ä¸€äº›å¼•æ“åšè´´åˆæˆ‘ä»¬è‡ªèº«çš„æ¶æ„ï¼Œä½†ç¼ºç‚¹æ˜¯å¯èƒ½ä¼šé­é‡ä¸€äº›æœªçŸ¥çš„é—®é¢˜ã€‚</p><p>æœ€åå¦‚æœä½¿ç”¨å¼€æºæ¡†æ¶ï¼Œå…¶ä¼˜ç‚¹ä¸€æ˜¯æŠ½è±¡ä»£ç è¾ƒå¤šï¼ŒäºŒæ˜¯ç»è¿‡å…¶ä»–å¤§å‚æˆ–å…¬å¸çš„éªŒè¯ï¼Œæ¡†æ¶åœ¨æ€§èƒ½å’Œç¨³å®šæ–¹é¢èƒ½å¤Ÿå¾—åˆ°ä¿éšœã€‚å› æ­¤å­©å­ç‹åœ¨OLAPæ•°æ®åŒæ­¥åˆæœŸï¼Œæˆ‘ä»¬ä¸»è¦ç ”ç©¶äº†DATAXã€Sqoopå’ŒSeaTunnelè¿™ä¸‰ä¸ªå¼€æºæ•°æ®åŒæ­¥å·¥å…·ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/2-a6b8a591b0c27aed589b35565edf7c02.png" width="876" height="915" class="img_ev3q"></p><p>ä»è„‘å›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒSqoopçš„ä¸»è¦åŠŸèƒ½æ˜¯é’ˆå¯¹RDBçš„æ•°æ®åŒæ­¥ï¼Œå…¶å®ç°æ–¹å¼æ˜¯åŸºäºMAP/REDUCEã€‚Sqoopæ‹¥æœ‰ä¸°å¯Œçš„å‚æ•°å’Œå‘½ä»¤è¡Œå¯ä»¥å»æ‰§è¡Œå„ç§æ“ä½œã€‚Sqoopçš„ä¼˜ç‚¹åœ¨äºå®ƒé¦–å…ˆè´´åˆHadoopç”Ÿæ€ï¼Œå¹¶å·²ç»æ”¯æŒå¤§éƒ¨åˆ†RDBåˆ°HIVEä»»æ„æºçš„è½¬æ¢ï¼Œæ‹¥æœ‰å®Œæ•´çš„å‘½ä»¤é›†å’ŒAPIçš„åˆ†å¸ƒå¼æ•°æ®åŒæ­¥å·¥å…·ã€‚</p><p>ä½†å…¶ç¼ºç‚¹æ˜¯Sqoopåªæ”¯æŒRDBçš„æ•°æ®åŒæ­¥ï¼Œå¹¶ä¸”å¯¹äºæ•°æ®æ–‡ä»¶æœ‰ä¸€å®šçš„é™åˆ¶ï¼Œä»¥åŠè¿˜æ²¡æœ‰æ•°æ®æ¸…æ´—çš„æ¦‚å¿µã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/3-3ff7bcde6e57af360cccd3d50e713b8e.png" width="2452" height="1485" class="img_ev3q"></p><p>DataXçš„ä¸»è¦åŠŸèƒ½æ˜¯ä»»æ„æºçš„æ•°æ®åŒæ­¥ï¼Œé€šè¿‡é…ç½®åŒ–æ–‡ä»¶+å¤šçº¿ç¨‹çš„æ–¹å¼å®ç°ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæµç¨‹ï¼šReaderã€Frameworkå’ŒWriterï¼Œå…¶ä¸­Frameworkä¸»è¦èµ·åˆ°é€šä¿¡å’Œç•™ç©ºçš„ä½œç”¨ã€‚</p><p>DataXçš„ä¼˜ç‚¹æ˜¯å®ƒé‡‡ç”¨äº†æ’ä»¶å¼çš„å¼€å‘ï¼Œæ‹¥æœ‰è‡ªå·±çš„æµæ§å’Œæ•°æ®ç®¡æ§ï¼Œåœ¨ç¤¾åŒºæ´»è·ƒåº¦ä¸Šï¼ŒDataXçš„å®˜ç½‘ä¸Šæä¾›äº†è®¸å¤šä¸åŒæºçš„æ•°æ®æ¨é€ã€‚ä½†DataXçš„ç¼ºç‚¹åœ¨äºå®ƒåŸºäºå†…å­˜ï¼Œå¯¹æ•°æ®é‡å¯èƒ½å­˜åœ¨é™åˆ¶ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/4-96dfdedcf3c28bf69a805f20cc51e960.png" width="2199" height="1860" class="img_ev3q"></p><p>Apache SeaTunnel (Incubating)åšçš„ä¹Ÿæ˜¯ä»»æ„æºçš„æ•°æ®åŒæ­¥ï¼Œå®ç°æµç¨‹åˆ†ä¸ºsourceã€transformå’Œsinkä¸‰æ­¥ï¼ŒåŸºäºé…ç½®æ–‡ä»¶ã€Sparkæˆ–Flinkå®ç°ã€‚å…¶ä¼˜ç‚¹æ˜¯ç›®å‰å®˜ç½‘2.1.0æœ‰éå¸¸å¤šçš„æ’ä»¶å’Œæºçš„æ¨é€ï¼ŒåŸºäºæ’ä»¶å¼çš„æ€æƒ³ä¹Ÿä½¿å…¶éå¸¸å®¹æ˜“æ‰©å±•ï¼Œæ‹¥æŠ±Sparkå’ŒFlinkçš„åŒæ—¶ä¹Ÿåšåˆ°äº†åˆ†å¸ƒå¼çš„æ¶æ„ã€‚è¦è¯´Apache SeaTunnel (Incubating)å”¯ä¸€çš„ç¼ºç‚¹å¯èƒ½æ˜¯ç›®å‰ç¼ºå°‘IPçš„è°ƒç”¨ï¼ŒUIç•Œé¢éœ€è¦è‡ªå·±åšç®¡æ§ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒSqoopè™½ç„¶æ˜¯åˆ†å¸ƒå¼ï¼Œä½†æ˜¯ä»…æ”¯æŒRDBå’ŒHIVEã€Hbaseä¹‹é—´çš„æ•°æ®åŒæ­¥ä¸”æ‰©å±•èƒ½åŠ›å·®ï¼Œä¸åˆ©äºäºŒå¼€ã€‚DataXæ‰©å±•æ€§å¥½ï¼Œæ•´ä½“æ€§ç¨³å®šï¼Œä½†ç”±äºæ˜¯å•æœºç‰ˆï¼Œæ— æ³•åˆ†å¸ƒå¼é›†ç¾¤éƒ¨ç½²ï¼Œä¸”æ•°æ®æŠ½å–èƒ½åŠ›å’Œæœºå™¨æ€§èƒ½æœ‰å¼ºä¾èµ–å…³ç³»ã€‚è€ŒSeaTunnelå’ŒDataXç±»ä¼¼å¹¶å¼¥è¡¥äº†DataXéåˆ†å¸ƒå¼çš„é—®é¢˜ï¼Œå¯¹äºå®æ—¶æµä¹Ÿåšäº†å¾ˆå¥½çš„æ”¯æŒï¼Œè™½ç„¶æ˜¯æ–°äº§å“ï¼Œä½†ç¤¾åŒºæ´»è·ƒåº¦é«˜ã€‚åŸºäºæ˜¯å¦æ”¯æŒåˆ†å¸ƒå¼ã€æ˜¯å¦éœ€è¦å•ç‹¬æœºå™¨éƒ¨ç½²ç­‰è¯¸å¤šå› ç´ çš„è€ƒé‡ï¼Œæœ€åæˆ‘ä»¬é€‰æ‹©äº†SeaTunnelã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="03-apache-seatunnel-incubatingçš„è½åœ°å®è·µ">03 Apache SeaTunnel (Incubating)çš„è½åœ°å®è·µ<a href="#03-apache-seatunnel-incubatingçš„è½åœ°å®è·µ" class="hash-link" aria-label="03 Apache SeaTunnel (Incubating)çš„è½åœ°å®è·µçš„ç›´æ¥é“¾æ¥" title="03 Apache SeaTunnel (Incubating)çš„è½åœ°å®è·µçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨Apache SeaTunnel (Incubating)çš„å®˜ç½‘æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Apache SeaTunnel (Incubating)çš„åŸºç¡€æµç¨‹åŒ…æ‹¬sourceã€transformå’Œsinkä¸‰éƒ¨åˆ†ã€‚æ ¹æ®å®˜ç½‘çš„æŒ‡å—ï¼ŒApache SeaTunnel (Incubating)çš„å¯åŠ¨éœ€è¦é…ç½®è„šæœ¬ï¼Œä½†ç»è¿‡æˆ‘ä»¬çš„ç ”ç©¶å‘ç°ï¼ŒApache SeaTunnel (Incubating)çš„æœ€ç»ˆæ‰§è¡Œæ˜¯ä¾èµ–configæ–‡ä»¶çš„spark-submitæäº¤çš„ä¸€ä¸ªApplicationåº”ç”¨ã€‚</p><p>è¿™ç§åˆå§‹åŒ–æ–¹å¼è™½ç„¶ç®€å•ï¼Œä½†å­˜åœ¨å¿…é¡»ä¾èµ–Configæ–‡ä»¶çš„é—®é¢˜ï¼Œæ¯æ¬¡è¿è¡Œä»»åŠ¡åéƒ½ä¼šç”Ÿæˆå†è¿›è¡Œæ¸…é™¤ï¼Œè™½ç„¶å¯ä»¥åœ¨è°ƒåº¦è„šæœ¬ä¸­åŠ¨æ€ç”Ÿæˆï¼Œä½†ä¹Ÿäº§ç”Ÿäº†ä¸¤ä¸ªé—®é¢˜ã€‚1ã€é¢‘ç¹çš„ç£ç›˜æ“ä½œæ˜¯å¦æœ‰æ„ä¹‰ï¼›2ã€æ˜¯å¦å­˜åœ¨æ›´ä¸ºé«˜æ•ˆçš„æ–¹å¼æ”¯æŒApache SeaTunnel (Incubating)çš„è¿è¡Œã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/5-94809b2d6f1fbbac48a249728119e5af.png" width="1597" height="973" class="img_ev3q"></p><p>åŸºäºä»¥ä¸Šè€ƒé‡ï¼Œåœ¨æœ€ç»ˆçš„è®¾è®¡æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬å¢åŠ äº†ä¸€ä¸ªç»Ÿä¸€é…ç½®æ¨¡æ¿å¹³å°æ¨¡å—ã€‚è°ƒåº¦æ—¶åªéœ€è¦å‘èµ·ä¸€ä¸ªæäº¤å‘½ä»¤ï¼Œç”±Apache SeaTunnel (Incubating)è‡ªèº«å»ç»Ÿä¸€é…ç½®æ¨¡æ¿å¹³å°ä¸­æ‹‰å–é…ç½®ä¿¡æ¯ï¼Œå†å»è£…è½½å’Œåˆå§‹åŒ–å‚æ•°ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/5-1-05477f37c0f5e72755d1335853ea650e.png" width="1496" height="1022" class="img_ev3q"></p><p>ä¸Šå›¾å±•ç¤ºçš„ä¾¿æ˜¯å­©å­ç‹OLAPçš„ä¸šåŠ¡æµç¨‹ï¼Œä¸»è¦åˆ†ä¸ºä¸‰å—ã€‚æ•°æ®ä»Parquetï¼Œå³Hiveï¼Œé€šè¿‡Parquetè¡¨çš„æ–¹å¼åˆ°KYLINå’ŒCK sourceçš„æ•´ä½“æµç¨‹ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/7-1317712145fdcaee3b0219f09f68a739.png" width="1205" height="766" class="img_ev3q"></p><p>è¿™æ˜¯æˆ‘ä»¬å»ºæ¨¡çš„é¡µé¢ï¼Œä¸»è¦é€šè¿‡æ‹–æ‹‰æ‹½çš„æ–¹å¼ç”Ÿæˆæœ€ç»ˆæ¨¡å‹ï¼Œæ¯ä¸ªè¡¨ä¹‹é—´é€šè¿‡ä¸€äº›äº¤æ˜“æ“ä½œï¼Œå³ä¾§æ˜¯é’ˆå¯¹Apache SeaTunnel (Incubating)çš„å¾®å¤„ç†ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/8-d476fef7e065db158f63dd1b3291543b.jpg" width="1306" height="609" class="img_ev3q"></p><p>å› æ­¤æˆ‘ä»¬æœ€ç»ˆæäº¤çš„å‘½ä»¤å¦‚ä¸Šï¼Œå…¶ä¸­æ ‡çº¢çš„é¦–å…ˆæ˜¯ã€-conf customconfig/jarsã€‘ï¼ŒæŒ‡ç”¨æˆ·å¯ä»¥å†ç»Ÿä¸€é…ç½®æ¨¡æ¿å¹³å°è¿›è¡Œå¤„ç†ï¼Œæˆ–è€…å»ºæ¨¡æ—¶å•ç‹¬æŒ‡å®šã€‚æœ€åæ ‡çº¢çš„ã€421 $start_time $end_time $taskTypeã€‘Unicodeï¼Œå±äºå”¯ä¸€ç¼–ç ã€‚</p><p>ä¸‹æ–¹å›¾å·¦å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆè°ƒåº¦è„šæœ¬æäº¤çš„38ä¸ªå‘½ä»¤ï¼Œä¸‹æ–¹å›¾å³æ˜¯é’ˆå¯¹Apache SeaTunnel (Incubating)åšçš„æ”¹é€ ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªè¾ƒä¸ºç‰¹æ®Šçš„åä¸ºWaterdropContextçš„å·¥å…·ç±»ã€‚å¯ä»¥é¦–å…ˆåˆ¤æ–­Unicodeæ˜¯å¦å­˜åœ¨ï¼Œå†é€šè¿‡Unicode_codeæ¥è·å–ä¸åŒæ¨¡æ¿çš„é…ç½®ä¿¡æ¯ï¼Œé¿å…äº†configæ–‡ä»¶çš„æ“ä½œã€‚</p><p>åœ¨æœ€åçš„reportMetaåˆ™æ˜¯ç”¨äºåœ¨ä»»åŠ¡æ‰§è¡Œå®Œæˆåä¸ŠæŠ¥ä¸€äº›ä¿¡æ¯ï¼Œè¿™ä¹Ÿä¼šåœ¨Apache SeaTunnel (Incubating)ä¸­å®Œæˆã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/9-018ad4a2a0de58d2d3c9c69fffbcd06c.png" width="1136" height="940" class="img_ev3q"></p><p><img loading="lazy" src="/zh-CN/assets/images/10-f0199109244a92f734e89024bef0b51b.png" width="944" height="388" class="img_ev3q"></p><p><img loading="lazy" src="data:image/png;base64,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s7IJECBAgAABAs8QKAuvz5izWRAgQIAAAQIECDQqUBBeu21XR1QbXWZlEyBAgAABAgSeIRANr+cl1y4QO43wjJvJLAgQIECAAAECZwtEw2tXR36s1bFZ87xYfLad/gkQIECAAAECBC4WiIbXbn80fbr6HB64eJEMR4AAAQIECBAgkASi4TW1Tnuux+68WgkCBAgQIECAAAECQYGy8Nrffw0OoBkBAgQIECBAgACBowTKwutRo+Z+bOIeTqpDAgQIECBAgMCDBSqH13yO9sHEpkaAAAECBAgQIHCUQOXwetQ09EOAAAECBAgQIPAGAeH1DatsjgQIECBAgACBhwgIrw9ZSNMgQIAAAQIECLxBQHh9wyqbIwECBAgQIEDgIQLC60MW0jQIECBAgAABAm8QEF7fsMrmSIAAAQIECBB4iIDw+pCFNA0CBAgQIECAwBsETgmv3asHvH3gDXePORIgQIAAAQIELhY4Jbx2rx64eBqGI0CAAAECBAgQeINANLymzdT8eQONORIgQIAAAQIECNxNIBpeu7rTq1y90PVuS6geAgQIECBAgMB7BArC63tQzJQAAQIECBAgQOCeAgXh1ZmBey6hqggQIECAAAEC7xEoCK/5zEDkSQJd40iz90CbKQECBAgQIECAwH6BaHgtfYBAl1xLL9k/GT0QIECAAAECBAg8WyAaXm2jPvs+MDsCBAgQIECAQBMC0fCajgGkjy3VJpZWkQQIECBAgACB5wlEw2s3c8/Jet7ymxEBAgQIECBAoC2BgvAan5gzBnErLQkQIECAAAECBOICp4RXLzKIL4CWBAgQIECAAAECcYFTwmt8eC0JECBAgAABAgQIxAWE17iVlgQIECBAgAABApUFhNfKC2B4AgQIECBAgACBuIDwGrfSkgABAgQIECBAoLKA8Fp5AQxPgAABAgQIECAQFxBe41ZaEiBAgAABAgQIVBYQXisvgOEJECBAgAABAgTiAsJr3EpLAgQIECBAgACBygLCa+UFMDwBAgQIECBAgEBcoCy8du999erXOK6WBAgQIECAAAECxwoUhNcutqb3vsqvx66B3ggQIECAAAECBIIC0fCakmvqNP8QHEMzAgQIECBAgAABAocIRMNrGsyxgUPQdUKAAAECBAgQILBNoCC8OjawjdhVBAgQIECAAAECRwkUhFenBY5C1w8BAgQIECBA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" width="916" height="348" class="img_ev3q"></p><p>åœ¨æœ€ç»ˆå®Œæˆçš„configæ–‡ä»¶å¦‚ä¸Šï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯åœ¨transformæ–¹é¢ï¼Œå­©å­ç‹åšäº†ä¸€äº›æ”¹é€ ã€‚é¦–å…ˆæ˜¯é’ˆå¯¹æ‰‹æœºæˆ–è€…èº«ä»½è¯å·ç­‰åšè„±æ•å¤„ç†ï¼Œå¦‚æœç”¨æˆ·æŒ‡å®šå­—æ®µï¼Œå°±æŒ‰ç…§å­—æ®µåšï¼Œå¦‚æœä¸æŒ‡å®šå­—æ®µå°±æ‰«ææ‰€æœ‰å­—æ®µï¼Œç„¶åæ ¹æ®æ¨¡å¼åŒ¹é…ï¼Œè¿›è¡Œè„±æ•åŠ å¯†ã€‚</p><p>ç¬¬äºŒtransformè¿˜æ”¯æŒè‡ªå®šä¹‰å¤„ç†ï¼Œå¦‚ä¸Šæ–‡è¯´é“OLAPå»ºæ¨¡çš„æ—¶å€™è¯´åˆ°ã€‚åŠ å…¥äº†HideStrï¼Œå¯ä»¥ä¿ç•™ä¸€ä¸²å­—ç¬¦çš„å‰åä¸ªå­—æ®µï¼ŒåŠ å¯†åæ–¹çš„æ‰€æœ‰å­—ç¬¦ï¼Œåœ¨æ•°æ®å®‰å…¨ä¸Šæœ‰æ‰€ä¿éšœã€‚</p><p>ç„¶åï¼Œåœ¨sinkç«¯ï¼Œæˆ‘ä»¬ä¸ºäº†æ”¯æŒä»»åŠ¡çš„å¹‚ç­‰æ€§ï¼Œæˆ‘ä»¬åŠ å…¥äº†pre_sqlï¼Œè¿™ä¸»è¦å®Œæˆçš„ä»»åŠ¡æ˜¯æ•°æ®çš„åˆ é™¤ï¼Œæˆ–åˆ†åŒºçš„åˆ é™¤ï¼Œå› ä¸ºä»»åŠ¡åœ¨ç”Ÿäº§è¿‡ç¨‹ä¸­ä¸å¯èƒ½åªè¿è¡Œä¸€æ¬¡ï¼Œä¸€æ—¦å‡ºç°é‡è·‘æˆ–è¡¥æ•°ç­‰æ“ä½œï¼Œå°±éœ€è¦è¿™ä¸€éƒ¨åˆ†ä¸ºæ•°æ®çš„ä¸åŒå’Œæ­£ç¡®æ€§åšè€ƒé‡ã€‚</p><p>åœ¨å›¾å³æ–¹çš„ä¸€ä¸ªClickhouseçš„Sinkç«¯ï¼Œè¿™é‡Œæˆ‘ä»¬åŠ å…¥äº†ä¸€ä¸ªis_senseless_modeï¼Œå®ƒç»„æˆäº†ä¸€ä¸ªè¯»å†™åˆ†ç¦»çš„æ— æ„Ÿæ¨¡å¼ï¼Œç”¨æˆ·åœ¨æŸ¥è¯¢å’Œè¡¥æ•°çš„æ—¶å€™ä¸æ„ŸçŸ¥æ•´ä½“åŒºåŸŸï¼Œè€Œæ˜¯ç”¨åˆ°CKçš„åˆ†åŒºè½¬æ¢ï¼Œå³åä¸ºMOVE PARTITION TO TABLEçš„å‘½ä»¤è¿›è¡Œæ“ä½œçš„ã€‚</p><p>æ­¤å¤„ç‰¹åˆ«è¯´æ˜KYLINçš„Sinkç«¯ï¼ŒKYLINæ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æºï¼Œæ‹¥æœ‰è‡ªå·±ä¸€æ•´å¥—æ•°æ®å½•å…¥çš„é€»è¾‘ï¼Œè€Œä¸”ï¼Œä»–æœ‰è‡ªå·±çš„ç›‘æ§é¡µé¢ï¼Œå› æ­¤æˆ‘ä»¬ç»™äºˆKYLINçš„æ”¹é€ åªæ˜¯ç®€å•åœ°è°ƒç”¨å…¶APIæ“ä½œï¼Œåœ¨ä½¿ç”¨KYLINæ—¶ä¹Ÿåªæ˜¯ç®€å•çš„APIè°ƒç”¨å’Œä¸æ–­è½®è¯¢çš„çŠ¶æ€ï¼Œæ‰€ä»¥KYLINè¿™å—çš„èµ„æºåœ¨ç»Ÿä¸€æ¨¡æ¿é…ç½®å¹³å°å°±è¢«é™åˆ¶åœ°å¾ˆå°ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/12-61af6fe2e1a38126ec03a0291e15c1bf.jpg" width="1307" height="593" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="04-apache-seatunnel-incubatingæ”¹é€ ä¸­çš„å¸¸è§é—®é¢˜">04 Apache SeaTunnel (Incubating)æ”¹é€ ä¸­çš„å¸¸è§é—®é¢˜<a href="#04-apache-seatunnel-incubatingæ”¹é€ ä¸­çš„å¸¸è§é—®é¢˜" class="hash-link" aria-label="04 Apache SeaTunnel (Incubating)æ”¹é€ ä¸­çš„å¸¸è§é—®é¢˜çš„ç›´æ¥é“¾æ¥" title="04 Apache SeaTunnel (Incubating)æ”¹é€ ä¸­çš„å¸¸è§é—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>1ã€OOM&amp;Too many Parts</p><p>é—®é¢˜é€šå¸¸ä¼šå‡ºç°åœ¨Hiveåˆ°Hiveçš„è¿‡ç¨‹ä¸­ï¼Œå³ä½¿æˆ‘ä»¬é€šè¿‡äº†è‡ªåŠ¨èµ„æºçš„åˆ†é…ï¼Œä½†ä¹Ÿå­˜åœ¨æ•°æ®çªç„¶é—´å˜å¤§çš„æƒ…å†µï¼Œæ¯”å¦‚åœ¨ä¸¾åŠäº†å¤šæ¬¡æ´»åŠ¨ä¹‹åã€‚è¿™æ ·çš„é—®é¢˜å…¶å®åªèƒ½é€šè¿‡æ‰‹åŠ¨åŠ¨æ€åœ°è°ƒå‚ï¼Œè°ƒæ•´æ•°æ®åŒæ­¥æ‰¹é‡æ—¶é—´æ¥é¿å…ã€‚æœªæ¥æˆ‘ä»¬å¯èƒ½å°½åŠ›å»å®Œæˆå¯¹äºæ•°æ®é‡çš„æŒæ¡ï¼Œåšåˆ°ç²¾ç»†çš„æ§åˆ¶ã€‚</p><p>2ã€å­—æ®µã€ç±»å‹ä¸ä¸€è‡´é—®é¢˜</p><p>æ¨¡å‹ä¸Šçº¿åï¼Œä»»åŠ¡ä¾èµ–çš„ä¸Šæ¸¸è¡¨æˆ–è€…å­—æ®µï¼Œç”¨æˆ·éƒ½ä¼šåšä¸€äº›ä¿®æ”¹ï¼Œè¿™äº›ä¿®æ”¹è‹¥æ— æ³•æ„ŸçŸ¥ï¼Œå¯èƒ½å¯¼è‡´ä»»åŠ¡çš„å¤±è´¥ã€‚ç›®å‰è§£å†³æ–¹æ³•æ˜¯ä¾æ‰˜è¡€ç¼˜+å¿«ç…§çš„æ–¹å¼è¿›è¡Œæå‰æ„ŸçŸ¥æ¥é¿å…é”™è¯¯ã€‚</p><p>3ã€è‡ªå®šä¹‰æ•°æ®æº&amp;è‡ªå®šä¹‰åˆ†éš”ç¬¦</p><p>å¦‚è´¢åŠ¡éƒ¨é—¨éœ€è¦å•ç‹¬ä½¿ç”¨çš„åˆ†å‰²ç¬¦ï¼Œæˆ–æ˜¯jarä¿¡æ¯ï¼Œç°åœ¨ç”¨æˆ·å¯ä»¥è‡ªå·±åœ¨ç»Ÿä¸€é…ç½®æ¨¡æ¿å¹³å°æŒ‡å®šåŠ è½½é¢å¤–jarä¿¡æ¯ä»¥åŠåˆ†å‰²ç¬¦ä¿¡æ¯ã€‚</p><p>4ã€æ•°æ®å€¾æ–œé—®é¢˜</p><p>è¿™å¯èƒ½å› ä¸ºç”¨æˆ·è‡ªå·±è®¾ç½®äº†å¹¶è¡Œåº¦ï¼Œä½†æ— æ³•åšåˆ°å°½å–„å°½ç¾ã€‚è¿™ä¸€å—æˆ‘ä»¬æš‚æ—¶è¿˜æ²¡æœ‰å®Œæˆå¤„ç†ï¼Œåç»­çš„æ€è·¯å¯èƒ½åœ¨Sourceæ¨¡å—ä¸­æ·»åŠ postå¤„ç†ï¼Œå¯¹æ•°æ®è¿›è¡Œæ‰“æ•£ï¼Œå®Œæˆå€¾æ–œã€‚</p><p>5ã€KYLINå…¨å±€å­—å…¸é”é—®é¢˜</p><p>éšç€ä¸šåŠ¡å‘å±•ï¼Œä¸€ä¸ªcubeæ— æ³•æ»¡è¶³ç”¨æˆ·ä½¿ç”¨ï¼Œå°±èƒ½éœ€è¦å»ºç«‹å¤šä¸ªcubeï¼Œå¦‚æœå¤šä¸ªcubeä¹‹é—´ç”¨äº†ç›¸åŒçš„å­—æ®µï¼Œå°±ä¼šé‡åˆ°KYLINå…¨å±€å­—å…¸é”çš„é—®é¢˜ã€‚ç›®å‰è§£å†³çš„æ€è·¯æ˜¯æŠŠä¸¤ä¸ªæˆ–å¤šä¸ªä»»åŠ¡ä¹‹é—´çš„è°ƒåº¦æ—¶é—´è¿›è¡Œéš”å¼€ï¼Œå¦‚æœæ— æ³•éš”å¼€ï¼Œå¯ä»¥åšä¸€ä¸ªåˆ†å¸ƒå¼é”çš„æ§åˆ¶ã€‚KYLINçš„sinkç«¯å¿…é¡»è¦æ‹¿åˆ°é”æ‰èƒ½è¿è¡Œã€‚</p><p>05 å¯¹å­©å­ç‹æœªæ¥å‘å±•æ–¹å‘çš„é¢„æµ‹å±•æœ›</p><ul><li><p>å¤šæºæ•°æ®åŒæ­¥ï¼Œæœªæ¥å¯èƒ½é’ˆå¯¹RDBæºè¿›è¡Œå¤„ç†</p></li><li><p>åŸºäºå®æ—¶Flinkçš„å®ç°</p></li><li><p>æ¥ç®¡å·²æœ‰é‡‡é›†è°ƒåº¦å¹³å°ï¼ˆä¸»è¦è§£å†³åˆ†åº“åˆ†è¡¨çš„é—®é¢˜ï¼‰</p></li><li><p>æ•°æ®è´¨é‡æ ¡éªŒï¼Œåƒä¸€äº›ç©ºå€¼ã€æ•´ä¸ªæ•°æ®çš„ç©ºç½®ç‡ã€ä¸»æ—¶é—´çš„åˆ¤æ–­ç­‰</p></li></ul><p>æˆ‘çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œå¸Œæœ›ä»¥åå¯ä»¥å’Œç¤¾åŒºå¤šå¤šäº¤æµï¼Œå…±åŒè¿›æ­¥ï¼Œè°¢è°¢ï¼</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="1"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/æ™ºèƒ½åŒ–æ—¶ä»£çš„æ•°æ®é›†æˆæŠ€æœ¯é©æ–°">æ™ºèƒ½åŒ–æ—¶ä»£çš„æ•°æ®é›†æˆæŠ€æœ¯é©æ–°</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-04-08T00:00:00.000Z" itemprop="datePublished">2022å¹´4æœˆ8æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 5 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" alt="1" src="/zh-CN/assets/images/1-3abb262dd4a58a521e31f7249b2058d2.png" width="900" height="383" class="img_ev3q"></p><p>å¯ç®¡ç†ï¼Œå¯è°ƒç”¨ï¼Œå¯è®¡ç®—ï¼Œå¯å˜ç°çš„æ•°æ®èµ„æºæ‰èƒ½æˆä¸ºèµ„äº§ï¼Œä¿¡æ¯ç³»ç»Ÿçš„äº’è”äº’é€šä½¿å¾—å¤šæºå’Œå¤šç»´åº¦çš„æ•°æ®é›†æˆéœ€æ±‚å·¨å¤§ï¼Œè¿™å°±å¯¹æ•°æ®å¤„ç†å’Œé›†æˆçš„å·¥å…·æå‡ºäº†ä¸¥è‹›çš„è¦æ±‚ã€‚</p><p>æ™ºèƒ½åŒ–æ—¶ä»£ï¼Œåœ¨â€œæ™ºæ…§åŸå¸‚â€ã€â€œæ™ºæ…§æ²»ç†â€ã€â€œäº§å“æ™ºèƒ½åŒ–â€ç­‰çš„è¶‹åŠ¿ä¸‹ï¼Œä¼ä¸šå¤§å¤šé¢ä¸´å¦‚ä½•å®ç°é«˜æ•ˆæ•°æ®æ¨é€ï¼Œæé«˜å¹³å°è´¨é‡ï¼Œä»¥åŠä¿éšœæ•°æ®å®‰å…¨çš„æŒ‘æˆ˜ã€‚é€‰å¯¹æ•°æ®é›†æˆå·¥å…·å’Œå¹³å°ï¼Œæ•°æ®æ‰èƒ½å‘æŒ¥å‡ºåšå¤§çš„ä½œç”¨ã€‚</p><p>Apache SeaTunnel (Incubating) ä½œä¸ºä¸‹ä¸€ä»£é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼ã€æµ·é‡æ•°æ®é›†æˆæ¡†æ¶ï¼Œè‡´åŠ›äºè®©æ•°æ®åŒæ­¥æ›´ç®€å•ï¼Œæ›´é«˜æ•ˆï¼ŒåŠ å¿«åˆ†å¸ƒå¼æ•°æ®å¤„ç†èƒ½åŠ›åœ¨ç”Ÿäº§ç¯å¢ƒè½åœ°ã€‚</p><p>åœ¨ Apache SeaTunnel(Incubating) Meetupï¼ˆ2022Â å¹´Â 4Â æœˆÂ 16æ—¥ï¼‰ï¼ŒApache SeaTunnel(Incubating) ç¤¾åŒºå°†é‚€è¯·äº† Apache SeaTunnel(Incubating)çš„èµ„æ·±ç”¨æˆ·ï¼Œåˆ†äº« Apache SeaTunnel(Incubating)åœ¨æ™ºèƒ½åŒ–ç”Ÿäº§ç¯å¢ƒä¸­è½åœ°çš„æœ€ä½³å®è·µã€‚æ­¤å¤–ï¼Œè¿˜ä¼šæœ‰è´¡çŒ®è€…ç°åœºè¿›è¡Œ Apache SeaTunnel(Incubating)çš„æºç è§£æï¼Œè®©ä½ å¯¹ Apache SeaTunnel(Incubating)æœ‰ä¸€ä¸ªæ›´åŠ å…¨é¢è€Œæ·±å…¥çš„äº†è§£ã€‚</p><p>æ— è®ºä½ æ˜¯å¯¹ Apache SeaTunnel(Incubating)æŠ±æœ‰å…´è¶£çš„åˆå­¦è€…ï¼Œè¿˜æ˜¯åœ¨æ—¥å¸¸çš„ç”Ÿäº§å®è·µä¸­é­é‡äº†å¤æ‚æ£˜æ‰‹çš„éƒ¨ç½²é—®é¢˜ï¼Œéƒ½å¯ä»¥æ¥åˆ°è¿™é‡Œï¼Œä¸æˆ‘ä»¬çš„è®²å¸ˆè¿‘è·ç¦»æ²Ÿé€šï¼Œå¾—åˆ°ä½ æƒ³è¦çš„ç­”æ¡ˆã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="01-æŠ¥-å-é€š-é“">01 æŠ¥ å é€š é“<a href="#01-æŠ¥-å-é€š-é“" class="hash-link" aria-label="01 æŠ¥ å é€š é“çš„ç›´æ¥é“¾æ¥" title="01 æŠ¥ å é€š é“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Apache SeaTunnel (Incubating) Meetup | 4 æœˆçº¿ä¸Šç›´æ’­æŠ¥åé€šé“å·²å¼€å¯ï¼Œèµ¶å¿«é¢„çº¦å§ï¼</p><p>æ—¶é—´ï¼š2022-4-16 14:00-17:00</p><p>å½¢å¼ï¼šçº¿ä¸Šç›´æ’­</p><p>ç‚¹å‡»é“¾æ¥æˆ–æ‰«ç é¢„çº¦æŠ¥åï¼ˆå…è´¹ï¼‰ï¼š</p><p><img loading="lazy" alt="2" src="/zh-CN/assets/images/2-e9c01734f2c74a12f59e2f3eecd2a2c6.png" width="300" height="300" class="img_ev3q"></p><p>æ‰«ç é¢„çº¦æŠ¥å</p><p><img loading="lazy" alt="3" src="/zh-CN/assets/images/4-b0dd1cb8a1432483e3f3202cbea5c271.png" width="498" height="507" class="img_ev3q"></p><p>æ‰«ç è¿›ç›´æ’­ç¾¤</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="02-æ´»-åŠ¨-äº®-ç‚¹">02 æ´» åŠ¨ äº® ç‚¹<a href="#02-æ´»-åŠ¨-äº®-ç‚¹" class="hash-link" aria-label="02 æ´» åŠ¨ äº® ç‚¹çš„ç›´æ¥é“¾æ¥" title="02 æ´» åŠ¨ äº® ç‚¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>è¡Œä¸šæ¡ˆä¾‹è¯¦è§£</li><li>ç‰¹è‰²åŠŸèƒ½åˆ†æ</li><li>ä¸€çº¿ä¼ä¸šè¸©å‘å¿ƒå¾—</li><li>å¼€æºç¤¾åŒºå®æˆ˜æ”»ç•¥</li><li>è¡Œä¸šæŠ€æœ¯ä¸“å®¶é¢å¯¹é¢ Q&amp;A</li><li>æƒŠå–œç¤¼å“é€ä¸åœ</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="03-æ´»-åŠ¨-è®®-ç¨‹">03 æ´» åŠ¨ è®® ç¨‹<a href="#03-æ´»-åŠ¨-è®®-ç¨‹" class="hash-link" aria-label="03 æ´» åŠ¨ è®® ç¨‹çš„ç›´æ¥é“¾æ¥" title="03 æ´» åŠ¨ è®® ç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ´»åŠ¨å½“å¤©ï¼Œå°†æœ‰æ¥è‡ªå­©å­ç‹ã€oppo çš„å·¥ç¨‹å¸ˆç°åœºåˆ†äº«æ¥è‡ªå‚å•†çš„ä¸€çº¿å‰æ²¿å®è·µç»éªŒï¼Œè¿˜æœ‰æ¥è‡ªç™½é²¸å¼€æºçš„é«˜çº§å·¥ç¨‹å¸ˆå¯¹ Apache SeaTunnel(Incubating)çš„é‡è¦åŠŸèƒ½æ›´æ–°è¿›è¡Œâ€œç¡¬æ ¸â€è®²è§£ï¼Œå¹²è´§æ»¡æ»¡ã€‚</p><p><img loading="lazy" alt="4" src="/zh-CN/assets/images/5-f80f0bce07f15e8f83f603d16825dde4.png" width="1080" height="1075" class="img_ev3q"></p><p>è¢æ´ªå†›Â å­©å­ç‹ å¤§æ•°æ®ä¸“å®¶ã€OLAP å¹³å°æ¶æ„å¸ˆ</p><p>å¤šå¹´å¤§æ•°æ®å¹³å°ç ”å‘ç®¡ç†ç»éªŒï¼Œåœ¨æ•°æ®èµ„äº§ã€è¡€ç¼˜å›¾è°±ã€æ•°æ®æ²»ç†ã€OLAP ç­‰é¢†åŸŸæœ‰ç€ä¸°å¯Œçš„ç ”ç©¶ç»éªŒ</p><p>æ¼”è®²æ—¶é—´ï¼š14:00-14:40</p><p>æ¼”è®²é¢˜ç›®ï¼šApache SeaTunnel(Incubating) åœ¨å­©å­ç‹çš„åº”ç”¨å®è·µ</p><p>æ¼”è®²æ¦‚è¦ï¼š å¦‚ä½•å®ç°é«˜æ•ˆæ•°æ®æ¨é€ï¼Ÿå¦‚ä½•æé«˜å¹³å°è´¨é‡ï¼Ÿå¦‚ä½•ä¿éšœæ•°æ®å®‰å…¨ï¼Ÿå­©å­ç‹åˆå¯¹ Apache SeaTunnel(Incubating)åšäº†å“ªäº›æ”¹é€ ï¼Ÿ</p><p><img loading="lazy" alt="6" src="/zh-CN/assets/images/6-8f02c4507ef50d7a109ddf227c45a7a5.png" width="1080" height="1080" class="img_ev3q"></p><p>èŒƒä½³Â ç™½é²¸å¼€æºÂ  é«˜çº§å·¥ç¨‹å¸ˆ Apache SeaTunnel Contributor</p><p>æ¼”è®²æ—¶é—´ï¼š 14:40-15:20</p><p>æ¼”è®²é¢˜ç›®ï¼š åŸºäº Apache SeaTunnel(Incubating)çš„ Clickhouse Bulk Load å®ç°</p><p>æ¼”è®²æ¦‚è¦ï¼š é€šè¿‡æ‰©å±• Apache SeaTunnel(Incubating)çš„ Connectorå®ç° Clickhouseçš„ bulk load æ•°æ®åŒæ­¥åŠŸèƒ½ã€‚</p><p><img loading="lazy" alt="7" src="/zh-CN/assets/images/7-8b4c7798dd107093cb31b526eb3d8476.png" width="1080" height="1078" class="img_ev3q"></p><p>ç‹å­è¶…Â oppoÂ é«˜çº§åç«¯å·¥ç¨‹å¸ˆ</p><p>æ¼”è®²æ—¶é—´ï¼š 15:50-16:30</p><p>æ¼”è®²é¢˜ç›®ï¼š oppoæ™ºèƒ½æ¨èæ ·æœ¬ä¸­å¿ƒåŸºäº Apache SeaTunnel(Incubating)çš„æŠ€æœ¯é©æ–°</p><p>æ¼”è®²æ¦‚è¦ï¼š ä»‹ç» oppo æ™ºèƒ½æ¨èæœºå™¨å­¦ä¹ æ ·æœ¬æµç¨‹çš„æ¼”è¿›åŠ Apache Â SeaTunnel(Incubating)Â åœ¨å…¶ä¸­å‘æŒ¥çš„ä½œç”¨ã€‚</p><p>é™¤äº†ç²¾å½©çš„æ¼”è®²ä¹‹å¤–ï¼Œç°åœºè¿˜è®¾ç½®äº†å¤šä¸ªæŠ½å¥–ç¯èŠ‚ï¼Œå‚ä¸æŠ½å¥–æœ‰æœºä¼šè·å¾—Â ApacheÂ SeaTunnel(Incubating)Â ç²¾ç¾å®šåˆ¶ç¤¼å“ï¼Œæ•¬è¯·æœŸå¾…~</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/meetup">Meetup</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="On December 9, 2021, Apache SeaTunnel(Incubating) entered the Apache Incubator, and after nearly four months of endeavor by the community contributors, we passed the first Apache version control in one go and released it on March 18, 2022. This means that version 2.1.0 is an official release that is safe for corporate and individual users to use, which has been voted on by the Apache SeaTunnel(Incubating) community and the Apache Incubator."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/2.1.0-Released-Apache-SeaTunnel-Incubating-First-Apache-Release-Refactors-Kernel-and-Supports-Flink-Overall">2.1.0 Released! Apache SeaTunnel(Incubating) First Apache Release Refactors Kernel and Supports Flink Overall</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-03-18T00:00:00.000Z" itemprop="datePublished">2022å¹´3æœˆ18æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 6 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p>On December 9, 2021, Apache SeaTunnel(Incubating) entered the Apache Incubator, and after nearly four months of endeavor by the community contributors, we passed the first Apache version control in one go and released it on March 18, 2022. This means that version 2.1.0 is an official release that is safe for corporate and individual users to use, which has been voted on by the Apache SeaTunnel(Incubating) community and the Apache Incubator.</p><p><strong>Note:</strong> AÂ <strong>software license</strong>Â is a legal instrument governing the use or redistribution of software. A typical software license grants theÂ licensee, typically anÂ end-user, permission to use one or more copies of the software in ways where such a use would otherwise potentially constitute copyright infringement of the software owner&#x27;sÂ exclusive rightsÂ under copyright. Effectively, a software license is a contract between the software developer and the user that guarantees the user will not be sued within the scope of the license. </p><p>Before and after entering the incubator, we spent a lot of time sorting through the external dependencies of the entire project to ensure compliance. It is important to note that the choice of License for open source software does not necessarily mean that the project itself is compliant. While the stringent version control process of ASF ensures compliance and legal distribution of the software license maximumly.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="release-note">Release Note<a href="#release-note" class="hash-link" aria-label="Release Noteçš„ç›´æ¥é“¾æ¥" title="Release Noteçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>We bring the following <strong>key features</strong>to this release:</p><ol><li>The kernel of the microkernel plug-in architecture is overall optimized, which is mainly in Java. And a lot of improvements are made to command line parameter parsing, plug-in loading, etc. At the same time, the users (or contributors) can choose the language to develop plug-in extensions, which greatly reduces the development threshold of plug-ins.</li><li>Overall support for Flink, while the users are free to choose the underlying engine. This version also brings a large number of Flink plug-ins and welcomes anyone to contribute more.</li><li>Provide local development fast startup environment support (example), allow contributors or users quickly and smoothly start without changing any code to facilitate rapid local development debugging. This is certainly exciting news for contributors or users who need to customize their plugins. In fact, we&#x27;ve had a large number of contributors use this approach to quickly test the plugin in our pre-release testing.</li><li>With Docker container installation provided, users can deploy and install Apache SeaTunnel(Incubating) via Docker extremely fast, and we will iterate around Docker &amp; K8s in the future, any interesting proposal on this is welcomed.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="specific-release-notes">Specific release notesï¼š<a href="#specific-release-notes" class="hash-link" aria-label="Specific release notesï¼šçš„ç›´æ¥é“¾æ¥" title="Specific release notesï¼šçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="features">[Features]<a href="#features" class="hash-link" aria-label="[Features]çš„ç›´æ¥é“¾æ¥" title="[Features]çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ul><li>Use JCommander to do command line parameter parsing, making developers focus on the logic itself.</li><li>Flink is upgraded from 1.9 to 1.13.5, keeping compatibility with older versions and preparing for subsequent CDC.</li><li>Support for Doris, Hudi, Phoenix, Druid, and other Connector plugins, and you can find complete plugin support here <a href="/zh-CN/blog/page/[https://github.com/apache/incubator-seatunnel#plugins-supported-by-seatunnel%5D(https://github.com/apache/incubator-seatunnel#plugins-supported-by-seatunnel)">plugins-supported-by-seatunnel</a>.</li><li>Local development extremely fast starts environment support. It can be achieved by using the example module without modifying any code, which is convenient for local debugging.</li><li>Support for installing and trying out Apache SeaTunnel(Incubating) via Docker containers.</li><li>SQL component supports SET statements and configuration variables.</li><li>Config module refactoring to facilitate understanding for the contributors while ensuring code compliance (License) of the project.</li><li>Project structure realigned to fit the new Roadmap.</li><li>CI&amp;CD support, code quality automation control (more plans will be carried out to support CI&amp;CD development).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="acknowledgments">Acknowledgments<a href="#acknowledgments" class="hash-link" aria-label="Acknowledgmentsçš„ç›´æ¥é“¾æ¥" title="Acknowledgmentsçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Thanks to the following contributors who participated in this version release (GitHub IDs, in no particular order).</p><p>Al-assad, BenJFan, CalvinKirs, JNSimba, JiangTChen, Rianico, TyrantLucifer, Yves-yuan, ZhangchengHu0923, agendazhang, an-shi-chi-fan, asdf2014, bigdataf, chaozwn, choucmei, dailidong, dongzl, felix-thinkingdata, fengyuceNv, garyelephant, kalencaya, kezhenxu94, legendtkl, leo65535, liujinhui1994, mans2singh, marklightning, mosence, nielifeng, ououtt, ruanwenjun, simon824, totalo, wntp, wolfboys, wuchunfu, xbkaishui, xtr1993, yx91490, zhangbutao, zhaomin1423, zhongjiajie, zhuangchong, zixi0825.</p><p>Also sincere gratitude to our Mentors: Zhenxu Ke, Willem Jiang, William Guo, LiDong Dai, Ted Liu, Kevin, JB for their help!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="planning-for-the-next-few-releases">Planning for the next few releases:<a href="#planning-for-the-next-few-releases" class="hash-link" aria-label="Planning for the next few releases:çš„ç›´æ¥é“¾æ¥" title="Planning for the next few releases:çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>CDC support.</li><li>Support for the monitoring system.</li><li>UI system support.</li><li>More Connector and efficient Sink support, such as ClickHouse support will be available in the next release soon.
The follow-up <strong>Features</strong> are decided by the community consensus, and we sincerely appeal to more participation in the community construction.</li></ul><p>We need your attention and contributions:)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="community-status">Community Status<a href="#community-status" class="hash-link" aria-label="Community Statusçš„ç›´æ¥é“¾æ¥" title="Community Statusçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recent-development">Recent Development<a href="#recent-development" class="hash-link" aria-label="Recent Developmentçš„ç›´æ¥é“¾æ¥" title="Recent Developmentçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Since entering the Apache incubator, the contributor group has grown from 13 to 55 and continues to grow, with the average weekly community commits remaining at 20+. </p><p>Three contributors from different companies (Lei Xie, HuaJie Wang, Chunfu Wu) have been invited to become Committers on account of their contributions to the community. </p><p>We held two Meetups, where instructors from Bilibili, OPPO, Vipshop, and other companies shared their large-scale production practices based on SeaTunnel in their companies (we will hold one meetup monthly in the future, and welcome SeaTunnel users or contributors to come and share their stories about SeaTunnel).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="users-of-apache-seatunnelincubating">Users of Apache SeaTunnel(Incubating)<a href="#users-of-apache-seatunnelincubating" class="hash-link" aria-label="Users of Apache SeaTunnel(Incubating)çš„ç›´æ¥é“¾æ¥" title="Users of Apache SeaTunnel(Incubating)çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>Note: Only registered users are included.</p><p>Registered users of Apache SeaTunnel(Incubating) are shown below. If you are also using Apache SeaTunnel(Incubating), too, welcome to register on <a href="https://github.com/apache/incubator-seatunnel/issues/686" target="_blank" rel="noopener noreferrer">Who is using SeaTunne</a>!</p><div align="center"><img loading="lazy" src="/image/20220321/1.png" class="img_ev3q"></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ppmcs-word">PPMC&#x27;s Word<a href="#ppmcs-word" class="hash-link" aria-label="PPMC&#x27;s Wordçš„ç›´æ¥é“¾æ¥" title="PPMC&#x27;s Wordçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>LiFeng Nie, PPMC of Apache SeaTunnel(Incubating), commented on the first Apache version release. </p><p>From the first day entering Apache Incubating, we have been working hard to learn the Apache Way and various Apache policies. Although the first release took a lot of time (mainly for compliance), we think it was well worth it, and that&#x27;s one of the reasons we chose to enter Apache. We need to give our users peace of mind, and Apache is certainly the best choice, with its almost demanding license control that allows users to avoid compliance issues as much as possible and ensure that the software is circulating reasonably and legally. In addition, its practice of the Apache Way, such as public service mission, pragmatism, community over code, openness and consensus decision-making, and meritocracy, can drive the Apache SeaTunnel(Incubating) community to become more open, transparent, and diverse.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/2-1-0">2.1.0</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/release">Release</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="ClickHouse æ˜¯é¢å‘ OLAP çš„åˆ†å¸ƒå¼åˆ—å¼ DBMSã€‚æˆ‘ä»¬éƒ¨é—¨ç›®å‰å·²ç»æŠŠæ‰€æœ‰æ•°æ®åˆ†æç›¸å…³çš„æ—¥å¿—æ•°æ®å­˜å‚¨è‡³ ClickHouse è¿™ä¸ªä¼˜ç§€çš„æ•°æ®ä»“åº“ä¹‹ä¸­ï¼Œå½“å‰æ—¥æ•°æ®é‡è¾¾åˆ°äº† 300 äº¿ã€‚"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/hdfs-to-clickhouse">å¦‚ä½•å¿«é€Ÿåœ°æŠŠ HDFS ä¸­çš„æ•°æ®å¯¼å…¥ ClickHouse</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-30T00:00:00.000Z" itemprop="datePublished">2021å¹´12æœˆ30æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 8 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p>ClickHouse æ˜¯é¢å‘ OLAP çš„åˆ†å¸ƒå¼åˆ—å¼ DBMSã€‚æˆ‘ä»¬éƒ¨é—¨ç›®å‰å·²ç»æŠŠæ‰€æœ‰æ•°æ®åˆ†æç›¸å…³çš„æ—¥å¿—æ•°æ®å­˜å‚¨è‡³ ClickHouse è¿™ä¸ªä¼˜ç§€çš„æ•°æ®ä»“åº“ä¹‹ä¸­ï¼Œå½“å‰æ—¥æ•°æ®é‡è¾¾åˆ°äº† 300 äº¿ã€‚</p><p>ä¹‹å‰ä»‹ç»çš„æœ‰å…³æ•°æ®å¤„ç†å…¥åº“çš„ç»éªŒéƒ½æ˜¯åŸºäºå®æ—¶æ•°æ®æµï¼Œæ•°æ®å­˜å‚¨åœ¨ Kafka ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Java æˆ–è€… Golang å°†æ•°æ®ä» Kafka ä¸­è¯»å–ã€è§£æã€æ¸…æ´—ä¹‹åå†™å…¥ ClickHouse ä¸­ï¼Œè¿™æ ·å¯ä»¥å®ç°æ•°æ®çš„å¿«é€Ÿæ¥å…¥ã€‚ç„¶è€Œåœ¨å¾ˆå¤šåŒå­¦çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæ•°æ®éƒ½ä¸æ˜¯å®æ—¶çš„ï¼Œå¯èƒ½éœ€è¦å°† HDFS æˆ–è€…æ˜¯ Hive ä¸­çš„æ•°æ®å¯¼å…¥ ClickHouseã€‚æœ‰çš„åŒå­¦é€šè¿‡ç¼–å†™ Spark ç¨‹åºæ¥å®ç°æ•°æ®çš„å¯¼å…¥ï¼Œé‚£ä¹ˆæ˜¯å¦æœ‰æ›´ç®€å•ã€é«˜æ•ˆçš„æ–¹æ³•å‘¢ã€‚</p><p>ç›®å‰å¼€æºç¤¾åŒºä¸Šæœ‰ä¸€æ¬¾å·¥å…· <strong>Seatunnel</strong>ï¼Œé¡¹ç›®åœ°å€ <a href="https://github.com/apache/incubator-seatunnel" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel</a>ï¼Œå¯ä»¥å¿«é€Ÿåœ°å°† HDFS ä¸­çš„æ•°æ®å¯¼å…¥ ClickHouseã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hdfs-to-clickhouse">HDFS To ClickHouse<a href="#hdfs-to-clickhouse" class="hash-link" aria-label="HDFS To ClickHouseçš„ç›´æ¥é“¾æ¥" title="HDFS To ClickHouseçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å‡è®¾æˆ‘ä»¬çš„æ—¥å¿—å­˜å‚¨åœ¨ HDFS ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†æ—¥å¿—è¿›è¡Œè§£æå¹¶ç­›é€‰å‡ºæˆ‘ä»¬å…³å¿ƒçš„å­—æ®µï¼Œå°†å¯¹åº”çš„å­—æ®µå†™å…¥ ClickHouse çš„è¡¨ä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-sample">Log Sample<a href="#log-sample" class="hash-link" aria-label="Log Sampleçš„ç›´æ¥é“¾æ¥" title="Log Sampleçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬åœ¨ HDFS ä¸­å­˜å‚¨çš„æ—¥å¿—æ ¼å¼å¦‚ä¸‹ï¼Œ æ˜¯å¾ˆå¸¸è§çš„ Nginx æ—¥å¿—</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token number">10.41</span><span class="token plain">.1.28 github.com </span><span class="token number">114.250</span><span class="token plain">.140.241 </span><span class="token number">0</span><span class="token plain">.001s </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;127.0.0.1:80&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">26</span><span class="token plain">/Oct/2018:03:09:32 +0800</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;GET /Apache/Seatunnel HTTP/1.1&quot;</span><span class="token plain"> </span><span class="token number">200</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;-&quot;</span><span class="token plain"> - </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Dalvik/2.1.0 (Linux; U; Android 7.1.1; OPPO R11 Build/NMF26X)&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;196&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;-&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;mainpage&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;443&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;-&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;172.16.181.129&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-schema">ClickHouse Schema<a href="#clickhouse-schema" class="hash-link" aria-label="ClickHouse Schemaçš„ç›´æ¥é“¾æ¥" title="ClickHouse Schemaçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬çš„ ClickHouse å»ºè¡¨è¯­å¥å¦‚ä¸‹ï¼Œæˆ‘ä»¬çš„è¡¨æŒ‰æ—¥è¿›è¡Œåˆ†åŒº</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CREATE TABLE cms.cms_msg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">date</span><span class="token plain"> Date, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    datetime DateTime, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    url String, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    request_time Float32, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    status String, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">hostname</span><span class="token plain"> String, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    domain String, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    remote_addr String, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data_size Int32, </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    pool String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> ENGINE </span><span class="token operator">=</span><span class="token plain"> MergeTree PARTITION BY </span><span class="token function" style="color:rgb(80, 250, 123)">date</span><span class="token plain"> ORDER BY </span><span class="token function" style="color:rgb(80, 250, 123)">date</span><span class="token plain"> SETTINGS index_granularity </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">16384</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="seatunnel-with-clickhouse">Seatunnel with ClickHouse<a href="#seatunnel-with-clickhouse" class="hash-link" aria-label="Seatunnel with ClickHouseçš„ç›´æ¥é“¾æ¥" title="Seatunnel with ClickHouseçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ¥ä¸‹æ¥ä¼šç»™å¤§å®¶è¯¦ç»†ä»‹ç»ï¼Œæˆ‘ä»¬å¦‚ä½•é€šè¿‡ Seatunnel æ»¡è¶³ä¸Šè¿°éœ€æ±‚ï¼Œå°† HDFS ä¸­çš„æ•°æ®å†™å…¥ ClickHouse ä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="seatunnel">Seatunnel<a href="#seatunnel" class="hash-link" aria-label="Seatunnelçš„ç›´æ¥é“¾æ¥" title="Seatunnelçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><a href="https://github.com/apache/incubator-seatunnel" target="_blank" rel="noopener noreferrer">Seatunnel</a> æ˜¯ä¸€ä¸ªéå¸¸æ˜“ç”¨ï¼Œé«˜æ€§èƒ½ï¼Œèƒ½å¤Ÿåº”å¯¹æµ·é‡æ•°æ®çš„å®æ—¶æ•°æ®å¤„ç†äº§å“ï¼Œå®ƒæ„å»ºåœ¨Sparkä¹‹ä¸Šã€‚Seatunnel æ‹¥æœ‰ç€éå¸¸ä¸°å¯Œçš„æ’ä»¶ï¼Œæ”¯æŒä» Kafkaã€HDFSã€Kudu ä¸­è¯»å–æ•°æ®ï¼Œè¿›è¡Œå„ç§å„æ ·çš„æ•°æ®å¤„ç†ï¼Œå¹¶å°†ç»“æœå†™å…¥ ClickHouseã€Elasticsearch æˆ–è€… Kafka ä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Prerequisitesçš„ç›´æ¥é“¾æ¥" title="Prerequisitesçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£… Seatunnelï¼Œå®‰è£…ååˆ†ç®€å•ï¼Œæ— éœ€é…ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡</p><ol><li>å‡†å¤‡ Spark ç¯å¢ƒ</li><li>å®‰è£… Seatunnel</li><li>é…ç½® Seatunnel</li></ol><p>ä»¥ä¸‹æ˜¯ç®€æ˜“æ­¥éª¤ï¼Œå…·ä½“å®‰è£…å¯ä»¥å‚ç…§ <a href="/zh-CN/docs/quick-start">Quick Start</a></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> /usr/local</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">wget</span><span class="token plain"> https://archive.apache.org/dist/spark/spark-2.2.0/spark-2.2.0-bin-hadoop2.7.tgz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">tar</span><span class="token plain"> -xvf https://archive.apache.org/dist/spark/spark-2.2.0/spark-2.2.0-bin-hadoop2.7.tgz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">wget</span><span class="token plain"> https://github.com/InterestingLab/seatunnel/releases/download/v1.1.1/seatunnel-1.1.1.zip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">unzip</span><span class="token plain"> seatunnel-1.1.1.zip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> seatunnel-1.1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">vim</span><span class="token plain"> config/seatunnel-env.sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># æŒ‡å®šSparkå®‰è£…è·¯å¾„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SPARK_HOME</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${SPARK_HOME</span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">:-</span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">usr</span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">local</span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">spark-2.2.0-bin-hadoop2.7}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="seatunnel-pipeline">seatunnel Pipeline<a href="#seatunnel-pipeline" class="hash-link" aria-label="seatunnel Pipelineçš„ç›´æ¥é“¾æ¥" title="seatunnel Pipelineçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬ä»…éœ€è¦ç¼–å†™ä¸€ä¸ª seatunnel Pipeline çš„é…ç½®æ–‡ä»¶å³å¯å®Œæˆæ•°æ®çš„å¯¼å…¥ã€‚</p><p>é…ç½®æ–‡ä»¶åŒ…æ‹¬å››ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯ Sparkã€Inputã€filter å’Œ Outputã€‚</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="spark">Spark<a href="#spark" class="hash-link" aria-label="Sparkçš„ç›´æ¥é“¾æ¥" title="Sparkçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>è¿™ä¸€éƒ¨åˆ†æ˜¯ Spark çš„ç›¸å…³é…ç½®ï¼Œä¸»è¦é…ç½® Spark æ‰§è¡Œæ—¶æ‰€éœ€çš„èµ„æºå¤§å°ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">spark </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.app.name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;seatunnel&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.instances </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.cores </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.memory </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1g&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="input">Input<a href="#input" class="hash-link" aria-label="Inputçš„ç›´æ¥é“¾æ¥" title="Inputçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>è¿™ä¸€éƒ¨åˆ†å®šä¹‰æ•°æ®æºï¼Œå¦‚ä¸‹æ˜¯ä» HDFS æ–‡ä»¶ä¸­è¯»å– text æ ¼å¼æ•°æ®çš„é…ç½®æ¡ˆä¾‹ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">input </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    hdfs </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        path </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;hdfs://nomanode:8020/rowlog/accesslog&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table_name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access_log&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">format</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;text&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="filter">Filter<a href="#filter" class="hash-link" aria-label="Filterçš„ç›´æ¥é“¾æ¥" title="Filterçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>åœ¨ Filter éƒ¨åˆ†ï¼Œè¿™é‡Œæˆ‘ä»¬é…ç½®ä¸€ç³»åˆ—çš„è½¬åŒ–ï¼ŒåŒ…æ‹¬æ­£åˆ™è§£æå°†æ—¥å¿—è¿›è¡Œæ‹†åˆ†ã€æ—¶é—´è½¬æ¢å°† HTTPDATE è½¬åŒ–ä¸º ClickHouse æ”¯æŒçš„æ—¥æœŸæ ¼å¼ã€å¯¹ Number ç±»å‹çš„å­—æ®µè¿›è¡Œç±»å‹è½¬æ¢ä»¥åŠé€šè¿‡ SQL è¿›è¡Œå­—æ®µç­›å‡ç­‰</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">filter </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ä½¿ç”¨æ­£åˆ™è§£æåŸå§‹æ—¥å¿—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    grok </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;raw_message&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pattern </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;%{IP:ha_ip}\\s%{NOTSPACE:domain}\\s%{IP:remote_addr}\\s%{NUMBER:request_time}s\\s\&quot;%{DATA:upstream_ip}\&quot;\\s\\[%{HTTPDATE:timestamp}\\]\\s\&quot;%{NOTSPACE:method}\\s%{DATA:url}\\s%{NOTSPACE:http_ver}\&quot;\\s%{NUMBER:status}\\s%{NUMBER:body_bytes_send}\\s%{DATA:referer}\\s%{NOTSPACE:cookie_info}\\s\&quot;%{DATA:user_agent}\&quot;\\s%{DATA:uid}\\s%{DATA:session_id}\\s\&quot;%{DATA:pool}\&quot;\\s\&quot;%{DATA:tag2}\&quot;\\s%{DATA:tag3}\\s%{DATA:tag4}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># å°†&quot;dd/MMM/yyyy:HH:mm:ss Z&quot;æ ¼å¼çš„æ•°æ®è½¬æ¢ä¸º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># &quot;yyyy/MM/dd HH:mm:ss&quot;æ ¼å¼çš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">date</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;timestamp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        target_field </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;datetime&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_time_format </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;dd/MMM/yyyy:HH:mm:ss Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        target_time_format </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;yyyy/MM/dd HH:mm:ss&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ä½¿ç”¨SQLç­›é€‰å…³æ³¨çš„å­—æ®µï¼Œå¹¶å¯¹å­—æ®µè¿›è¡Œå¤„ç†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ç”šè‡³å¯ä»¥é€šè¿‡è¿‡æ»¤æ¡ä»¶è¿‡æ»¤æ‰ä¸å…³å¿ƒçš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sql </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table_name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sql </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;select substring(date, 1, 10) as date, datetime, hostname, url, http_code, float(request_time), int(data_size), domain from access&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="output">Output<a href="#output" class="hash-link" aria-label="Outputçš„ç›´æ¥é“¾æ¥" title="Outputçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>æœ€åæˆ‘ä»¬å°†å¤„ç†å¥½çš„ç»“æ„åŒ–æ•°æ®å†™å…¥ ClickHouse</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">output </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    clickhouse </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">host</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;your.clickhouse.host:8123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        database </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;seatunnel&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access_log&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        fields </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;date&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;datetime&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;hostname&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;uri&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http_code&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;request_time&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;data_size&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;domain&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        username </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;username&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        password </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;password&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-seatunnel">Running seatunnel<a href="#running-seatunnel" class="hash-link" aria-label="Running seatunnelçš„ç›´æ¥é“¾æ¥" title="Running seatunnelçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬å°†ä¸Šè¿°å››éƒ¨åˆ†é…ç½®ç»„åˆæˆä¸ºæˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ <code>config/batch.conf</code>ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">vim</span><span class="token plain"> config/batch.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">spark </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.app.name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;seatunnel&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.instances </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.cores </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.memory </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1g&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    hdfs </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        path </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;hdfs://nomanode:8020/rowlog/accesslog&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table_name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access_log&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">format</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;text&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">filter </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ä½¿ç”¨æ­£åˆ™è§£æåŸå§‹æ—¥å¿—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    grok </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;raw_message&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pattern </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;%{IP:ha_ip}\\s%{NOTSPACE:domain}\\s%{IP:remote_addr}\\s%{NUMBER:request_time}s\\s\&quot;%{DATA:upstream_ip}\&quot;\\s\\[%{HTTPDATE:timestamp}\\]\\s\&quot;%{NOTSPACE:method}\\s%{DATA:url}\\s%{NOTSPACE:http_ver}\&quot;\\s%{NUMBER:status}\\s%{NUMBER:body_bytes_send}\\s%{DATA:referer}\\s%{NOTSPACE:cookie_info}\\s\&quot;%{DATA:user_agent}\&quot;\\s%{DATA:uid}\\s%{DATA:session_id}\\s\&quot;%{DATA:pool}\&quot;\\s\&quot;%{DATA:tag2}\&quot;\\s%{DATA:tag3}\\s%{DATA:tag4}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># å°†&quot;dd/MMM/yyyy:HH:mm:ss Z&quot;æ ¼å¼çš„æ•°æ®è½¬æ¢ä¸º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># &quot;yyyy/MM/dd HH:mm:ss&quot;æ ¼å¼çš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">date</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;timestamp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        target_field </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;datetime&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_time_format </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;dd/MMM/yyyy:HH:mm:ss Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        target_time_format </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;yyyy/MM/dd HH:mm:ss&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ä½¿ç”¨SQLç­›é€‰å…³æ³¨çš„å­—æ®µï¼Œå¹¶å¯¹å­—æ®µè¿›è¡Œå¤„ç†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ç”šè‡³å¯ä»¥é€šè¿‡è¿‡æ»¤æ¡ä»¶è¿‡æ»¤æ‰ä¸å…³å¿ƒçš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sql </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table_name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sql </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;select substring(date, 1, 10) as date, datetime, hostname, url, http_code, float(request_time), int(data_size), domain from access&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">output </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    clickhouse </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">host</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;your.clickhouse.host:8123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        database </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;seatunnel&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;access_log&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        fields </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;date&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;datetime&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;hostname&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;uri&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;http_code&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;request_time&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;data_size&quot;</span><span class="token plain">, </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;domain&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        username </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;username&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        password </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;password&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œå‘½ä»¤ï¼ŒæŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œè¿è¡Œ Seatunnelï¼Œå³å¯å°†æ•°æ®å†™å…¥ ClickHouseã€‚è¿™é‡Œæˆ‘ä»¬ä»¥æœ¬åœ°æ¨¡å¼ä¸ºä¾‹ã€‚</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/start-seatunnel.sh --config config/batch.conf -e client -m </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;local[2]&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Conclusionçš„ç›´æ¥é“¾æ¥" title="Conclusionçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Seatunnel å°† HDFS ä¸­çš„ Nginx æ—¥å¿—æ–‡ä»¶å¯¼å…¥ ClickHouse ä¸­ã€‚ä»…é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¾¿å¯å¿«é€Ÿå®Œæˆæ•°æ®çš„å¯¼å…¥ï¼Œæ— éœ€ç¼–å†™ä»»ä½•ä»£ç ã€‚é™¤äº†æ”¯æŒ HDFS æ•°æ®æºä¹‹å¤–ï¼ŒSeatunnel åŒæ ·æ”¯æŒå°†æ•°æ®ä» Kafka ä¸­å®æ—¶è¯»å–å¤„ç†å†™å…¥ ClickHouse ä¸­ã€‚æˆ‘ä»¬çš„ä¸‹ä¸€ç¯‡æ–‡ç« å°†ä¼šä»‹ç»ï¼Œå¦‚ä½•å°† Hive ä¸­çš„æ•°æ®å¿«é€Ÿå¯¼å…¥ ClickHouse ä¸­ã€‚</p><p>å½“ç„¶ï¼ŒSeatunnel ä¸ä»…ä»…æ˜¯ ClickHouse æ•°æ®å†™å…¥çš„å·¥å…·ï¼Œåœ¨ Elasticsearch ä»¥åŠ Kafkaç­‰ æ•°æ®æºçš„å†™å…¥ä¸ŠåŒæ ·å¯ä»¥æ‰®æ¼”ç›¸å½“é‡è¦çš„è§’è‰²ã€‚</p><p>å¸Œæœ›äº†è§£ Seatunnel å’Œ ClickHouseã€Elasticsearchã€Kafka ç»“åˆä½¿ç”¨çš„æ›´å¤šåŠŸèƒ½å’Œæ¡ˆä¾‹ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥å®˜ç½‘ <a href="https://seatunnel.apache.org/" target="_blank" rel="noopener noreferrer">https://seatunnel.apache.org/</a></p><p>-- Power by <a href="https://github.com/InterestingLab" target="_blank" rel="noopener noreferrer">InterestingLab</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/hdfs">HDFS</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/click-house">ClickHouse</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="ClickHouseæ˜¯é¢å‘OLAPçš„åˆ†å¸ƒå¼åˆ—å¼DBMSã€‚æˆ‘ä»¬éƒ¨é—¨ç›®å‰å·²ç»æŠŠæ‰€æœ‰æ•°æ®åˆ†æç›¸å…³çš„æ—¥å¿—æ•°æ®å­˜å‚¨è‡³ClickHouseè¿™ä¸ªä¼˜ç§€çš„æ•°æ®ä»“åº“ä¹‹ä¸­ï¼Œå½“å‰æ—¥æ•°æ®é‡è¾¾åˆ°äº†300äº¿ã€‚"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/hive-to-clickhouse">å¦‚ä½•å¿«é€Ÿåœ°æŠŠ Hive ä¸­çš„æ•°æ®å¯¼å…¥ ClickHouse</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-30T00:00:00.000Z" itemprop="datePublished">2021å¹´12æœˆ30æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 6 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p>ClickHouseæ˜¯é¢å‘OLAPçš„åˆ†å¸ƒå¼åˆ—å¼DBMSã€‚æˆ‘ä»¬éƒ¨é—¨ç›®å‰å·²ç»æŠŠæ‰€æœ‰æ•°æ®åˆ†æç›¸å…³çš„æ—¥å¿—æ•°æ®å­˜å‚¨è‡³ClickHouseè¿™ä¸ªä¼˜ç§€çš„æ•°æ®ä»“åº“ä¹‹ä¸­ï¼Œå½“å‰æ—¥æ•°æ®é‡è¾¾åˆ°äº†300äº¿ã€‚</p><p>åœ¨ä¹‹å‰çš„æ–‡ç«  <a href="/zh-CN/blog/page/i18n/zh-CN/docusaurus-plugin-content-blog/current/2021-12-30-hdfs-to-clickhouse.mdtent-blog/current/2021-12-30-hdfs-to-clickhouse.md">å¦‚ä½•å¿«é€Ÿåœ°æŠŠHDFSä¸­çš„æ•°æ®å¯¼å…¥ClickHouse</a> ä¸­æˆ‘ä»¬æåˆ°è¿‡ä½¿ç”¨ Seatunnel <a href="https://github.com/apache/incubator-seatunnel" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel</a> å¯¹HDFSä¸­çš„æ•°æ®ç»è¿‡å¾ˆç®€å•çš„æ“ä½œå°±å¯ä»¥å°†æ•°æ®å†™å…¥ClickHouseã€‚HDFSä¸­çš„æ•°æ®ä¸€èˆ¬æ˜¯éç»“æ„åŒ–çš„æ•°æ®ï¼Œé‚£ä¹ˆé’ˆå¯¹å­˜å‚¨åœ¨Hiveä¸­çš„ç»“æ„åŒ–æ•°æ®ï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿ</p><p><img loading="lazy" src="/zh-CN/assets/images/hive-logo-c9aedd90b5ea9668c87fe25ad92a8e6c.png" width="962" height="518" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hive-to-clickhouse">Hive to ClickHouse<a href="#hive-to-clickhouse" class="hash-link" aria-label="Hive to ClickHouseçš„ç›´æ¥é“¾æ¥" title="Hive to ClickHouseçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å‡å®šæˆ‘ä»¬çš„æ•°æ®å·²ç»å­˜å‚¨åœ¨Hiveä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¯»å–Hiveè¡¨ä¸­çš„æ•°æ®å¹¶ç­›é€‰å‡ºæˆ‘ä»¬å…³å¿ƒçš„å­—æ®µï¼Œæˆ–è€…å¯¹å­—æ®µè¿›è¡Œè½¬æ¢ï¼Œæœ€åå°†å¯¹åº”çš„å­—æ®µå†™å…¥ClickHouseçš„è¡¨ä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hive-schema">Hive Schema<a href="#hive-schema" class="hash-link" aria-label="Hive Schemaçš„ç›´æ¥é“¾æ¥" title="Hive Schemaçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬åœ¨Hiveä¸­å­˜å‚¨çš„æ•°æ®è¡¨ç»“æ„å¦‚ä¸‹ï¼Œå­˜å‚¨çš„æ˜¯å¾ˆå¸¸è§çš„Nginxæ—¥å¿—</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CREATE TABLE `nginx_msg_detail`(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `hostname` string,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `domain` string,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `remote_addr` string,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `request_time` float,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `datetime` string,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `url` string,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `status` int,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `data_size` int,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `referer` string,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `cookie_info` string,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `user_agent` string,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `minute` string)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> PARTITIONED BY (</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `date` string,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   `hour` string)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse-schema">ClickHouse Schema<a href="#clickhouse-schema" class="hash-link" aria-label="ClickHouse Schemaçš„ç›´æ¥é“¾æ¥" title="ClickHouse Schemaçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬çš„ClickHouseå»ºè¡¨è¯­å¥å¦‚ä¸‹ï¼Œæˆ‘ä»¬çš„è¡¨æŒ‰æ—¥è¿›è¡Œåˆ†åŒº</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CREATE TABLE cms.cms_msg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    date Date,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    datetime DateTime,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    url String,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    request_time Float32,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    status String,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    hostname String,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    domain String,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    remote_addr String,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    data_size Int32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">) ENGINE = MergeTree PARTITION BY date ORDER BY (date, hostname) SETTINGS index_granularity = 16384</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="seatunnel-with-clickhouse">Seatunnel with ClickHouse<a href="#seatunnel-with-clickhouse" class="hash-link" aria-label="Seatunnel with ClickHouseçš„ç›´æ¥é“¾æ¥" title="Seatunnel with ClickHouseçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ¥ä¸‹æ¥ä¼šç»™å¤§å®¶ä»‹ç»ï¼Œæˆ‘ä»¬å¦‚ä½•é€šè¿‡ Seatunnel å°†Hiveä¸­çš„æ•°æ®å†™å…¥ClickHouseä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="seatunnel">Seatunnel<a href="#seatunnel" class="hash-link" aria-label="Seatunnelçš„ç›´æ¥é“¾æ¥" title="Seatunnelçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><a href="https://github.com/apache/incubator-seatunnel" target="_blank" rel="noopener noreferrer">Seatunnel</a> æ˜¯ä¸€ä¸ªéå¸¸æ˜“ç”¨ï¼Œé«˜æ€§èƒ½ï¼Œèƒ½å¤Ÿåº”å¯¹æµ·é‡æ•°æ®çš„å®æ—¶æ•°æ®å¤„ç†äº§å“ï¼Œå®ƒæ„å»ºåœ¨Sparkä¹‹ä¸Šã€‚Seatunnel æ‹¥æœ‰ç€éå¸¸ä¸°å¯Œçš„æ’ä»¶ï¼Œæ”¯æŒä»Kafkaã€HDFSã€Kuduä¸­è¯»å–æ•°æ®ï¼Œè¿›è¡Œå„ç§å„æ ·çš„æ•°æ®å¤„ç†ï¼Œå¹¶å°†ç»“æœå†™å…¥ClickHouseã€Elasticsearchæˆ–è€…Kafkaä¸­ã€‚</p><p>Seatunnelçš„ç¯å¢ƒå‡†å¤‡ä»¥åŠå®‰è£…æ­¥éª¤è¿™é‡Œå°±ä¸ä¸€ä¸€èµ˜è¿°äº†ï¼Œå…·ä½“å®‰è£…æ­¥éª¤å¯ä»¥å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç« æˆ–è€…è®¿é—® <a href="/zh-CN/docs/intro/about">Seatunnel Docs</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="seatunnel-pipeline">Seatunnel Pipeline<a href="#seatunnel-pipeline" class="hash-link" aria-label="Seatunnel Pipelineçš„ç›´æ¥é“¾æ¥" title="Seatunnel Pipelineçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬ä»…éœ€è¦ç¼–å†™ä¸€ä¸ªSeatunnel Pipelineçš„é…ç½®æ–‡ä»¶å³å¯å®Œæˆæ•°æ®çš„å¯¼å…¥ã€‚</p><p>é…ç½®æ–‡ä»¶åŒ…æ‹¬å››ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯Sparkã€Inputã€filterå’ŒOutputã€‚</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="spark">Spark<a href="#spark" class="hash-link" aria-label="Sparkçš„ç›´æ¥é“¾æ¥" title="Sparkçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>è¿™ä¸€éƒ¨åˆ†æ˜¯Sparkçš„ç›¸å…³é…ç½®ï¼Œä¸»è¦é…ç½®Sparkæ‰§è¡Œæ—¶æ‰€éœ€çš„èµ„æºå¤§å°ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">spark {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // è¿™ä¸ªé…ç½®å¿…éœ€å¡«å†™</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.sql.catalogImplementation = &quot;hive&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.app.name = &quot;seatunnel&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.instances = 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.cores = 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.memory = &quot;1g&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="input">Input<a href="#input" class="hash-link" aria-label="Inputçš„ç›´æ¥é“¾æ¥" title="Inputçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>è¿™ä¸€éƒ¨åˆ†å®šä¹‰æ•°æ®æºï¼Œå¦‚ä¸‹æ˜¯ä»Hiveæ–‡ä»¶ä¸­è¯»å–textæ ¼å¼æ•°æ®çš„é…ç½®æ¡ˆä¾‹ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    hive {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pre_sql = &quot;select * from access.nginx_msg_detail&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table_name = &quot;access_log&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>çœ‹ï¼Œå¾ˆç®€å•çš„ä¸€ä¸ªé…ç½®å°±å¯ä»¥ä»Hiveä¸­è¯»å–æ•°æ®äº†ã€‚å…¶ä¸­<code>pre_sql</code>æ˜¯ä»Hiveä¸­è¯»å–æ•°æ®SQLï¼Œ<code>table_name</code>æ˜¯å°†è¯»å–åçš„æ•°æ®ï¼Œæ³¨å†Œæˆä¸ºSparkä¸­ä¸´æ—¶è¡¨çš„è¡¨åï¼Œå¯ä¸ºä»»æ„å­—æ®µã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»ä¿è¯hiveçš„metastoreæ˜¯åœ¨æœåŠ¡çŠ¶æ€ã€‚</p><p>åœ¨Clusterã€Clientã€Localæ¨¡å¼ä¸‹è¿è¡Œæ—¶ï¼Œå¿…é¡»æŠŠ<code>hive-site.xml</code>æ–‡ä»¶ç½®äºæäº¤ä»»åŠ¡èŠ‚ç‚¹çš„$HADOOP_CONFç›®å½•ä¸‹</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="filter">Filter<a href="#filter" class="hash-link" aria-label="Filterçš„ç›´æ¥é“¾æ¥" title="Filterçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>åœ¨Filteréƒ¨åˆ†ï¼Œè¿™é‡Œæˆ‘ä»¬é…ç½®ä¸€ç³»åˆ—çš„è½¬åŒ–ï¼Œæˆ‘ä»¬è¿™é‡ŒæŠŠä¸éœ€è¦çš„minuteå’Œhourå­—æ®µä¸¢å¼ƒã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨è¯»å–Hiveçš„æ—¶å€™é€šè¿‡<code>pre_sql</code>ä¸è¯»å–è¿™äº›å­—æ®µ</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">filter {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    remove {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field = [&quot;minute&quot;, &quot;hour&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="output">Output<a href="#output" class="hash-link" aria-label="Outputçš„ç›´æ¥é“¾æ¥" title="Outputçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>æœ€åæˆ‘ä»¬å°†å¤„ç†å¥½çš„ç»“æ„åŒ–æ•°æ®å†™å…¥ClickHouse</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">output {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    clickhouse {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        host = &quot;your.clickhouse.host:8123&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        database = &quot;seatunnel&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table = &quot;nginx_log&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        fields = [&quot;date&quot;, &quot;datetime&quot;, &quot;hostname&quot;, &quot;url&quot;, &quot;http_code&quot;, &quot;request_time&quot;, &quot;data_size&quot;, &quot;domain&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        username = &quot;username&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        password = &quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-seatunnel">Running Seatunnel<a href="#running-seatunnel" class="hash-link" aria-label="Running Seatunnelçš„ç›´æ¥é“¾æ¥" title="Running Seatunnelçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬å°†ä¸Šè¿°å››éƒ¨åˆ†é…ç½®ç»„åˆæˆä¸ºæˆ‘ä»¬çš„é…ç½®æ–‡ä»¶<code>config/batch.conf</code>ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">vim config/batch.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">spark {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.app.name = &quot;seatunnel&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.instances = 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.cores = 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.memory = &quot;1g&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // è¿™ä¸ªé…ç½®å¿…éœ€å¡«å†™</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.sql.catalogImplementation = &quot;hive&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    hive {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pre_sql = &quot;select * from access.nginx_msg_detail&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table_name = &quot;access_log&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">filter {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    remove {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field = [&quot;minute&quot;, &quot;hour&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">output {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    clickhouse {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        host = &quot;your.clickhouse.host:8123&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        database = &quot;seatunnel&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table = &quot;access_log&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        fields = [&quot;date&quot;, &quot;datetime&quot;, &quot;hostname&quot;, &quot;uri&quot;, &quot;http_code&quot;, &quot;request_time&quot;, &quot;data_size&quot;, &quot;domain&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        username = &quot;username&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        password = &quot;password&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œå‘½ä»¤ï¼ŒæŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œè¿è¡Œ Seatunnelï¼Œå³å¯å°†æ•°æ®å†™å…¥ClickHouseã€‚è¿™é‡Œæˆ‘ä»¬ä»¥æœ¬åœ°æ¨¡å¼ä¸ºä¾‹ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/start-seatunnel.sh --config config/batch.conf -e client -m &#x27;local[2]&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Conclusionçš„ç›´æ¥é“¾æ¥" title="Conclusionçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Seatunnel å°†Hiveä¸­çš„æ•°æ®å¯¼å…¥ClickHouseä¸­ã€‚ä»…ä»…é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¾¿å¯å¿«é€Ÿå®Œæˆæ•°æ®çš„å¯¼å…¥ï¼Œæ— éœ€ç¼–å†™ä»»ä½•ä»£ç ï¼Œååˆ†ç®€å•ã€‚</p><p>å¸Œæœ›äº†è§£ Seatunnel ä¸ClickHouseã€Elasticsearchã€Kafkaã€Hadoopç»“åˆä½¿ç”¨çš„æ›´å¤šåŠŸèƒ½å’Œæ¡ˆä¾‹ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥å®˜ç½‘ <a href="https://seatunnel.apache.org/" target="_blank" rel="noopener noreferrer">https://seatunnel.apache.org/</a></p><p>-- Power by <a href="https://github.com/InterestingLab" target="_blank" rel="noopener noreferrer">InterestingLab</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/hive">Hive</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/click-house">ClickHouse</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="è¯´åˆ°æ•°æ®å†™å…¥ Elasticsearchï¼Œæœ€å…ˆæƒ³åˆ°çš„è‚¯å®šæ˜¯Logstashã€‚Logstashå› ä¸ºå…¶ç®€å•ä¸Šæ‰‹ã€å¯æ‰©å±•ã€å¯ä¼¸ç¼©ç­‰ä¼˜ç‚¹è¢«å¹¿å¤§ç”¨æˆ·æ¥å—ã€‚ä½†æ˜¯å°ºæœ‰æ‰€çŸ­ï¼Œå¯¸æœ‰æ‰€é•¿ï¼ŒLogstashè‚¯å®šä¹Ÿæœ‰å®ƒæ— æ³•é€‚ç”¨çš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ï¼š"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/zh-CN/blog/spark-execute-elasticsearch">å¦‚ä½•ä½¿ç”¨ Spark å¿«é€Ÿå°†æ•°æ®å†™å…¥ Elasticsearch</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-12-30T00:00:00.000Z" itemprop="datePublished">2021å¹´12æœˆ30æ—¥</time> Â· <!-- -->é˜…è¯»éœ€ 8 åˆ†é’Ÿ</div></header><div class="markdown" itemprop="articleBody"><p>è¯´åˆ°æ•°æ®å†™å…¥ Elasticsearchï¼Œæœ€å…ˆæƒ³åˆ°çš„è‚¯å®šæ˜¯Logstashã€‚Logstashå› ä¸ºå…¶ç®€å•ä¸Šæ‰‹ã€å¯æ‰©å±•ã€å¯ä¼¸ç¼©ç­‰ä¼˜ç‚¹è¢«å¹¿å¤§ç”¨æˆ·æ¥å—ã€‚ä½†æ˜¯å°ºæœ‰æ‰€çŸ­ï¼Œå¯¸æœ‰æ‰€é•¿ï¼ŒLogstashè‚¯å®šä¹Ÿæœ‰å®ƒæ— æ³•é€‚ç”¨çš„åº”ç”¨åœºæ™¯ï¼Œæ¯”å¦‚ï¼š</p><ul><li>æµ·é‡æ•°æ®ETL</li><li>æµ·é‡æ•°æ®èšåˆ</li><li>å¤šæºæ•°æ®å¤„ç†</li></ul><p>ä¸ºäº†æ»¡è¶³è¿™äº›åœºæ™¯ï¼Œå¾ˆå¤šåŒå­¦éƒ½ä¼šé€‰æ‹©Sparkï¼Œå€ŸåŠ©Sparkç®—å­è¿›è¡Œæ•°æ®å¤„ç†ï¼Œæœ€åå°†å¤„ç†ç»“æœå†™å…¥Elasticsearchã€‚</p><p>æˆ‘ä»¬éƒ¨é—¨ä¹‹å‰åˆ©ç”¨Sparkå¯¹Nginxæ—¥å¿—è¿›è¡Œåˆ†æï¼Œç»Ÿè®¡æˆ‘ä»¬çš„WebæœåŠ¡è®¿é—®æƒ…å†µï¼Œå°†Nginxæ—¥å¿—æ¯åˆ†é’Ÿèšåˆä¸€æ¬¡æœ€åå°†ç»“æœå†™å…¥Elasticsearchï¼Œç„¶ååˆ©ç”¨Kibanaé…ç½®å®æ—¶ç›‘æ§Dashboardã€‚Elasticsearchå’ŒKibanaéƒ½å¾ˆæ–¹ä¾¿ã€å®ç”¨ï¼Œä½†æ˜¯éšç€ç±»ä¼¼éœ€æ±‚è¶Šæ¥è¶Šå¤šï¼Œå¦‚ä½•å¿«é€Ÿé€šè¿‡Sparkå°†æ•°æ®å†™å…¥Elasticsearchæˆä¸ºäº†æˆ‘ä»¬çš„ä¸€å¤§é—®é¢˜ã€‚</p><p>ä»Šå¤©ç»™å¤§å®¶æ¨èä¸€æ¬¾èƒ½å¤Ÿå®ç°æ•°æ®å¿«é€Ÿå†™å…¥çš„é»‘ç§‘æŠ€ Seatunnel <a href="https://github.com/apache/incubator-seatunnel" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-seatunnel</a> ä¸€ä¸ªéå¸¸æ˜“ç”¨ï¼Œé«˜æ€§èƒ½ï¼Œèƒ½å¤Ÿåº”å¯¹æµ·é‡æ•°æ®çš„å®æ—¶æ•°æ®å¤„ç†äº§å“ï¼Œå®ƒæ„å»ºåœ¨Sparkä¹‹ä¸Šï¼Œç®€å•æ˜“ç”¨ï¼Œçµæ´»é…ç½®ï¼Œæ— éœ€å¼€å‘ã€‚</p><p><img loading="lazy" src="/zh-CN/assets/images/wd-struct-fd963482dc80fdee6e4930107709bd28.png" width="818" height="466" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-to-elasticsearch">Kafka to Elasticsearch<a href="#kafka-to-elasticsearch" class="hash-link" aria-label="Kafka to Elasticsearchçš„ç›´æ¥é“¾æ¥" title="Kafka to Elasticsearchçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å’ŒLogstashä¸€æ ·ï¼ŒSeatunnelåŒæ ·æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®è¾“å…¥ï¼Œè¿™é‡Œæˆ‘ä»¬ä»¥æœ€å¸¸è§çš„Kakfaä½œä¸ºè¾“å…¥æºä¸ºä¾‹ï¼Œè®²è§£å¦‚ä½•ä½¿ç”¨ Seatunnel å°†æ•°æ®å¿«é€Ÿå†™å…¥Elasticsearch</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-sample">Log Sample<a href="#log-sample" class="hash-link" aria-label="Log Sampleçš„ç›´æ¥é“¾æ¥" title="Log Sampleçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>åŸå§‹æ—¥å¿—æ ¼å¼å¦‚ä¸‹:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">127.0.0.1 elasticsearch.cn 114.250.140.241 0.001s &quot;127.0.0.1:80&quot; [26/Oct/2018:21:54:32 +0800] &quot;GET /article HTTP/1.1&quot; 200 123 &quot;-&quot; - &quot;Dalvik/2.1.0 (Linux; U; Android 7.1.1; OPPO R11 Build/NMF26X)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="elasticsearch-document">Elasticsearch Document<a href="#elasticsearch-document" class="hash-link" aria-label="Elasticsearch Documentçš„ç›´æ¥é“¾æ¥" title="Elasticsearch Documentçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬æƒ³è¦ç»Ÿè®¡ï¼Œä¸€åˆ†é’Ÿæ¯ä¸ªåŸŸåçš„è®¿é—®æƒ…å†µï¼Œèšåˆå®Œçš„æ•°æ®æœ‰ä»¥ä¸‹å­—æ®µ:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">domain String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">hostname String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">status int</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">datetime String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">count int</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="seatunnel-with-elasticsearch">Seatunnel with Elasticsearch<a href="#seatunnel-with-elasticsearch" class="hash-link" aria-label="Seatunnel with Elasticsearchçš„ç›´æ¥é“¾æ¥" title="Seatunnel with Elasticsearchçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ¥ä¸‹æ¥ä¼šç»™å¤§å®¶è¯¦ç»†ä»‹ç»ï¼Œæˆ‘ä»¬å¦‚ä½•é€šè¿‡ Seatunnel è¯»å–Kafkaä¸­çš„æ•°æ®ï¼Œå¯¹æ•°æ®è¿›è¡Œè§£æä»¥åŠèšåˆï¼Œæœ€åå°†å¤„ç†ç»“æœå†™å…¥Elasticsearchä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="seatunnel">Seatunnel<a href="#seatunnel" class="hash-link" aria-label="Seatunnelçš„ç›´æ¥é“¾æ¥" title="Seatunnelçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><a href="https://github.com/apache/incubator-seatunnel" target="_blank" rel="noopener noreferrer">Seatunnel</a> åŒæ ·æ‹¥æœ‰ç€éå¸¸ä¸°å¯Œçš„æ’ä»¶ï¼Œæ”¯æŒä»Kafkaã€HDFSã€Hiveä¸­è¯»å–æ•°æ®ï¼Œè¿›è¡Œå„ç§å„æ ·çš„æ•°æ®å¤„ç†ï¼Œå¹¶å°†ç»“æœå†™å…¥Elasticsearchã€Kuduæˆ–è€…Kafkaä¸­ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Prerequisitesçš„ç›´æ¥é“¾æ¥" title="Prerequisitesçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…seatunnelï¼Œå®‰è£…ååˆ†ç®€å•ï¼Œæ— éœ€é…ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡</p><ol><li>å‡†å¤‡Sparkç¯å¢ƒ</li><li>å®‰è£… Seatunnel</li><li>é…ç½® Seatunnel</li></ol><p>ä»¥ä¸‹æ˜¯ç®€æ˜“æ­¥éª¤ï¼Œå…·ä½“å®‰è£…å¯ä»¥å‚ç…§ <a href="/zh-CN/docs/quick-start">Quick Start</a></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd /usr/local</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wget https</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">//archive.apache.org/dist/spark/spark</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">2.2.0/spark</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">2.2.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">hadoop2.7.tgz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tar </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">xvf https</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">//archive.apache.org/dist/spark/spark</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">2.2.0/spark</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">2.2.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">hadoop2.7.tgz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wget https</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">//github.com/InterestingLab/seatunnel/releases/download/v1.1.1/seatunnel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">1.1.1.zip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">unzip seatunnel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">1.1.1.zip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd seatunnel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">1.1.1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vim config/seatunnel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">env.sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># æŒ‡å®šSparkå®‰è£…è·¯å¾„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SPARK_HOME=$</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">SPARK_HOME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">/usr/local/spark</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">2.2.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">hadoop2.7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="seatunnel-pipeline">Seatunnel Pipeline<a href="#seatunnel-pipeline" class="hash-link" aria-label="Seatunnel Pipelineçš„ç›´æ¥é“¾æ¥" title="Seatunnel Pipelineçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ä¸Logstashä¸€æ ·ï¼Œæˆ‘ä»¬ä»…éœ€è¦ç¼–å†™ä¸€ä¸ªSeatunnel Pipelineçš„é…ç½®æ–‡ä»¶å³å¯å®Œæˆæ•°æ®çš„å¯¼å…¥ï¼Œç›¸ä¿¡äº†è§£Logstashçš„æœ‹å‹å¯ä»¥å¾ˆå¿«å…¥æ‰‹ Seatunnel é…ç½®ã€‚</p><p>é…ç½®æ–‡ä»¶åŒ…æ‹¬å››ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯Sparkã€Inputã€filterå’ŒOutputã€‚</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="spark">Spark<a href="#spark" class="hash-link" aria-label="Sparkçš„ç›´æ¥é“¾æ¥" title="Sparkçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>è¿™ä¸€éƒ¨åˆ†æ˜¯Sparkçš„ç›¸å…³é…ç½®ï¼Œä¸»è¦é…ç½®Sparkæ‰§è¡Œæ—¶æ‰€éœ€çš„èµ„æºå¤§å°ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">spark {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.app.name = &quot;seatunnel&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.instances = 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.cores = 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.memory = &quot;1g&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.streaming.batchDuration = 5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="input">Input<a href="#input" class="hash-link" aria-label="Inputçš„ç›´æ¥é“¾æ¥" title="Inputçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>è¿™ä¸€éƒ¨åˆ†å®šä¹‰æ•°æ®æºï¼Œå¦‚ä¸‹æ˜¯ä»Kafkaä¸­è¯»å–æ•°æ®çš„é…ç½®æ¡ˆä¾‹ï¼Œ</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kafkaStream {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    topics = &quot;seatunnel-es&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    consumer.bootstrap.servers = &quot;localhost:9092&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    consumer.group.id = &quot;seatunnel_es_group&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    consumer.rebalance.max.retries = 100</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="filter">Filter<a href="#filter" class="hash-link" aria-label="Filterçš„ç›´æ¥é“¾æ¥" title="Filterçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>åœ¨Filteréƒ¨åˆ†ï¼Œè¿™é‡Œæˆ‘ä»¬é…ç½®ä¸€ç³»åˆ—çš„è½¬åŒ–ï¼ŒåŒ…æ‹¬æ­£åˆ™è§£æå°†æ—¥å¿—è¿›è¡Œæ‹†åˆ†ã€æ—¶é—´è½¬æ¢å°†HTTPDATEè½¬åŒ–ä¸ºElasticsearchæ”¯æŒçš„æ—¥æœŸæ ¼å¼ã€å¯¹Numberç±»å‹çš„å­—æ®µè¿›è¡Œç±»å‹è½¬æ¢ä»¥åŠé€šè¿‡SQLè¿›è¡Œæ•°æ®èšåˆ</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">filter </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># ä½¿ç”¨æ­£åˆ™è§£æåŸå§‹æ—¥å¿—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># æœ€å¼€å§‹æ•°æ®éƒ½åœ¨raw_messageå­—æ®µä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    grok </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field = &quot;raw_message&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pattern = &#x27;%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">NOTSPACE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">hostname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\s%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">NOTSPACE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">domain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\s%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">IP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">remote_addr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\s%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">NUMBER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">request_time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">s\\s\&quot;%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">DATA</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">upstream_ip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\&quot;\\s\\</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">HTTPDATE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">timestamp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">\\s\&quot;%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">NOTSPACE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">method</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\s%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">DATA</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\s%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">NOTSPACE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">http_ver</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\&quot;\\s%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">NUMBER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\s%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">NUMBER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">body_bytes_send</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\s%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">DATA</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">referer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\s%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">NOTSPACE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">cookie_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">\\s\&quot;%</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">DATA</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">user_agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># å°†&quot;dd/MMM/yyyy:HH:mm:ss Z&quot;æ ¼å¼çš„æ•°æ®è½¬æ¢ä¸º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Elasticsearchä¸­æ”¯æŒçš„æ ¼å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    date </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field = &quot;timestamp&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        target_field = &quot;datetime&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_time_format = &quot;dd/MMM/yyyy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">HH</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">mm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">ss Z&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        target_time_format = &quot;yyyy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">MM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">dd&#x27;T&#x27;HH</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">mm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">ss.SSS+08</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">00&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">## åˆ©ç”¨SQLå¯¹æ•°æ®è¿›è¡Œèšåˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sql </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table_name = &quot;access_log&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sql = &quot;select domain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> hostname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> int(status)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> count(</span><span class="token important">*)</span><span class="token plain"> from access_log group by domain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> hostname</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> status</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> datetime&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="output">Output<a href="#output" class="hash-link" aria-label="Outputçš„ç›´æ¥é“¾æ¥" title="Outputçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>æœ€åæˆ‘ä»¬å°†å¤„ç†å¥½çš„ç»“æ„åŒ–æ•°æ®å†™å…¥Elasticsearchã€‚</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">output </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    elasticsearch </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        hosts = </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;localhost:9200&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        index = &quot;seatunnel</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">$</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        es.batch.size.entries = 100000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        index_time_format = &quot;yyyy.MM.dd&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-seatunnel">Running Seatunnel<a href="#running-seatunnel" class="hash-link" aria-label="Running Seatunnelçš„ç›´æ¥é“¾æ¥" title="Running Seatunnelçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>æˆ‘ä»¬å°†ä¸Šè¿°å››éƒ¨åˆ†é…ç½®ç»„åˆæˆä¸ºæˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ <code>config/batch.conf</code>ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">vim config/batch.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">spark {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.app.name = &quot;seatunnel&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.instances = 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.cores = 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.executor.memory = &quot;1g&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  spark.streaming.batchDuration = 5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    kafkaStream {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        topics = &quot;seatunnel-es&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        consumer.bootstrap.servers = &quot;localhost:9092&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        consumer.group.id = &quot;seatunnel_es_group&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        consumer.rebalance.max.retries = 100</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">filter {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # ä½¿ç”¨æ­£åˆ™è§£æåŸå§‹æ—¥å¿—</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # æœ€å¼€å§‹æ•°æ®éƒ½åœ¨raw_messageå­—æ®µä¸­</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    grok {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field = &quot;raw_message&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        pattern = &#x27;%{IP:hostname}\\s%{NOTSPACE:domain}\\s%{IP:remote_addr}\\s%{NUMBER:request_time}s\\s\&quot;%{DATA:upstream_ip}\&quot;\\s\\[%{HTTPDATE:timestamp}\\]\\s\&quot;%{NOTSPACE:method}\\s%{DATA:url}\\s%{NOTSPACE:http_ver}\&quot;\\s%{NUMBER:status}\\s%{NUMBER:body_bytes_send}\\s%{DATA:referer}\\s%{NOTSPACE:cookie_info}\\s\&quot;%{DATA:user_agent}&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # å°†&quot;dd/MMM/yyyy:HH:mm:ss Z&quot;æ ¼å¼çš„æ•°æ®è½¬æ¢ä¸º</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    # Elasticsearchä¸­æ”¯æŒçš„æ ¼å¼</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    date {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_field = &quot;timestamp&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        target_field = &quot;datetime&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        source_time_format = &quot;dd/MMM/yyyy:HH:mm:ss Z&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        target_time_format = &quot;yyyy-MM-dd&#x27;T&#x27;HH:mm:00.SSS+08:00&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ## åˆ©ç”¨SQLå¯¹æ•°æ®è¿›è¡Œèšåˆ</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sql {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        table_name = &quot;access_log&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sql = &quot;select domain, hostname, status, datetime, count(*) from access_log group by domain, hostname, status, datetime&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">output {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    elasticsearch {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        hosts = [&quot;localhost:9200&quot;]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        index = &quot;seatunnel-${now}&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        es.batch.size.entries = 100000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        index_time_format = &quot;yyyy.MM.dd&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œå‘½ä»¤ï¼ŒæŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œè¿è¡Œ Seatunnelï¼Œå³å¯å°†æ•°æ®å†™å…¥Elasticsearchã€‚è¿™é‡Œæˆ‘ä»¬ä»¥æœ¬åœ°æ¨¡å¼ä¸ºä¾‹ã€‚</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./bin/start-seatunnel.sh --config config/batch.conf -e client -m &#x27;local[2]&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€åï¼Œå†™å…¥Elasticsearchä¸­çš„æ•°æ®å¦‚ä¸‹ï¼Œå†é…ä¸ŠKibanaå°±å¯ä»¥å®ç°WebæœåŠ¡çš„å®æ—¶ç›‘æ§äº†^_^.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&quot;_source&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;domain&quot;: &quot;elasticsearch.cn&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;hostname&quot;: &quot;localhost&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;status&quot;: &quot;200&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;datetime&quot;: &quot;2018-11-26T21:54:00.000+08:00&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;count&quot;: 26</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Conclusionçš„ç›´æ¥é“¾æ¥" title="Conclusionçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•é€šè¿‡ Seatunnel å°†Kafkaä¸­çš„æ•°æ®å†™å…¥Elasticsearchä¸­ã€‚ä»…ä»…é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¾¿å¯å¿«é€Ÿè¿è¡Œä¸€ä¸ªSpark Applicationï¼Œå®Œæˆæ•°æ®çš„å¤„ç†ã€å†™å…¥ï¼Œæ— éœ€ç¼–å†™ä»»ä½•ä»£ç ï¼Œååˆ†ç®€å•ã€‚</p><p>å½“æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­æœ‰é‡åˆ°Logstashæ— æ³•æ”¯æŒçš„åœºæ™¯æˆ–è€…Logstahæ€§èƒ½æ— æ³•è¾¾åˆ°é¢„æœŸçš„æƒ…å†µä¸‹ï¼Œéƒ½å¯ä»¥å°è¯•ä½¿ç”¨ Seatunnel è§£å†³é—®é¢˜ã€‚</p><p>å¸Œæœ›äº†è§£ Seatunnel ä¸Elasticsearchã€Kafkaã€Hadoopç»“åˆä½¿ç”¨çš„æ›´å¤šåŠŸèƒ½å’Œæ¡ˆä¾‹ï¼Œå¯ä»¥ç›´æ¥è¿›å…¥å®˜ç½‘ <a href="https://seatunnel.apache.org/" target="_blank" rel="noopener noreferrer">https://seatunnel.apache.org/</a></p><p><strong>æˆ‘ä»¬è¿‘æœŸä¼šå†å‘å¸ƒä¸€ç¯‡ã€Šå¦‚ä½•ç”¨Sparkå’ŒElasticsearchåšäº¤äº’å¼æ•°æ®åˆ†æã€‹ï¼Œæ•¬è¯·æœŸå¾….</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contract-us">Contract us<a href="#contract-us" class="hash-link" aria-label="Contract usçš„ç›´æ¥é“¾æ¥" title="Contract usçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>é‚®ä»¶åˆ—è¡¨ : <strong><a href="mailto:dev@seatunnel.apache.org" target="_blank" rel="noopener noreferrer">dev@seatunnel.apache.org</a></strong>. å‘é€ä»»æ„å†…å®¹è‡³ <code>dev-subscribe@seatunnel.apache.org</code>ï¼Œ æŒ‰ç…§å›å¤è®¢é˜…é‚®ä»¶åˆ—è¡¨ã€‚</li><li>Slack: å‘é€ <code>Request to join SeaTunnel slack</code> é‚®ä»¶åˆ°é‚®ä»¶åˆ—è¡¨ (<code>dev@seatunnel.apache.org</code>), æˆ‘ä»¬ä¼šé‚€è¯·ä½ åŠ å…¥ï¼ˆåœ¨æ­¤ä¹‹å‰è¯·ç¡®è®¤å·²ç»æ³¨å†ŒSlackï¼‰.</li><li><a href="https://space.bilibili.com/1542095008" target="_blank" rel="noopener noreferrer">bilibili Bç«™ è§†é¢‘</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>æ ‡ç­¾ï¼š</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/spark">Spark</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/kafka">Kafka</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/zh-CN/blog/tags/elasticsearch">Elasticsearch</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="åšæ–‡åˆ—è¡¨åˆ†é¡µå¯¼èˆª"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-CN/blog"><div class="pagination-nav__label">è¾ƒæ–°çš„åšæ–‡</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-CN/blog/page/3"><div class="pagination-nav__label">è¾ƒæ—§çš„åšæ–‡</div></a></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">SeaTunnel</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/faq">FAQ</a></li><li class="footer__item"><a href="https://github.com/apache/incubator-seatunnel/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">ç‰ˆæœ¬<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾åŒº</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/apache/incubator-seatunnel" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-seatunnel/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/incubator-seatunnel/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pull Requests<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">è®¢é˜…é‚®ä»¶ç»„</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/community/contribution_guide/subscribe">How to Subscribe</a></li><li class="footer__item"><a href="mailto:dev-subscribe@seatunnel.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">è®¢é˜…é‚®ä»¶<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lists.apache.org/list.html?dev@seatunnel.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">é‚®ä»¶å½’æ¡£<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div style="margin-top: 20px;background: #f4f8fa">
                <img style="height:50px;margin-bottom: 10px" alt="Apache Software Foundation" src="/zh-CN/image/incubator-logo.svg">
                <p style="color: #999999;font-weight:400;text-align:left">Apache SeaTunnel is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
                <div style="border-top: 1px solid #ccc;min-height: 60px;line-height: 20px;text-align: center;font-family: Avenir-Medium;font-size: 14px;color: #999;display: flex;align-items: center;"><span>Copyright Â© 2021-2022 The Apache Software Foundation. Apache SeaTunnel, SeaTunnel, and its feather logo are trademarks of The Apache Software Foundation.</span></div>
                <div style="text-align: center;">
                    <a href="https://twitter.com/asfseatunnel?s=21" target="_blank" title="Twitter"><svg t="1644553365083" class="icon" viewBox="0 0 1260 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7015" width="25" height="25"><path d="M1259.846921 121.148242c-46.524504 20.728739-96.273478 34.547899-148.325646 40.536201 53.434084-31.784067 94.430924-82.454319 113.777747-142.797982-50.209613 29.480874-105.486251 51.13089-164.447999 62.646857A257.584528 257.584528 0 0 0 872.449815 0.000276c-142.797982 0-258.418284 115.620302-258.418284 258.418284 0 20.268101 2.303193 40.075563 6.909579 58.961748C405.82286 306.32498 215.579097 203.602561 87.98219 47.446058c-22.110655 38.233008-35.008538 82.454319-35.008538 129.900099 0 89.824537 45.603227 168.593747 115.159663 215.118251-42.378756-1.381916-81.99368-12.897882-117.002217-32.244706v3.224471c0 125.293713 88.90326 229.398049 207.287393 253.351259-21.650017 5.988302-44.681949 9.212773-68.17452 9.212773-16.582991 0-32.705344-1.842555-48.827697-4.606387 32.705344 102.722419 128.518184 177.345881 241.374653 179.649074-88.442621 69.095798-199.917175 110.553277-321.06514 110.553277-20.728739 0-41.457479-1.381916-61.72558-3.685109 114.238386 73.241546 250.126788 116.08094 396.149241 116.08094 475.379089 0 735.179289-393.846048 735.179289-735.179289 0-11.055328-0.460639-22.571294-0.921277-33.626621 51.13089-36.851092 94.891562-82.454319 129.439461-134.045848z" fill="#909094" p-id="7016"></path></svg></a> 
                    <a href="https://apacheseatunnel.slack.com" target="_blank" title="Slack" style="margin-left: 20px;"><svg t="1644553076784" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3088" width="23" height="23"><path d="M215.125333 647.04a107.861333 107.861333 0 0 1-107.52 107.648A107.861333 107.861333 0 0 1 0 647.04a107.818667 107.818667 0 0 1 107.605333-107.52h107.52v107.52z m54.229334 0a107.818667 107.818667 0 0 1 107.562666-107.52 107.818667 107.818667 0 0 1 107.562667 107.52v269.354667A107.861333 107.861333 0 0 1 376.917333 1024a107.861333 107.861333 0 0 1-107.562666-107.605333v-269.354667zM376.917333 215.125333a107.861333 107.861333 0 0 1-107.562666-107.52A107.861333 107.861333 0 0 1 376.917333 0a107.861333 107.861333 0 0 1 107.562667 107.605333v107.52H376.917333z m0 54.229334a107.861333 107.861333 0 0 1 107.562667 107.562666 107.861333 107.861333 0 0 1-107.562667 107.562667H107.605333A107.861333 107.861333 0 0 1 0 376.917333a107.861333 107.861333 0 0 1 107.605333-107.562666h269.312z m431.872 107.562666a107.861333 107.861333 0 0 1 107.605334-107.562666A107.861333 107.861333 0 0 1 1024 376.917333a107.861333 107.861333 0 0 1-107.605333 107.562667h-107.605334V376.917333z m-54.101333 0a107.861333 107.861333 0 0 1-107.648 107.562667 107.818667 107.818667 0 0 1-107.52-107.562667V107.605333A107.818667 107.818667 0 0 1 647.04 0a107.861333 107.861333 0 0 1 107.648 107.605333v269.312z m-107.648 431.872a107.861333 107.861333 0 0 1 107.648 107.605334A107.861333 107.861333 0 0 1 647.04 1024a107.818667 107.818667 0 0 1-107.52-107.605333v-107.605334h107.52z m0-54.101333a107.818667 107.818667 0 0 1-107.52-107.648 107.776 107.776 0 0 1 107.52-107.52h269.354667A107.818667 107.818667 0 0 1 1024 647.04a107.861333 107.861333 0 0 1-107.605333 107.648h-269.354667z" p-id="3089" fill="#909094"></path></svg></a> 
                    <a href="https://lists.apache.org/list.html?dev@seatunnel.apache.org" target="_blank" title="Mailing list" style="margin-left: 20px;"><svg t="1644553175467" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5304" width="26" height="26"><path d="M853.333333 170.666667H170.666667c-46.933333 0-85.333333 38.4-85.333334 85.333333v512c0 46.933333 38.4 85.333333 85.333334 85.333333h682.666666c46.933333 0 85.333333-38.4 85.333334-85.333333V256c0-46.933333-38.4-85.333333-85.333334-85.333333z m0 170.666666l-341.333333 213.333334-341.333333-213.333334V256l341.333333 213.333333 341.333333-213.333333v85.333333z" p-id="5305" fill="#909094"></path></svg></a> 
                    <a href="https://github.com/apache/incubator-seatunnel" target="_blank" title="GitHub" style="margin-left: 20px;"><svg t="1644553223000" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6156" width="23" height="23"><path d="M512 12.64c-282.752 0-512 229.216-512 512 0 226.208 146.72 418.144 350.144 485.824 25.6 4.736 35.008-11.104 35.008-24.64 0-12.192-0.48-52.544-0.704-95.328-142.464 30.976-172.512-60.416-172.512-60.416-23.296-59.168-56.832-74.912-56.832-74.912-46.464-31.776 3.52-31.136 3.52-31.136 51.392 3.616 78.464 52.768 78.464 52.768 45.664 78.272 119.776 55.648 148.992 42.56 4.576-33.088 17.856-55.68 32.512-68.48-113.728-12.928-233.28-56.864-233.28-253.024 0-55.904 20-101.568 52.768-137.44-5.312-12.896-22.848-64.96 4.96-135.488 0 0 43.008-13.76 140.832 52.48a491.296 491.296 0 0 1 128.16-17.248c43.488 0.192 87.328 5.888 128.256 17.248 97.728-66.24 140.64-52.48 140.64-52.48 27.872 70.528 10.336 122.592 5.024 135.488 32.832 35.84 52.704 81.536 52.704 137.44 0 196.64-119.776 239.936-233.792 252.64 18.368 15.904 34.72 47.04 34.72 94.816 0 68.512-0.608 123.648-0.608 140.512 0 13.632 9.216 29.6 35.168 24.576C877.472 942.624 1024 750.784 1024 524.64c0-282.784-229.248-512-512-512z" p-id="6157" fill="#909094"></path></svg></a> 
                </div>
            <div></div></div></div></div></div></footer></div>
<script src="/zh-CN/assets/js/runtime~main.86d1b3c4.js"></script>
<script src="/zh-CN/assets/js/main.4aca1a7b.js"></script>
</body>
</html>