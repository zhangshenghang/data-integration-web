"use strict";(self.webpackChunkseatunnel_website=self.webpackChunkseatunnel_website||[]).push([[50734],{15680:(e,n,a)=>{a.d(n,{xA:()=>p,yg:()=>m});var t=a(96540);function l(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function r(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){l(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function i(e,n){if(null==e)return{};var a,t,l=function(e,n){if(null==e)return{};var a,t,l={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(l[a]=e[a]);return l}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=t.createContext({}),u=function(e){var n=t.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):r(r({},n),e)),a},p=function(e){var n=u(e.components);return t.createElement(s.Provider,{value:n},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},g=t.forwardRef((function(e,n){var a=e.components,l=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=u(a),g=l,m=c["".concat(s,".").concat(g)]||c[g]||d[g]||o;return a?t.createElement(m,r(r({ref:n},p),{},{components:a})):t.createElement(m,r({ref:n},p))}));function m(e,n){var a=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var o=a.length,r=new Array(o);r[0]=g;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i[c]="string"==typeof e?e:l,r[1]=i;for(var u=2;u<o;u++)r[u]=a[u];return t.createElement.apply(null,r)}return t.createElement.apply(null,a)}g.displayName="MDXCreateElement"},19365:(e,n,a)=>{a.d(n,{A:()=>r});var t=a(96540),l=a(20053);const o={tabItem:"tabItem_Ymn6"};function r(e){let{children:n,hidden:a,className:r}=e;return t.createElement("div",{role:"tabpanel",className:(0,l.A)(o.tabItem,r),hidden:a},n)}},11470:(e,n,a)=>{a.d(n,{A:()=>w});var t=a(58168),l=a(96540),o=a(20053),r=a(23104),i=a(56347),s=a(57485),u=a(31682),p=a(89466);function c(e){return function(e){return l.Children.map(e,(e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:n,label:a,attributes:t,default:l}}=e;return{value:n,label:a,attributes:t,default:l}}))}function d(e){const{values:n,children:a}=e;return(0,l.useMemo)((()=>{const e=n??c(a);return function(e){const n=(0,u.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function g(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:a}=e;const t=(0,i.W6)(),o=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,s.aZ)(o),(0,l.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(t.location.search);n.set(o,e),t.replace({...t.location,search:n.toString()})}),[o,t])]}function y(e){const{defaultValue:n,queryString:a=!1,groupId:t}=e,o=d(e),[r,i]=(0,l.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!g({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=a.find((e=>e.default))??a[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:o}))),[s,u]=m({queryString:a,groupId:t}),[c,y]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,o]=(0,p.Dv)(a);return[t,(0,l.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:t}),f=(()=>{const e=s??c;return g({value:e,tabValues:o})?e:null})();(0,l.useLayoutEffect)((()=>{f&&i(f)}),[f]);return{selectedValue:r,selectValue:(0,l.useCallback)((e=>{if(!g({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),y(e)}),[u,y,o]),tabValues:o}}var f=a(92303);const h={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:n,block:a,selectedValue:i,selectValue:s,tabValues:u}=e;const p=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),d=e=>{const n=e.currentTarget,a=p.indexOf(n),t=u[a].value;t!==i&&(c(n),s(t))},g=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=p.indexOf(e.currentTarget)+1;n=p[a]??p[0];break}case"ArrowLeft":{const a=p.indexOf(e.currentTarget)-1;n=p[a]??p[p.length-1];break}}n?.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":a},n)},u.map((e=>{let{value:n,label:a,attributes:r}=e;return l.createElement("li",(0,t.A)({role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,key:n,ref:e=>p.push(e),onKeyDown:g,onClick:d},r,{className:(0,o.A)("tabs__item",h.tabItem,r?.className,{"tabs__item--active":i===n})}),a??n)})))}function v(e){let{lazy:n,children:a,selectedValue:t}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===t));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},o.map(((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==t}))))}function k(e){const n=y(e);return l.createElement("div",{className:(0,o.A)("tabs-container",h.tabList)},l.createElement(b,(0,t.A)({},e,n)),l.createElement(v,(0,t.A)({},e,n)))}function w(e){const n=(0,f.A)();return l.createElement(k,(0,t.A)({key:String(n)},e))}},23977:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>u,toc:()=>c});var t=a(58168),l=(a(96540),a(15680)),o=a(11470),r=a(19365);const i={sidebar_position:2},s="Set Up with Locally",u={unversionedId:"start/local",id:"version-2.2.0-beta/start/local",title:"Set Up with Locally",description:"Let's take an application that randomly generates data in memory, processes it through SQL, and finally outputs it to the console as an example.",source:"@site/versioned_docs/version-2.2.0-beta/start/local.mdx",sourceDirName:"start",slug:"/start/local",permalink:"/zh-CN/docs/2.2.0-beta/start/local",draft:!1,editUrl:"https://github.com/apache/incubator-seatunnel-website/edit/main/versioned_docs/version-2.2.0-beta/start/local.mdx",tags:[],version:"2.2.0-beta",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docs",previous:{title:"Quick Start",permalink:"/zh-CN/docs/2.2.0-beta/category/start"},next:{title:"Set Up with Docker",permalink:"/zh-CN/docs/2.2.0-beta/start/docker"}},p={},c=[{value:"Step 1: Prepare the environment",id:"step-1-prepare-the-environment",level:2},{value:"Step 2: Download SeaTunnel",id:"step-2-download-seatunnel",level:2},{value:"Step 3: Install connectors plugin",id:"step-3-install-connectors-plugin",level:2},{value:"Step 4: Configure SeaTunnel Application",id:"step-4-configure-seatunnel-application",level:2},{value:"Step 5: Run SeaTunnel Application",id:"step-5-run-seatunnel-application",level:2},{value:"Explore More Build-in Examples",id:"explore-more-build-in-examples",level:2},{value:"What&#39;s More",id:"whats-more",level:2}],d={toc:c},g="wrapper";function m(e){let{components:n,...a}=e;return(0,l.yg)(g,(0,t.A)({},d,a,{components:n,mdxType:"MDXLayout"}),(0,l.yg)("h1",{id:"set-up-with-locally"},"Set Up with Locally"),(0,l.yg)("blockquote",null,(0,l.yg)("p",{parentName:"blockquote"},"Let's take an application that randomly generates data in memory, processes it through SQL, and finally outputs it to the console as an example.")),(0,l.yg)("h2",{id:"step-1-prepare-the-environment"},"Step 1: Prepare the environment"),(0,l.yg)("p",null,"Before you getting start the local run, you need to make sure you already have installed the following software which SeaTunnel required:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"https://www.java.com/en/download/"},"Java")," (Java 8 or 11, other versions greater than Java 8 can theoretically work as well) installed and ",(0,l.yg)("inlineCode",{parentName:"li"},"JAVA_HOME")," set."),(0,l.yg)("li",{parentName:"ul"},"Download the engine, you can choose and download one of them from below as your favour, you could see more information about ",(0,l.yg)("a",{parentName:"li",href:"/zh-CN/docs/2.2.0-beta/faq#why-i-should-install-computing-engine-like-spark-or-flink"},"why we need engine in SeaTunnel"),(0,l.yg)("ul",{parentName:"li"},(0,l.yg)("li",{parentName:"ul"},"Spark: Please ",(0,l.yg)("a",{parentName:"li",href:"https://spark.apache.org/downloads.html"},"download Spark")," first(",(0,l.yg)("strong",{parentName:"li"},"required version >= 2 and version < 3.x "),"). For more information you could\nsee ",(0,l.yg)("a",{parentName:"li",href:"https://spark.apache.org/docs/latest/spark-standalone.html#installing-spark-standalone-to-a-cluster"},"Getting Started: standalone")),(0,l.yg)("li",{parentName:"ul"},"Flink: Please ",(0,l.yg)("a",{parentName:"li",href:"https://flink.apache.org/downloads.html"},"download Flink")," first(",(0,l.yg)("strong",{parentName:"li"},"required version >= 1.12.0 and version < 1.14.x "),"). For more information you could see ",(0,l.yg)("a",{parentName:"li",href:"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/deployment/resource-providers/standalone/overview/"},"Getting Started: standalone"))))),(0,l.yg)("h2",{id:"step-2-download-seatunnel"},"Step 2: Download SeaTunnel"),(0,l.yg)("p",null,"Enter the ",(0,l.yg)("a",{parentName:"p",href:"https://seatunnel.apache.org/download"},"seatunnel download page")," and download the latest version of distribute\npackage ",(0,l.yg)("inlineCode",{parentName:"p"},"seatunnel-<version>-bin.tar.gz")),(0,l.yg)("p",null,"Or you can download it by terminal"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-shell"},'export version="2.2.0-beta"\nwget "https://archive.apache.org/dist/incubator/seatunnel/${version}/apache-seatunnel-incubating-${version}-bin.tar.gz"\ntar -xzvf "apache-seatunnel-incubating-${version}-bin.tar.gz"\n')),(0,l.yg)("h2",{id:"step-3-install-connectors-plugin"},"Step 3: Install connectors plugin"),(0,l.yg)("p",null,"Since 2.2.0-beta, the binary package does not provide connector dependencies by default, so when using it for the first time, we need to execute the following command to install the connector: (Of course, you can also manually download the connector from ","[Apache Maven Repository]","(",(0,l.yg)("a",{parentName:"p",href:"https://repo."},"https://repo.")," maven.apache.org/maven2/org/apache/seatunnel/ to download, then manually move to the corresponding subdirectory of the connectors directory, for example, flink plugins should be placed in the flink directory, spark plugins should be placed in the spark directory)."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"sh bin/install_plugin.sh 2.2.0-beta\n")),(0,l.yg)("p",null,"If you need to specify the version of the connector, take 2.2.0-beta as an example, we need to execute"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"sh bin/install_plugin.sh 2.2.0-beta\n")),(0,l.yg)("p",null,"Usually we don't need all the connector plugins, so you can specify the plugins you need by configuring ",(0,l.yg)("inlineCode",{parentName:"p"},"config/plugin_config"),", for example, you only need the ",(0,l.yg)("inlineCode",{parentName:"p"},"flink-console")," plugin, then you can modify plugin.properties as"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-plugin_config"},"--flink-connectors--\nseatunnel-connector-flink-console\n--end--\n")),(0,l.yg)("p",null,"If we want our sample application to work properly, we need to add the following plugins"),(0,l.yg)(o.A,{groupId:"engine-type",defaultValue:"spark",values:[{label:"Spark",value:"spark"},{label:"Flink",value:"flink"}],mdxType:"Tabs"},(0,l.yg)(r.A,{value:"spark",mdxType:"TabItem"},(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-plugin_config"},"--spark-connectors--\nseatunnel-connector-spark-fake\nseatunnel-connector-spark-console\n--end--\n"))),(0,l.yg)(r.A,{value:"flink",mdxType:"TabItem"},(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-plugin_config"},"--flink-connectors--\nseatunnel-connector-flink-fake\nseatunnel-connector-flink-console\n--end--\n")))),(0,l.yg)("p",null,"You can find all supported connectors and corresponding plugin_config configuration names under ",(0,l.yg)("inlineCode",{parentName:"p"},"${SEATUNNEL_HOME}/connectors/plugins-mapping.properties"),"."),(0,l.yg)("admonition",{type:"tip"},(0,l.yg)("p",{parentName:"admonition"},"If you want to install the connector plugin by manually downloading the connector, you need to pay special attention to the following")),(0,l.yg)("p",null,"The connectors directory contains the following subdirectories, if they do not exist, you need to create them manually"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"flink\nflink-sql\nseatunnel\nspark\n")),(0,l.yg)("p",null,"If you want to manually install the connector plugin of the flink engine, you need to download the connector plugin of the flink engine you need, and then put them in the flink directory. Similarly, if you want to manually install the connector plugin of the spark engine, you need to download the connector plugin of the spark engine you need, and then put them in the spark directory"),(0,l.yg)("h2",{id:"step-4-configure-seatunnel-application"},"Step 4: Configure SeaTunnel Application"),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Configure SeaTunnel"),": Change the setting in ",(0,l.yg)("inlineCode",{parentName:"p"},"config/seatunnel-env.sh"),", it is base on the path your engine install at ",(0,l.yg)("a",{parentName:"p",href:"#prepare"},"prepare step two"),".\nChange ",(0,l.yg)("inlineCode",{parentName:"p"},"SPARK_HOME")," if you using Spark as your engine, or change ",(0,l.yg)("inlineCode",{parentName:"p"},"FLINK_HOME")," if you're using Flink."),(0,l.yg)("p",null,"Edit ",(0,l.yg)("inlineCode",{parentName:"p"},"config/flink(spark).streaming.conf.template"),", which determines the way and logic of data input, processing, and output after seatunnel is started.\nThe following is an example of the configuration file, which is the same as the example application mentioned above."),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-hocon"},'######\n###### This config file is a demonstration of streaming processing in SeaTunnel config\n######\n\nenv {\n  # You can set flink configuration here\n  execution.parallelism = 1\n\n  # For Spark\n  #spark.app.name = "SeaTunnel"\n  #spark.executor.instances = 2\n  #spark.executor.cores = 1\n  #spark.executor.memory = "1g"\n  #spark.master = local\n}\n\nsource {\n    FakeSourceStream {\n      result_table_name = "fake"\n      field_name = "name,age"\n    }\n}\n\ntransform {\n    sql {\n      sql = "select name,age from fake"\n    }\n}\n\nsink {\n  ConsoleSink {}\n}\n\n')),(0,l.yg)("p",null,"More information about config please check ",(0,l.yg)("a",{parentName:"p",href:"../concept/config"},"config concept")),(0,l.yg)("h2",{id:"step-5-run-seatunnel-application"},"Step 5: Run SeaTunnel Application"),(0,l.yg)("p",null,"You could start the application by the following commands"),(0,l.yg)(o.A,{groupId:"engine-type",defaultValue:"spark",values:[{label:"Spark",value:"spark"},{label:"Flink",value:"flink"}],mdxType:"Tabs"},(0,l.yg)(r.A,{value:"spark",mdxType:"TabItem"},(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-shell"},'cd "apache-seatunnel-incubating-${version}"\n./bin/start-seatunnel-spark.sh \\\n--master local[4] \\\n--deploy-mode client \\\n--config ./config/spark.streaming.conf.template\n'))),(0,l.yg)(r.A,{value:"flink",mdxType:"TabItem"},(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-shell"},'cd "apache-seatunnel-incubating-${version}"\n./bin/start-seatunnel-flink.sh \\\n--config ./config/flink.streaming.conf.template\n')))),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"See The Output"),": When you run the command, you could see its output in your console or in Flink UI, You can think this\nis a sign that the command ran successfully or not."),(0,l.yg)(o.A,{groupId:"engine-type",defaultValue:"spark",values:[{label:"Spark",value:"spark"},{label:"Flink",value:"flink"}],mdxType:"Tabs"},(0,l.yg)(r.A,{value:"spark",mdxType:"TabItem"},"The SeaTunnel console will prints some logs as below:",(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-shell"},"Hello World, SeaTunnel\nHello World, SeaTunnel\nHello World, SeaTunnel\n...\nHello World, SeaTunnel\n"))),(0,l.yg)(r.A,{value:"flink",mdxType:"TabItem"},(0,l.yg)("p",null,"The content printed in the TaskManager Stdout log of ",(0,l.yg)("inlineCode",{parentName:"p"},"flink WebUI"),", is two columned record just like below(your\ncontent maybe different cause we use fake source to create data random):"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-shell"},"apache, 15\nseatunnel, 30\nincubator, 20\n...\ntopLevel, 20\n")))),(0,l.yg)("h2",{id:"explore-more-build-in-examples"},"Explore More Build-in Examples"),(0,l.yg)("p",null,"Our local quick start is using one of the build-in example in directory ",(0,l.yg)("inlineCode",{parentName:"p"},"config"),", and we provider more than one out-of-box\nexample you could and feel free to have a try and make your hands dirty. All you have to do is change the started command\noption value in ",(0,l.yg)("a",{parentName:"p",href:"#run-seaTunnel-application"},"running application")," to the configuration you want to run, we use batch\ntemplate in ",(0,l.yg)("inlineCode",{parentName:"p"},"config")," as examples:"),(0,l.yg)(o.A,{groupId:"engine-type",defaultValue:"spark",values:[{label:"Spark",value:"spark"},{label:"Flink",value:"flink"}],mdxType:"Tabs"},(0,l.yg)(r.A,{value:"spark",mdxType:"TabItem"},(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-shell"},'cd "apache-seatunnel-incubating-${version}"\n./bin/start-seatunnel-spark.sh \\\n--master local[4] \\\n--deploy-mode client \\\n--config ./config/spark.batch.conf.template\n'))),(0,l.yg)(r.A,{value:"flink",mdxType:"TabItem"},(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-shell"},'cd "apache-seatunnel-incubating-${version}"\n./bin/start-seatunnel-flink.sh \\\n--config ./config/flink.batch.conf.template\n')))),(0,l.yg)("h2",{id:"whats-more"},"What's More"),(0,l.yg)("p",null,"For now, you are already take a quick look about SeaTunnel, you could see ",(0,l.yg)("a",{parentName:"p",href:"/category/connector"},"connector")," to find all\nsource and sink SeaTunnel supported. Or see ",(0,l.yg)("a",{parentName:"p",href:"/zh-CN/docs/2.2.0-beta/deployment"},"deployment")," if you want to submit your application in other\nkind of your engine cluster."))}m.isMDXComponent=!0}}]);